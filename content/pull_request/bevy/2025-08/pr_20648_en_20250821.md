+++
title = "#20648 Improve `On` Terminology"
date = "2025-08-21T00:00:00"
draft = false
template = "pull_request_page.html"
in_search_index = true

[taxonomies]
list_display = ["show"]

[extra]
current_language = "en"
available_languages = {"en" = { name = "English", url = "/pull_request/bevy/2025-08/pr-20648-en-20250821" }, "zh-cn" = { name = "中文", url = "/pull_request/bevy/2025-08/pr-20648-zh-cn-20250821" }}
labels = ["A-ECS", "C-Code-Quality", "C-Usability"]
+++

# Title

## Basic Information
- **Title**: Improve `On` Terminology
- **PR Link**: https://github.com/bevyengine/bevy/pull/20648
- **Author**: cart
- **Status**: MERGED
- **Labels**: A-ECS, C-Code-Quality, C-Usability, S-Ready-For-Final-Review, M-Needs-Migration-Guide
- **Created**: 2025-08-19T02:09:02Z
- **Merged**: 2025-08-21T09:19:10Z
- **Merged By**: cart

## Description Translation
# Objective

Fixes #19263 (and expands on it)

Within `Observers`, we have started to distance ourselves from the "trigger" terminology. Specifically, we have renamed `Trigger` to `On`. I think this was a very good move, but we're currently in an awkward middle ground state. Users interact with `On` as if it were an event: `On<E>` exposes the event and derefs directly to it. I think we should embrace this mindset fully, in the interest of clarity.

## Solution

- Rename all `trigger: On<SomeEvent>` cases to `event: On<SomeEvent>`.
- Rename `On::target` to `On::entity`. This reads much better when writing `query.get(event.entity())` and pairs more effectively with the `EntityEvent` terminology.
- Rename `On::original_target` to `On::original_entity`, for the same reasons.
- Take advantage of the `Deref` behavior where appropriate

```rust
// Before
entity.observe(|trigger: On<Explode>| {
  println!("{} exploded!", trigger.target());
})

// After
entity.observe(|event: On<Explode>| {
  println!("{} exploded!", event.entity());
})
```

## The Story of This Pull Request

This PR addresses terminology inconsistencies in Bevy's observer system that were creating cognitive friction for developers. The core issue was that while the system had moved from "trigger" to "On" terminology, the parameter names and method names still reflected the old mental model, creating a disconnect between how developers interacted with the API and how it was conceptually designed.

The problem emerged from the evolution of Bevy's observer system. Initially designed around "triggers," the system was later refactored to use `On<E>` types that dereference directly to the underlying event. This created a situation where developers were working with what felt like event objects, but the parameter names (`trigger`) and method names (`target()`) didn't align with this mental model.

The solution approach was straightforward but comprehensive: align all terminology with the event-centric mental model. This involved renaming callback parameters from `trigger` to `event`, and method names from `target()` to `entity()` and `original_target()` to `original_entity()`. These changes make the code more intuitive - when developers see `event: On<Explode>`, they naturally expect to access `event.entity()` rather than `event.target()`.

The implementation required changes across 66 files in the codebase, demonstrating how foundational this terminology is to Bevy's ECS system. The changes were mostly mechanical but carefully executed to maintain consistency. Key technical aspects included:

1. **Parameter Renaming**: All observer callback parameters were renamed from `trigger` to `event`
2. **Method Renaming**: The `target()` method became `entity()`, and `original_target()` became `original_entity()`
3. **Deref Utilization**: The PR encouraged using the `Deref` behavior of `On<E>` to directly access event fields

The technical insights reveal that this change wasn't just about naming - it was about embracing the event-like nature of the `On` type. Since `On<E>` dereferences to `E`, it makes sense to treat it as the event itself rather than a "trigger" container. This alignment reduces cognitive load and makes code more readable.

The impact of these changes is significant for code clarity and developer experience. The new terminology:
- Makes observer callbacks more intuitive to read and write
- Better aligns with Entity-Component-System patterns where entities are central
- Reduces mental context switching between different naming conventions
- Provides more semantic meaning to method calls (`entity()` clearly indicates an Entity)

```rust
// Before: Confusing terminology mismatch
entity.observe(|trigger: On<Explode>| {
  println!("{} exploded!", trigger.target());
})

// After: Consistent event-centric terminology
entity.observe(|event: On<Explode>| {
  println!("{} exploded!", event.entity());
})
```

These changes also future-proof the API by establishing a consistent pattern that can be extended as the observer system evolves.

## Visual Representation

```mermaid
graph TB
    A[Observer Callbacks] --> B[On&lt;E&gt; Parameter]
    B --> C[Access Event Data]
    B --> D[Access Entity Information]
    C --> E[Direct Dereference]
    D --> F[entity() method]
    D --> G[original_entity() method]
```

## Key Files Changed

1. **`crates/bevy_ecs/src/observer/mod.rs`** (+44/-50)
   - Updated internal terminology in observer system tests and documentation
   - Changed method names from `target()` to `entity()` and `original_target()` to `original_entity()`

```rust
// Before:
assert_eq!(obs.target(), Entity::PLACEHOLDER);

// After:
assert_eq!(obs.entity(), Entity::PLACEHOLDER);
```

2. **`crates/bevy_core_widgets/src/core_button.rs`** (+44/-44)
   - Updated button interaction observers to use `event` parameter name
   - Changed from `trigger.target()` to `event.entity()`

```rust
// Before:
fn button_on_key_event(mut trigger: On<FocusedInput<KeyboardInput>>) {
    if let Ok((bstate, disabled)) = q_state.get(trigger.target())

// After:
fn button_on_key_event(mut event: On<FocusedInput<KeyboardInput>>) {
    if let Ok((bstate, disabled)) = q_state.get(event.entity())
```

3. **`examples/ui/core_widgets_observers.rs`** (+30/-30)
   - Updated UI widget examples to use new terminology
   - Changed all observer parameters from `trigger` to `event`

```rust
// Before:
fn button_on_add_pressed(trigger: On<Add, Pressed>, ...)

// After:
fn button_on_add_pressed(event: On<Add, Pressed>, ...)
```

4. **`crates/bevy_ecs/src/observer/system_param.rs`** (+14/-14)
   - Updated the core `On` type method names and documentation
   - Changed `target()` to `entity()` and `original_target()` to `original_entity()`

```rust
// Before:
pub fn target(&self) -> Entity {
    self.trigger.current_target.unwrap_or(Entity::PLACEHOLDER)
}

// After:
pub fn entity(&self) -> Entity {
    self.trigger.entity.unwrap_or(Entity::PLACEHOLDER)
}
```

5. **`crates/bevy_ecs/src/observer/distributed_storage.rs`** (+14/-14)
   - Updated documentation examples to use new terminology
   - Changed examples from `trigger` to `event` parameter names

```rust
// Before:
world.add_observer(|trigger: On<Speak>| {
    println!("{}", trigger.event().message);
});

// After:
world.add_observer(|event: On<Speak>| {
    println!("{}", event.message);
});
```

## Further Reading

- [Bevy Observer System Documentation](https://bevyengine.org/learn/books/observer-system/)
- [Entity-Component-System Pattern](https://en.wikipedia.org/wiki/Entity_component_system)
- [Rust Deref Trait](https://doc.rust-lang.org/std/ops/trait.Deref.html)
- [API Design Guidelines](https://rust-lang.github.io/api-guidelines/naming.html)