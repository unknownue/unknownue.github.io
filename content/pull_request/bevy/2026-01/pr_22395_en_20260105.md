+++
title = "#22395 Document that `configure_schedules()` only applies to currently existing schedules."
date = "2026-01-05T00:00:00"
draft = false
template = "pull_request_page.html"
in_search_index = true

[taxonomies]
list_display = ["show"]

[extra]
current_language = "en"
available_languages = {"en" = { name = "English", url = "/pull_request/bevy/2026-01/pr-22395-en-20260105" }, "zh-cn" = { name = "中文", url = "/pull_request/bevy/2026-01/pr-22395-zh-cn-20260105" }}
labels = ["C-Docs", "A-ECS", "D-Straightforward"]
+++

# Title

## Basic Information
- **Title**: Document that `configure_schedules()` only applies to currently existing schedules.
- **PR Link**: https://github.com/bevyengine/bevy/pull/22395
- **Author**: kpreid
- **Status**: MERGED
- **Labels**: C-Docs, A-ECS, S-Ready-For-Final-Review, X-Uncontroversial, D-Straightforward
- **Created**: 2026-01-05T20:38:14Z
- **Merged**: 2026-01-05T23:17:35Z
- **Merged By**: alice-i-cecile

## Description Translation

# Objective

Clarify how to use the `configure_schedules()` function. The existing documentation confused me, because I thought that

```rust
let world = World::new();
...
schedules.configure_schedules(...);
schedules.add_systems(...);
```

would have an effect instead of having no effect.

## Solution

Add documentation to `configure_schedules()` functions, specifying that they only mutate existing schedules.

## Testing

`cargo doc --open`

<img width="679" height="216" alt="Screenshot 2026-01-05 at 12 37 01" src="https://github.com/user-attachments/assets/ba168507-c3eb-42b7-adfb-a54a4fe3fbae" />


## The Story of This Pull Request

This pull request addresses a documentation gap in the Bevy game engine's ECS (Entity Component System) scheduling system. The issue was straightforward but important for developer experience: the `configure_schedules()` method's behavior wasn't fully documented, leading to incorrect assumptions about when and how it applies configuration changes.

The problem emerged when a developer tried to use `configure_schedules()` in what seemed like a logical order: configure the schedule settings first, then add systems. They expected the configuration to apply to subsequently added systems, but in reality, `configure_schedules()` only affects schedules that already exist at the time of the call. This temporal aspect of the API's behavior wasn't documented, creating a subtle trap for developers.

The solution approach was minimal and surgical: add clarifying documentation to two key methods. The developer identified that the documentation needed to explicitly state that the method only mutates currently present schedules and doesn't apply to schedules added in the future. This is a classic case of API documentation catching up with actual behavior.

The implementation itself is extremely simple - just adding doc comments to two functions. However, the value of this change is significant for preventing future confusion. Both `App::configure_schedules()` and `Schedules::configure_schedules()` received identical documentation clarifying their temporal behavior.

Technically, this documentation change helps developers understand an important aspect of Bevy's scheduling system: configuration is applied immediately to existing schedule objects. If you need to configure a schedule that will be added later, you must call `configure_schedules()` after adding that schedule. This temporal ordering constraint is now explicitly documented.

The impact of this change is purely in the documentation domain - no code behavior is altered. However, it improves the developer experience by preventing the exact confusion the PR author encountered. This type of documentation update is particularly valuable in systems like Bevy's ECS where scheduling and execution order are critical to correct game behavior.

## Visual Representation

```mermaid
graph TD
    A[Developer calls configure_schedules()] --> B{Does schedule exist?}
    B -->|Yes| C[Configuration applied]
    B -->|No| D[No effect - must call after adding]
    C --> E[Schedule runs with configured settings]
    D --> F[Schedule runs with default settings]
```

## Key Files Changed

### `crates/bevy_app/src/app.rs` (+3/-0)
This file contains the main `App` struct which is the primary entry point for Bevy applications. The change adds documentation to the `configure_schedules()` method to clarify its temporal behavior.

```rust
// File: crates/bevy_app/src/app.rs
// After (added documentation):
    /// Applies the provided [`ScheduleBuildSettings`] to all schedules.
    ///
    /// This mutates all currently present schedules, but does not apply to any custom schedules
    /// that might be added in the future.
    pub fn configure_schedules(
        &mut self,
        schedule_build_settings: ScheduleBuildSettings,
    ) {
        self.world_mut()
            .resource_mut::<Schedules>()
            .configure_schedules(schedule_build_settings);
    }
```

### `crates/bevy_ecs/src/schedule/schedule.rs` (+3/-0)
This file contains the `Schedules` struct which manages the collection of schedules in the ECS world. The change adds parallel documentation to the underlying `configure_schedules()` method.

```rust
// File: crates/bevy_ecs/src/schedule/schedule.rs
// After (added documentation):
    /// Applies the provided [`ScheduleBuildSettings`] to all schedules.
    ///
    /// This mutates all currently present schedules, but does not apply to schedules added
    /// in the future.
    pub fn configure_schedules(&mut self, schedule_build_settings: ScheduleBuildSettings) {
        for (_, schedule) in &mut self.inner {
            schedule.set_build_settings(schedule_build_settings.clone());
        }
    }
```

Both changes add the same essential clarification: the configuration only applies to schedules that exist at the time of the call. The `App::configure_schedules()` method delegates to `Schedules::configure_schedules()`, so both need the same documentation.

## Further Reading

- [Bevy Engine: Schedules and Systems](https://bevyengine.org/learn/book/getting-started/ecs/#systems) - Official documentation on Bevy's ECS system scheduling
- [Rust Documentation Guidelines](https://rust-lang.github.io/rfcs/1574-more-api-documentation-conventions.html) - Best practices for documenting Rust APIs
- [Temporal API Design Patterns](https://en.wikipedia.org/wiki/Temporal_isolation_(computer_science)) - Concepts around time-dependent behavior in APIs

# Full Code Diff
```diff
diff --git a/crates/bevy_app/src/app.rs b/crates/bevy_app/src/app.rs
index ef56ed42cb05b..b9c316f14d82e 100644
--- a/crates/bevy_app/src/app.rs
+++ b/crates/bevy_app/src/app.rs
@@ -1225,6 +1225,9 @@ impl App {
     }
 
     /// Applies the provided [`ScheduleBuildSettings`] to all schedules.
+    ///
+    /// This mutates all currently present schedules, but does not apply to any custom schedules
+    /// that might be added in the future.
     pub fn configure_schedules(
         &mut self,
         schedule_build_settings: ScheduleBuildSettings,
diff --git a/crates/bevy_ecs/src/schedule/schedule.rs b/crates/bevy_ecs/src/schedule/schedule.rs
index e31b048881061..c26fb16618926 100644
--- a/crates/bevy_ecs/src/schedule/schedule.rs
+++ b/crates/bevy_ecs/src/schedule/schedule.rs
@@ -133,6 +133,9 @@ impl Schedules {
     }
 
     /// Applies the provided [`ScheduleBuildSettings`] to all schedules.
+    ///
+    /// This mutates all currently present schedules, but does not apply to schedules added
+    /// in the future.
     pub fn configure_schedules(&mut self, schedule_build_settings: ScheduleBuildSettings) {
         for (_, schedule) in &mut self.inner {
             schedule.set_build_settings(schedule_build_settings.clone());
```