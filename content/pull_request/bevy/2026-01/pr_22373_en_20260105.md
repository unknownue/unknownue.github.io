+++
title = "#22373 Fixing Documentation Inconsistencies in Bevy's Bindless Material Example"
date = "2026-01-05T00:00:00"
draft = false
template = "pull_request_page.html"
in_search_index = true

[taxonomies]
list_display = ["show"]

[extra]
current_language = "en"
available_languages = {"en" = { name = "English", url = "/pull_request/bevy/2026-01/pr-22373-en-20260105" }, "zh-cn" = { name = "中文", url = "/pull_request/bevy/2026-01/pr-22373-zh-cn-20260105" }}
labels = ["C-Docs", "A-Rendering", "C-Examples", "D-Straightforward"]
+++

# Title: Fixing Documentation Inconsistencies in Bevy's Bindless Material Example

## Basic Information
- **Title**: Fix copy-pasting mistake in extended material bindless example
- **PR Link**: https://github.com/bevyengine/bevy/pull/22373
- **Author**: janhohenheim
- **Status**: MERGED
- **Labels**: C-Docs, A-Rendering, C-Examples, S-Ready-For-Final-Review, D-Straightforward
- **Created**: 2026-01-04T07:24:01Z
- **Merged**: 2026-01-05T02:31:22Z
- **Merged By**: alice-i-cecile

## Description Translation

### Objective
- The documentation contains inconsistencies, likely due to an accidental copy-paste error

### Solution
- Replace the incorrect documentation with the actual code
- Use the `#{MATERIAL_BIND_GROUP}` macro in the documentation to match the shader code
- Adjust the line formatting slightly

### Testing
- No runtime testing required since these are documentation changes
- Verified that the documentation now matches the actual shader code

## The Story of This Pull Request

This pull request addresses a documentation inconsistency in Bevy's extended material bindless example. The issue was straightforward but important for developers trying to understand the bindless material system.

The problem stemmed from what appeared to be a copy-paste error in the Rust documentation comments. The documentation was describing incorrect shader binding information, specifically mixing up the binding numbers and variable names. This kind of inconsistency can be particularly confusing for developers working with GPU programming, where binding numbers and group indices must match exactly between CPU and GPU code.

The developer identified two main issues in the documentation. First, the binding numbers in the documentation didn't match what was actually used in the shader. The documentation referenced binding 100, but the shader code uses binding 101 for one of the storage buffers. Second, the variable names in the documentation examples didn't match the actual variable names used in the shader.

The solution involved three specific changes. First, the documentation was updated to use the correct binding number (101 instead of 100). Second, the documentation now uses the `#{MATERIAL_BIND_GROUP}` macro, which ensures consistency with how the shader defines its binding groups. Third, a minor comment was updated to accurately describe what the example creates - a red-tinted checkerboard pattern instead of a Bevy logo.

From a technical perspective, this PR demonstrates good documentation practices for GPU programming. When documenting shader bindings, it's crucial that the documentation matches the actual shader code exactly, down to the specific binding indices and variable names. The use of the `#{MATERIAL_BIND_GROUP}` macro in the documentation is particularly smart because it ensures the documentation stays in sync with any changes to the material bind group definition.

The impact of this change is primarily on developer experience. For developers learning how to use Bevy's extended material system with bindless textures, having accurate documentation means less time spent debugging binding mismatches and more time understanding the actual concepts. The change also improves the example's educational value by providing a more accurate representation of what the code actually does.

## Visual Representation

```mermaid
graph TD
    A[Rust Documentation] -->|Was Inconsistent With| B[Shader Code]
    A -->|Now Matches| C[Shader Bindings]
    B -->|Uses| D[#{MATERIAL_BIND_GROUP} macro]
    C -->|Uses| D
    E[Before: Binding 100] -->|Changed To| F[After: Binding 101]
    G[Before: Mixed Variable Names] -->|Fixed To| H[After: Consistent Variable Names]
```

## Key Files Changed

### `examples/shader/extended_material_bindless.rs` (+6/-7)

This file contains an example demonstrating Bevy's extended material system with bindless textures. The changes fix documentation inconsistencies in the example's comments.

1. **Fixed binding number and variable name in documentation**:
   The documentation was incorrectly showing binding 100 and the wrong variable name. The shader actually uses binding 101 and a different variable name.

```rust
// Before:
// The `#[data(50, ExampleBindlessExtensionUniform, binding_array(101))]`
// attribute specifies that the plain old data
// [`ExampleBindlessExtensionUniform`] will be placed into an array with
// binding 100 and will occupy index 50 in the
// `ExampleBindlessExtendedMaterialIndices` structure. (See the shader for the
// definition of that structure.) That corresponds to the following shader
// declaration:
//
// ```wgsl
// @group(2) @binding(100) var<storage> example_extended_material_indices:
//     array<ExampleBindlessExtendedMaterialIndices>;
// ```

// After:
// The `#[data(50, ExampleBindlessExtensionUniform, binding_array(101))]`
// attribute specifies that the plain old data
// [`ExampleBindlessExtensionUniform`] will be placed into an array with
// binding 101 and that the index referencing it will be stored in slot 50 of the `ExampleBindlessExtendedMaterialIndices` structure. (See below or lookup the shader for the
// definition of that structure.) That corresponds to the following shader
// declaration:
//
// ```wgsl
// @group(#{MATERIAL_BIND_GROUP}) @binding(101)
// var<storage> example_extended_material: array<ExampleBindlessExtendedMaterial>;
// ```
```

2. **Updated shader example to use MATERIAL_BIND_GROUP macro**:
   Changed the hardcoded group index to use the `#{MATERIAL_BIND_GROUP}` macro for consistency with the shader code.

```rust
// Before:
// @group(2) @binding(100) var<storage> example_extended_material_indices:
//     array<ExampleBindlessExtendedMaterialIndices>;
// ```

// After:
// @group(#{MATERIAL_BIND_GROUP}) @binding(100)
// var<storage> example_extended_material_indices: array<ExampleBindlessExtendedMaterialIndices>;
```

3. **Fixed inaccurate comment about the created object**:
   Updated the comment to accurately describe what the example creates.

```rust
// Before:
// Create a gray sphere, modulated with a red-tinted Bevy logo.

// After:
// Create a gray sphere, modulated with a red-tinted checkerboard pattern.
```

## Further Reading

1. [WebGPU Shader Language (WGSL) Specification](https://www.w3.org/TR/WGSL/) - The official WGSL specification for understanding shader syntax and semantics
2. [Bevy's Material System Documentation](https://bevyengine.org/learn/advanced-topics/materials/) - Official Bevy documentation on materials
3. [Bindless Textures in Graphics Programming](https://www.khronos.org/blog/improving-shader-performance-and-flexibility-with-bindless-resources) - Khronos Group article on bindless resource benefits
4. [Rust Documentation Comments Guide](https://doc.rust-lang.org/rustdoc/how-to-write-documentation.html) - Official Rust documentation on writing effective documentation comments
5. [Bevy's Extended Material System](https://github.com/bevyengine/bevy/tree/main/examples/shader) - More examples of Bevy's material system in the repository