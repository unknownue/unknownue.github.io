+++
title = "#22442 Remove 0.18 release content from main repo"
date = "2026-01-09T00:00:00"
draft = false
template = "pull_request_page.html"
in_search_index = false

[extra]
current_language = "zh-cn"
available_languages = {"en" = { name = "English", url = "/pull_request/bevy/2026-01/pr-22442-en-20260109" }, "zh-cn" = { name = "中文", url = "/pull_request/bevy/2026-01/pr-22442-zh-cn-20260109" }}
labels = ["C-Docs", "D-Trivial", "S-Blocked", "A-Meta"]
+++

# Title

## Basic Information
- **Title**: Remove 0.18 release content from main repo
- **PR Link**: https://github.com/bevyengine/bevy/pull/22442
- **Author**: alice-i-cecile
- **Status**: MERGED
- **Labels**: C-Docs, D-Trivial, S-Blocked, A-Meta
- **Created**: 2026-01-09T00:24:42Z
- **Merged**: 2026-01-09T01:28:39Z
- **Merged By**: cart

## Description Translation
**目标**

@cart 正在将发布说明内容转移到 `bevy-website` 仓库。我们不应该有两个数据源。

注意：此工作完成前此PR被阻塞！

**解决方案**

删除 release-0.18.0 分支上旧的发布说明 / 迁移指南。

发布说明上仍有进行中的工作；相关工作在 https://github.com/bevyengine/bevy-website/issues/2320 中跟踪。

## The Story of This Pull Request

这个Pull Request处理的是一个简单的项目维护问题：在软件项目中管理文档的单一数据源。

**问题和背景**
Bevy 0.18版本发布后，其发布说明和迁移指南最初保留在主代码仓库的`release-content`目录下。然而，项目维护者（@cart）决定将这些内容转移到专门的`bevy-website`仓库中。这就产生了一个问题：相同的信息存在于两个位置，违反了“单一数据源”原则。在软件开发中，维护多个数据副本会导致信息不同步、更新负担增加以及潜在的混淆。用户可能不知道哪个来源是最新或权威的。因此，从主仓库中移除这些内容，将`bevy-website`作为唯一官方来源，是一个直接的解决方案。

值得注意的是，这个PR被标记为“S-Blocked”，意味着它依赖于`bevy-website`仓库中相关迁移工作的完成。这是一个明智的工程决策，确保在移除内容之前，新的目的地已经准备就绪，避免了信息丢失的空窗期。相关跟踪工作记录在Issue #2320中。

**解决方案方法**
解决方案是直截了当的：删除主仓库中`release-content`目录下所有与0.18版本相关的内容。这包括87个文件，主要是Markdown格式的迁移指南（`migration-guides/`）和发布说明（`release-notes/`）。没有复杂的逻辑或架构变更，只是一个清理操作。开发者选择了最直接的方法——删除文件，而不是移动或重命名，因为目标是将这些内容完全从当前代码库中分离出去。

**实现细节**
实现非常简单：执行了87个文件的删除操作。每个文件都是一个独立的Markdown文档，具有特定的Front Matter（如标题、关联的PR链接）和内容主体。例如，迁移指南`assets_mesh_try_functions.md`详细说明了在0.18版本中，当`Assets<Mesh>`可能包含`RenderAssetUsages::RENDER_WORLD`专用的网格时，应如何将一系列`Mesh`方法替换为它们的`try_*`版本。发布说明`automatic_directional_navigation.md`则介绍了UI元素自动方向导航的新功能。这些文件被整体删除，其内容将仅在`bevy-website`仓库中可用。

**技术考量**
虽然实现简单，但这个决策背后有几个技术考量：
1.  **存储库职责分离**：将用户面向的文档（发布说明、迁移指南）与引擎源代码分离，可以使每个存储库的职责更加清晰。`bevy`主仓库专注于代码，`bevy-website`专注于文档和网站内容。
2.  **构建和部署**：网站仓库可能有不同的构建、部署流程和工具链（例如，可能使用不同的静态站点生成器）。将文档分离出去可以优化这些流程，而不会影响主代码库的CI/CD。
3.  **贡献流程**：文档的贡献者可能不同于代码贡献者。拥有独立的仓库可以简化文档贡献的流程。
4.  **版本控制历史**：通过删除而非移动文件，主仓库的Git历史将保持清晰，仅反映代码变更。文档的历史将保留在`bevy-website`仓库中。

**影响**
这个变更对Bevy用户和开发者产生了以下具体影响：
- **正面影响**：确立了`bevy-website`作为发布说明和迁移指南的权威来源，减少了混淆。简化了主仓库的结构，使其更专注于核心引擎代码。有利于网站内容的独立管理和部署。
- **迁移影响**：用户和开发者查找0.18版本的发布内容时，需要转向`bevy-website`（或其生成的网站）。这是一个微小的使用习惯改变，但通过清晰的PR描述和后续的沟通，应该能够平稳过渡。
- **维护负担**：降低了核心团队同步两处内容的维护负担。

总的来说，这是一个典型的维护性PR，它不引入新功能，也不改变API，但通过实施良好的软件工程实践（单一数据源、关注点分离）来提升项目的长期健康度和可维护性。它体现了项目在增长过程中对基础设施的持续优化。

## Visual Representation

```mermaid
graph TD
    subgraph “Before PR #22442”
        A[bevy main repo] --> B[release-content/]
        B --> C[migration-guides/]
        B --> D[release-notes/]
        C --> E[0.18 docs]
        D --> F[0.18 docs]
    end

    subgraph “After PR #22442 & bevy-website迁移完成”
        G[bevy-website repo] --> H[0.18 release content]
        A2[bevy main repo] --> I[Clean codebase<br/>no release docs]
    end

    E -.->|迁移| H
    F -.->|迁移| H
```

## Key Files Changed

此PR删除了87个文件，以下是几个有代表性的文件示例，展示了被移除内容的类型和结构：

1.  **`release-content/migration-guides/assets_mesh_try_functions.md` (+0/-125)**
    - **变更描述**：这是一个详细的迁移指南，解释了在0.18版本中，`Mesh`资产的行为变化以及如何使用新的`try_*`系列方法来安全地操作可能已被提取到渲染世界的网格。
    - **关键代码/内容片段**：
      ```markdown
      ---
      title: "Use `Mesh::try_* mesh` functions for `Assets<Mesh>` entries when there can be `RenderAssetUsages::RENDER_WORLD`-only meshes."
      pull_requests: [21732]
      ---

      此前，`Assets<Mesh>`资源在网格数据被提取后，不会保留 `RenderAssetUsages::RENDER_WORLD` 专用的网格。

      在 0.18 版本中，`Assets<Mesh>` 会保留 `RenderAssetUsages::RENDER_WORLD` 专用的网格，即使其数据已被提取。为处理此类网格，`Mesh` 现在包含 `Mesh::try_*` 函数，这些函数返回 `Result<..., MeshAccessError>`。当网格已被提取时，这些函数返回 `Err(MeshAccessError,ExtractedToRenderWorld)`。

      ...
      ```
    - **与PR目的的关联**：此文件是典型的迁移指南，为用户从0.17升级到0.18提供必要的技术指导。移除它是为了将所有此类文档统一到网站仓库。

2.  **`release-content/release-notes/automatic_directional_navigation.md` (+0/-111)**
    - **变更描述**：这是一篇发布说明，介绍了0.18版本中新增的UI自动方向导航功能。
    - **关键代码/内容片段**：
      ```markdown
      ---
      title: Automatic Directional Navigation
      authors: ["@jbuehler23"]
      pull_requests: [21668, 22340]
      ---

      Bevy 现在支持 UI 元素的**自动方向导航**！无需再为菜单和UI屏幕手动繁琐地连接导航关系。

      ## What's New?

      此前，为UI创建方向导航需要手动使用 `DirectionalNavigationMap` 定义每个可聚焦元素之间的连接。对于动态UI或复杂布局，这既耗时又容易出错。

      现在，您只需将 `AutoDirectionalNavigation` 组件添加到UI实体，Bevy就会根据空间位置自动计算导航连接...
      ```
    - **与PR目的的关联**：此文件是发布说明，用于宣传新版本的功能亮点。将其移出主仓库，是为了让所有发布说明都集中在对外展示的网站平台上。

3.  **`release-content/release-notes/ring_primitive.md` (+0/-110)**
    - **变更描述**：发布说明，详细介绍了新的环形图元及其相关功能。
    - **关键代码/内容片段**：
      ```markdown
      ---
      title: Ring primitives
      authors: ["@tigregalis", "@lynn-lumen"]
      pull_requests: [21446]
      ---

      ## Ring / hollow shapes

      ![Rings of 2d primitives (bottom row)](https://github.com/user-attachments/assets/8fac6c82-3da0-488e-ab38-80816b2129c0)

      有一个新的通用图元 `Ring`，它以任何 `Primitive2d` 作为输入，包含该图元形状的两个实例：外部和内部（或中空部分）...
      ```
    - **与PR目的的关联**：同样属于发布说明。该文件包含了图片链接，这表明在网站仓库中，这些资源可以更好地被管理和展示。

4.  **`release-content/migration-guides/gltf-coordinate-conversion.md` (+0/-103)**
    - **变更描述**：迁移指南，解释了glTF坐标转换选项在0.18版本中的重大变更。
    - **关键代码/内容片段**：
      ```rust
      // 0.17
      pub struct GltfPlugin {
          use_model_forward_direction: bool,
          // ...
      }

      // 0.18
      pub struct GltfPlugin {
          convert_coordinates: GltfConvertCoordinates,
          // ...
      }
      ```
    - **与PR目的的关联**：这是一个重要的迁移指南，包含代码示例。移除后，用户需要在新的官方文档站点查找这些关键的升级信息。

5.  **`release-content/release-notes/generalized_atmosphere.md` (+0/-74)**
    - **变更描述**：发布说明，介绍了新的通用大气散射介质系统。
    - **关键代码/内容片段**：
      ```rust
      commands.spawn((
          Camera3d,
          Atmosphere::earthlike(medium)
      ));
      ```
    - **与PR目的的关联**：展示新API用法的发布说明。将其移至网站仓库有助于保持主仓库的简洁性。

## Further Reading

- **[单一数据源 (Single Source of Truth, SSOT)](https://en.wikipedia.org/wiki/Single_source_of_truth)**：了解这一重要的信息架构和系统设计原则。
- **[Bevy 网站仓库](https://github.com/bevyengine/bevy-website)**：迁移后发布内容的官方存储位置。
- **[GitHub Issue #2320](https://github.com/bevyengine/bevy-website/issues/2320)**：跟踪`bevy-website`中0.18发布内容相关工作的Issue。
- **相关PR**: 可以查看最初添加这些发布内容的PR（例如 #21732, #21668, #21446 等），以了解这些功能开发的原始背景和技术细节。