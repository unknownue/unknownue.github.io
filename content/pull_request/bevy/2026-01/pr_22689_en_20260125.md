+++
title = "#22689 Fix dlss for real this time :/"
date = "2026-01-25T00:00:00"
draft = false
template = "pull_request_page.html"
in_search_index = true

[taxonomies]
list_display = ["show"]

[extra]
current_language = "en"
available_languages = {"en" = { name = "English", url = "/pull_request/bevy/2026-01/pr-22689-en-20260125" }, "zh-cn" = { name = "ä¸­æ–‡", url = "/pull_request/bevy/2026-01/pr-22689-zh-cn-20260125" }}
labels = ["D-Trivial", "A-Rendering"]
+++

# Title
## Basic Information
- **Title**: Fix dlss for real this time :/
- **PR Link**: https://github.com/bevyengine/bevy/pull/22689
- **Author**: atlv24
- **Status**: MERGED
- **Labels**: D-Trivial, A-Rendering, S-Ready-For-Final-Review
- **Created**: 2026-01-25T02:02:27Z
- **Merged**: 2026-01-25T04:11:19Z
- **Merged By**: alice-i-cecile

## Description Translation
#22688 was also wrong we need ci ðŸ˜µâ€ðŸ’«

## The Story of This Pull Request

This pull request addresses a straightforward but critical compilation issue in the Bevy engine's DLSS (Deep Learning Super Sampling) integration. The problem surfaced after a recent refactoring where the `Hdr` type was moved between crates, breaking the build for the DLSS module.

The core issue was an incorrect import statement. The `Hdr` type, used for High Dynamic Range camera configuration, had been migrated from the `bevy_render` crate to the `bevy_camera` crate as part of ongoing codebase organization. However, the DLSS module in `bevy_anti_alias` was still attempting to import it from the old location, causing a compilation error.

The author's comment "we need ci" highlights the underlying issue: this is the second attempt to fix the same problem (PR #22688 also failed to resolve it correctly), suggesting that better continuous integration testing could have caught this breakage earlier. When types are moved between crates in a modular codebase, it's easy for dependent modules to miss the update, especially if they're not being actively tested in CI pipelines.

The fix is minimal but essential: updating the import path from `bevy_render::camera::Hdr` to `bevy_camera::Hdr`. This change ensures the DLSS feature compiles correctly and maintains compatibility with the rest of the camera system.

This situation illustrates a common challenge in large-scale refactoring projects. When moving types between modules or crates, all dependent code must be updated simultaneously. In Bevy's case, where rendering features like DLSS are optional and may not be tested in every CI run, such issues can slip through. The fix itself is trivial, but it underscores the importance of comprehensive test coverage, especially for cross-crate dependencies.

## Visual Representation

```mermaid
graph TD
    A[bevy_anti_alias/dlss] -->|Imports| B[bevy_camera::Hdr]
    C[Previous Import] -->|Wrong path| D[bevy_render::camera::Hdr]
    A -.->|Fixed import| B
    A -.x->|Broken import| D
```

## Key Files Changed

**File: `crates/bevy_anti_alias/src/dlss/mod.rs`**
- **Change**: Updated import statement for the `Hdr` type to reflect its new location in the `bevy_camera` crate instead of `bevy_render::camera`.
- **Why**: The `Hdr` type was moved between crates during refactoring, breaking compilation in the DLSS module that depends on it.

```rust
// Before:
use bevy_render::camera::{Hdr, MipBias, TemporalJitter};

// After:
use bevy_camera::Hdr;
use bevy_render::camera::{MipBias, TemporalJitter};
```

The change adds the correct import from `bevy_camera` while maintaining the other imports from `bevy_render::camera`. This fix resolves the compilation error and restores DLSS functionality.

## Further Reading

- [Bevy Camera System Documentation](https://docs.rs/bevy_camera/latest/bevy_camera/) - For understanding the camera component organization
- [Rust Module System](https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html) - For import/export patterns in Rust
- [Continuous Integration Best Practices](https://docs.github.com/en/actions/automating-builds-and-tests/about-continuous-integration) - For preventing similar issues in the future