<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21618 dont re-export SamplerBindingType twice for no reason
        
    </title><meta content="#21618 dont re-export SamplerBindingType twice for no reason" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-10/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-10-21</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-10/pr-21618-zh-cn-20251021>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>dont re-export SamplerBindingType twice for no reason<h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: dont re-export SamplerBindingType twice for no reason<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21618<li><strong>Author</strong>: atlv24<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, A-Rendering, C-Code-Quality, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-10-21T02:02:37Z<li><strong>Merged</strong>: 2025-10-21T08:37:13Z<li><strong>Merged By</strong>: mockersf</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>dont re-export SamplerBindingType twice for no reason</ul><h2 id=solution>Solution</h2><ul><li>dont re-export SamplerBindingType twice for no reason</ul><h2 id=testing>Testing</h2><ul><li>ci</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a straightforward code quality issue in the Bevy renderer module - the unnecessary duplication of type exports. The problem was discovered during routine code maintenance when the author noticed that <code>SamplerBindingType</code> was being re-exported under two different names in the same module.<p>In the <code>bevy_render/src/render_resource/mod.rs</code> file, the code was importing <code>SamplerBindingType</code> from the <code>wgpu</code> crate and then re-exporting it twice: once as <code>SamplerBindingType</code> and once as <code>WgpuSamplerBindingType</code>. This created an alias that served no practical purpose but added cognitive overhead for developers working with the codebase.<p>The duplication had a ripple effect throughout the codebase. In the <code>bevy_render/macros/src/as_bind_group.rs</code> file, the procedural macro was using the aliased version <code>WgpuSamplerBindingType::Filtering</code> instead of the standard <code>SamplerBindingType::Filtering</code>. This meant that if someone tried to remove the duplicate export, it would break the macro code.<p>The solution involved two coordinated changes. First, the duplicate export was removed from the module’s re-export list. Second, the macro code was updated to reference the standard <code>SamplerBindingType</code> instead of the alias. This approach maintained API consistency while eliminating unnecessary complexity.<p>From an engineering perspective, this change demonstrates good code hygiene practices. Removing duplicate exports reduces the surface area of the public API, making it easier for developers to understand what types are available and how to use them. It also prevents potential confusion where developers might wonder about the difference between <code>SamplerBindingType</code> and <code>WgpuSamplerBindingType</code> when in reality they refer to the exact same type.<p>The change is minimal and focused, affecting only two files with simple modifications. This makes it low-risk while providing clear benefits for code maintainability. The fact that it passed CI testing without issues confirms that the changes don’t break existing functionality while successfully eliminating the redundancy.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[wgpu::SamplerBindingType] --> B[bevy_render::render_resource]
</span><span>    B --> C[SamplerBindingType]
</span><span>    B --> D[WgpuSamplerBindingType]
</span><span>    D --> E[as_bind_group macro usage]
</span><span>    
</span><span>    F[Fixed: Single Export] --> G[SamplerBindingType]
</span><span>    G --> H[Updated macro usage]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-render-src-render-resource-mod-rs><code>crates/bevy_render/src/render_resource/mod.rs</code></h3><p>This file contained the duplicate export that was removed. The change eliminates the unnecessary alias while maintaining the same functionality.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>pub use </span><span>wgpu</span><span style=color:#ed9366>::</span><span>{
</span><span>    SamplerBindingType</span><span style=color:#61676ccc>,
</span><span>    SamplerBindingType </span><span style=color:#ed9366>as</span><span> WgpuSamplerBindingType</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other imports
</span><span>}</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>pub use </span><span>wgpu</span><span style=color:#ed9366>::</span><span>{
</span><span>    SamplerBindingType</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other imports (without the duplicate)
</span><span>}</span><span style=color:#61676ccc>;
</span></code></pre><h3 id=crates-bevy-render-macros-src-as-bind-group-rs><code>crates/bevy_render/macros/src/as_bind_group.rs</code></h3><p>This file was updated to use the standard <code>SamplerBindingType</code> instead of the aliased version, ensuring consistency across the codebase.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#ed9366>#</span><span>render_path</span><span style=color:#ed9366>::</span><span>render_resource</span><span style=color:#ed9366>::</span><span>WgpuSamplerBindingType</span><span style=color:#ed9366>::</span><span>Filtering</span><span style=color:#61676ccc>,
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#ed9366>#</span><span>render_path</span><span style=color:#ed9366>::</span><span>render_resource</span><span style=color:#ed9366>::</span><span>SamplerBindingType</span><span style=color:#ed9366>::</span><span>Filtering</span><span style=color:#61676ccc>,
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html target=_blank>Rust Module System and Re-exports</a><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/quick-start/getting-started/systems/ target=_blank>Bevy Rendering Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/wgpu/latest/wgpu/enum.SamplerBindingType.html target=_blank>wgpu SamplerBindingType Documentation</a></ul><h1 id=full-code-diff>Full Code Diff</h1><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_render/macros/src/as_bind_group.rs b/crates/bevy_render/macros/src/as_bind_group.rs
</span><span>index ee11aae4f9b59..4b89e6bc87076 100644
</span><span style=color:#c594c5>--- a/crates/bevy_render/macros/src/as_bind_group.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_render/macros/src/as_bind_group.rs
</span><span style=color:#c594c5>@@ -716,7 +716,7 @@ </span><span style=color:#399ee6>pub fn derive_as_bind_group(ast: syn::DeriveInput) -> Result&LTTokenStream> {
</span><span>                             #binding_index,
</span><span>                             #render_path::render_resource::OwnedBindingResource::Sampler(
</span><span>                                 // TODO: Support other types.
</span><span style=color:#f07171>-                                #render_path::render_resource::WgpuSamplerBindingType::Filtering,
</span><span style=color:#86b300>+                                #render_path::render_resource::SamplerBindingType::Filtering,
</span><span>                                 {
</span><span>                                 let handle: Option<&#asset_path::Handle<#image_path::Image>> = (&self.#field_name).into();
</span><span>                                 if let Some(handle) = handle {
</span><span>diff --git a/crates/bevy_render/src/render_resource/mod.rs b/crates/bevy_render/src/render_resource/mod.rs
</span><span>index 2d8ddabf2dbf6..0d431b5ac4ed8 100644
</span><span style=color:#c594c5>--- a/crates/bevy_render/src/render_resource/mod.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_render/src/render_resource/mod.rs
</span><span style=color:#c594c5>@@ -54,13 +54,12 @@ </span><span style=color:#399ee6>pub use wgpu::{
</span><span>     PollType, PolygonMode, PrimitiveState, PrimitiveTopology, PushConstantRange,
</span><span>     RenderPassColorAttachment, RenderPassDepthStencilAttachment, RenderPassDescriptor,
</span><span>     RenderPipelineDescriptor as RawRenderPipelineDescriptor, Sampler as WgpuSampler,
</span><span style=color:#f07171>-    SamplerBindingType, SamplerBindingType as WgpuSamplerBindingType, SamplerDescriptor,
</span><span style=color:#f07171>-    ShaderModule, ShaderModuleDescriptor, ShaderSource, ShaderStages, StencilFaceState,
</span><span style=color:#f07171>-    StencilOperation, StencilState, StorageTextureAccess, StoreOp, TexelCopyBufferInfo,
</span><span style=color:#f07171>-    TexelCopyBufferLayout, TexelCopyTextureInfo, TextureAspect, TextureDescriptor,
</span><span style=color:#f07171>-    TextureDimension, TextureFormat, TextureFormatFeatureFlags, TextureFormatFeatures,
</span><span style=color:#f07171>-    TextureSampleType, TextureUsages, TextureView as WgpuTextureView, TextureViewDescriptor,
</span><span style=color:#f07171>-    TextureViewDimension, Tlas, TlasInstance, VertexAttribute,
</span><span style=color:#86b300>+    SamplerBindingType, SamplerDescriptor, ShaderModule, ShaderModuleDescriptor, ShaderSource,
</span><span style=color:#86b300>+    ShaderStages, StencilFaceState, StencilOperation, StencilState, StorageTextureAccess, StoreOp,
</span><span style=color:#86b300>+    TexelCopyBufferInfo, TexelCopyBufferLayout, TexelCopyTextureInfo, TextureAspect,
</span><span style=color:#86b300>+    TextureDescriptor, TextureDimension, TextureFormat, TextureFormatFeatureFlags,
</span><span style=color:#86b300>+    TextureFormatFeatures, TextureSampleType, TextureUsages, TextureView as WgpuTextureView,
</span><span style=color:#86b300>+    TextureViewDescriptor, TextureViewDimension, Tlas, TlasInstance, VertexAttribute,
</span><span>     VertexBufferLayout as RawVertexBufferLayout, VertexFormat, VertexState as RawVertexState,
</span><span>     VertexStepMode, COPY_BUFFER_ALIGNMENT,
</span><span> };
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-10/pr_21618.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>