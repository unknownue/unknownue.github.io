<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21611 Remove `ron` re-export from `bevy_scene` and `bevy_asset`
        
    </title><meta content="#21611 Remove `ron` re-export from `bevy_scene` and `bevy_asset`" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-10/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-10-21</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-10/pr-21611-zh-cn-20251021>中文</a></div></div><div class=pr-content><h1 id=remove-ron-re-export-from-bevy-scene-and-bevy-asset>Remove <code>ron</code> re-export from <code>bevy_scene</code> and <code>bevy_asset</code></h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Remove <code>ron</code> re-export from <code>bevy_scene</code> and <code>bevy_asset</code><li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21611<li><strong>Author</strong>: WaterWhisperer<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Usability, S-Ready-For-Final-Review, A-Scenes, X-Contentious<li><strong>Created</strong>: 2025-10-20T06:16:35Z<li><strong>Merged</strong>: 2025-10-21T02:25:04Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>As discussed in #19285, Bevy has reused the same conceptual names for multiple types across different crates, creating confusion for autocomplete tooling and users. This PR addresses one of those conflicts by removing the <code>ron</code> re-export from <code>bevy_scene</code> and <code>bevy_asset</code><h2 id=solution>Solution</h2><ul><li>Removed <code>pub use bevy_asset::ron;</code> from <code>bevy_scene::lib</code> and <code>pub use ron;</code> from <code>bevy_asset::lib</code><li>Updated <code>crates/bevy_scene/Cargo.toml</code><li>Updated all internal references to use <code>ron</code> directly: <ul><li><code>crates/bevy_scene/src/dynamic_scene.rs</code><li><code>crates/bevy_scene/src/scene_loader.rs</code><li><code>crates/bevy_scene/src/serde.rs</code> (including doc examples and tests)</ul></ul><h2 id=testing>Testing</h2><ul><li><code>cargo check --workspace</code> - all checks pass<li><code>cargo test -p bevy_scene</code> - tests pass (4 pre-existing test failures unrelated to this change)<li><code>cargo test -p bevy_asset</code> - tests pass<li><code>cargo clippy</code> - no new warnings</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a common problem in large codebases: naming conflicts that create confusion for both developers and tooling. The issue stemmed from Bevy re-exporting the <code>ron</code> crate (Rusty Object Notation) through multiple public modules, specifically <code>bevy_scene</code> and <code>bevy_asset</code>.<p>The core problem was that when developers used auto-completion in their IDEs or tried to import <code>ron</code> functionality, they would encounter multiple import paths that appeared identical but pointed to the same underlying dependency. This created unnecessary cognitive overhead and made the API surface more complex than it needed to be.<p>The solution approach was straightforward but required careful implementation: remove the re-exports entirely and require direct dependency on <code>ron</code> where needed. This aligns with Rust’s philosophy of explicit dependencies and reduces the “magic” in the import system. The implementation involved several coordinated changes across multiple files to ensure consistency.<p>In the implementation, the developer first removed the public re-exports from both <code>bevy_scene</code> and <code>bevy_asset</code> library files. This was the primary change that would affect external users. The <code>bevy_scene</code> crate then needed to explicitly declare <code>ron</code> as a direct dependency in its <code>Cargo.toml</code> file, since it could no longer rely on the re-export from <code>bevy_asset</code>.<p>The most substantial part of the work involved updating all internal usage of the re-exported <code>ron</code> to use direct imports instead. This affected several key files in the scene system:<ul><li><code>dynamic_scene.rs</code> removed the conditional import of <code>ron</code> through the crate<li><code>scene_loader.rs</code> removed its <code>use crate::ron</code> import<li><code>serde.rs</code> updated both its documentation examples and test code to use <code>ron</code> directly</ul><p>One important technical insight from this change is how it improves the developer experience. By removing the indirection, developers working with scene serialization can now clearly see that they’re using the <code>ron</code> crate directly, which makes dependency tracking more transparent and reduces confusion about where functionality originates.<p>The impact of this change is primarily on code clarity and maintainability. While it’s a breaking change for users who were relying on the re-exports, the migration path is straightforward: users simply need to add <code>ron</code> as a direct dependency to their <code>Cargo.toml</code> and update their import statements. The PR author thoughtfully included a migration guide to help users navigate this transition.<p>From an architectural perspective, this change reduces coupling between crates and makes dependencies more explicit. The <code>bevy_scene</code> crate now clearly declares its dependency on <code>ron</code> rather than hiding it behind <code>bevy_asset</code>, which makes the dependency graph more accurate and easier to understand.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[bevy_scene] --> B[ron]
</span><span>    C[bevy_asset] --> B
</span><span>    D[User Code] --> B
</span><span>    
</span><span>    style A fill:#e1f5fe
</span><span>    style C fill:#e1f5fe
</span><span>    style D fill:#f3e5f5
</span><span>    style B fill:#fff3e0
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-scene-src-lib-rs><code>crates/bevy_scene/src/lib.rs</code></h3><p><strong>Change</strong>: Removed the re-export of <code>ron</code> from <code>bevy_asset</code><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>/// Rusty Object Notation, a crate used to serialize and deserialize bevy scenes.
</span><span style=color:#fa6e32>pub use </span><span>bevy_asset</span><span style=color:#ed9366>::</span><span>ron</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>// (re-export removed entirely)
</span></code></pre><h3 id=crates-bevy-asset-src-lib-rs><code>crates/bevy_asset/src/lib.rs</code></h3><p><strong>Change</strong>: Removed the direct re-export of <code>ron</code><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>/// Rusty Object Notation, a crate used to serialize and deserialize bevy assets.
</span><span style=color:#fa6e32>pub use</span><span> ron</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>// (re-export removed entirely)
</span></code></pre><h3 id=crates-bevy-scene-cargo-toml><code>crates/bevy_scene/Cargo.toml</code></h3><p><strong>Change</strong>: Added explicit dependency on <code>ron</code> crate<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#abb0b6;font-style:italic># No direct ron dependency
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>ron </span><span>= { </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"0.11"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>default-features </span><span>= </span><span style=color:#ff8f40>false</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>optional </span><span>= </span><span style=color:#ff8f40>true </span><span>}
</span></code></pre><h3 id=crates-bevy-scene-src-serde-rs><code>crates/bevy_scene/src/serde.rs</code></h3><p><strong>Change</strong>: Updated imports and documentation to use <code>ron</code> directly<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before (in doc example):
</span><span style=color:#abb0b6;font-style:italic>// let ron_string = bevy_scene::ron::ser::to_string(&scene_serializer);
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>// let ron_string = ron::ser::to_string(&scene_serializer);
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Before (in test imports):
</span><span style=color:#abb0b6;font-style:italic>// use crate::ron;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>// use ron;
</span></code></pre><h3 id=crates-bevy-scene-src-dynamic-scene-rs><code>crates/bevy_scene/src/dynamic_scene.rs</code></h3><p><strong>Change</strong>: Removed conditional import of <code>ron</code> through crate<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(feature </span><span style=color:#ed9366>= </span><span style=color:#86b300>"serialize"</span><span>)]
</span><span style=color:#fa6e32>use </span><span>{
</span><span>    </span><span style=color:#fa6e32>crate</span><span style=color:#61676ccc>::</span><span>{ron</span><span style=color:#61676ccc>, </span><span>serde</span><span style=color:#ed9366>::</span><span>SceneSerializer}</span><span style=color:#61676ccc>,
</span><span>    bevy_reflect</span><span style=color:#ed9366>::</span><span>TypeRegistry</span><span style=color:#61676ccc>,
</span><span>    serde</span><span style=color:#ed9366>::</span><span>Serialize</span><span style=color:#61676ccc>,
</span><span>}</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(feature </span><span style=color:#ed9366>= </span><span style=color:#86b300>"serialize"</span><span>)]
</span><span style=color:#fa6e32>use </span><span>{</span><span style=color:#fa6e32>crate</span><span style=color:#ed9366>::</span><span>serde</span><span style=color:#ed9366>::</span><span>SceneSerializer</span><span style=color:#61676ccc>, </span><span>bevy_reflect</span><span style=color:#ed9366>::</span><span>TypeRegistry</span><span style=color:#61676ccc>, </span><span>serde</span><span style=color:#ed9366>::</span><span>Serialize}</span><span style=color:#61676ccc>;
</span></code></pre><h3 id=release-content-migration-guides-remove-ron-reexport-md><code>release-content/migration-guides/remove_ron_reexport.md</code></h3><p><strong>Change</strong>: Added migration guide for users affected by this change<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span>The </span><span style=color:#ed9366;background-color:#61676c10>`ron`</span><span> crate is no longer re-exported from </span><span style=color:#ed9366;background-color:#61676c10>`bevy_scene`</span><span> or </span><span style=color:#ed9366;background-color:#61676c10>`bevy_asset`</span><span>. This was done to reduce naming conflicts and improve API clarity.
</span><span>
</span><span>If you were importing </span><span style=color:#ed9366;background-color:#61676c10>`ron`</span><span> through </span><span style=color:#ed9366;background-color:#61676c10>`bevy_scene`</span><span> or </span><span style=color:#ed9366;background-color:#61676c10>`bevy_asset`</span><span>, you should now add </span><span style=color:#ed9366;background-color:#61676c10>`ron`</span><span> as a direct dependency to your project.
</span><span>
</span><span>This change only affects code that was explicitly importing the </span><span style=color:#ed9366;background-color:#61676c10>`ron`</span><span> module. All internal scene serialization and deserialization functionality remains unchanged.
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/reference/items/use-declarations.html#use-visibility target=_blank>Rust Documentation on Re-exports</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy target=_blank>Bevy Engine GitHub Repository</a><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/ron/latest/ron/ target=_blank>RON (Rusty Object Notation) Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/cargo/reference/specifying-dependencies.html target=_blank>Cargo Documentation on Dependencies</a></ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-10/pr_21611.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>