<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21604 `change_detection` gets its own folder and split into multiple files
        
    </title><meta content="#21604 `change_detection` gets its own folder and split into multiple files" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-10/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-10-20</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-10/pr-21604-zh-cn-20251020>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p><code>change_detection</code> gets its own folder and split into multiple files<h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: <code>change_detection</code> gets its own folder and split into multiple files<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21604<li><strong>Author</strong>: JaySpruce<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: A-ECS, C-Code-Quality, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-10-19T19:45:22Z<li><strong>Merged</strong>: 2025-10-20T04:36:32Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p><strong>Objective</strong><p><code>change_detection.rs</code> is a bit big at ~1900 lines and its contents are pretty varied, so it ought to be split up.<p><strong>Solution</strong><p>Split <code>change_detection.rs</code> into 4 files:<ul><li><code>mod.rs</code>: Re-exports, some constants, testing<li><code>params.rs</code>: Change-detecting system/query parameters like <code>Ref</code> and <code>Res</code><li><code>traits.rs</code>: The <code>DetectChanges</code> and <code>DetectChangesMut</code> traits and the macros used internally to implement those traits (and some others) for the above parameters<li><code>maybe_location.rs</code>: <code>MaybeLocation</code> and its impls</ul><p>This shouldn’t change anything publicly, since everything’s still in the same module.<p>I’d also like to move <code>component/tick.rs</code> into this module, but that would break stuff, so that’ll be its own PR.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The change detection module in Bevy’s ECS had grown to approximately 1900 lines, containing a diverse mix of types, traits, and implementation details. This size made the file difficult to navigate and maintain, with developers needing to scroll through unrelated code to find what they needed. The module contained everything from core traits like <code>DetectChanges</code> to concrete types like <code>Res</code> and <code>Mut</code>, along with utility types like <code>MaybeLocation</code> and extensive test suites.<p>The solution was straightforward: split the monolithic file into logically organized smaller files. The author created a <code>change_detection</code> directory and distributed the code across four focused files:<ul><li><code>mod.rs</code> became the module entry point with re-exports and constants<li><code>params.rs</code> focused on system parameters like <code>Res</code>, <code>Mut</code>, and <code>Ref</code><li><code>traits.rs</code> contained the core change detection traits and implementation macros<li><code>maybe_location.rs</code> isolated the <code>MaybeLocation</code> type and its functionality</ul><p>This reorganization followed established Rust patterns for module structure while maintaining the exact same public API. The key insight was grouping related functionality together - all the system parameter types now live in <code>params.rs</code>, while the traits that define their behavior are in <code>traits.rs</code>. The <code>MaybeLocation</code> type, which had a distinct purpose for tracking change locations conditionally based on compile-time features, was separated into its own file.<p>The implementation preserved all existing functionality through careful use of module re-exports in <code>mod.rs</code>. External code continues to import types from <code>bevy_ecs::change_detection</code> exactly as before. The internal macros (<code>change_detection_impl</code>, <code>change_detection_mut_impl</code>, etc.) were moved to <code>traits.rs</code> where they’re used to implement the change detection traits for the various parameter types.<p>One notable aspect of this refactor is how it improved code discoverability. Developers working with system parameters can now look at <code>params.rs</code> to see all the available types and their methods, while those implementing custom change detection can focus on <code>traits.rs</code>. The test suite remained comprehensive but was moved to the module’s <code>mod.rs</code> file.<p>The author mentioned future plans to move <code>component/tick.rs</code> into this module, but recognized this would be a breaking change requiring a separate PR. This demonstrates thoughtful incremental refactoring that maintains backward compatibility while working toward a cleaner long-term architecture.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TB
</span><span>    A[change_detection/mod.rs] --> B[change_detection/params.rs]
</span><span>    A --> C[change_detection/traits.rs]
</span><span>    A --> D[change_detection/maybe_location.rs]
</span><span>    
</span><span>    B --> E[System Parameters&LTbr/>Res, Mut, Ref, etc.]
</span><span>    C --> F[Core Traits&LTbr/>DetectChanges, DetectChangesMut]
</span><span>    C --> G[Implementation Macros]
</span><span>    D --> H[MaybeLocation Type]
</span><span>    
</span><span>    E -.-> C
</span><span>    G -.-> E
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-ecs-src-change-detection-rs-0-1882><code>crates/bevy_ecs/src/change_detection.rs</code> (+0/-1882)</h3><p>This file was completely removed and its contents distributed to the new module structure.<h3 id=crates-bevy-ecs-src-change-detection-mod-rs-383-0><code>crates/bevy_ecs/src/change_detection/mod.rs</code> (+383/-0)</h3><p>The new module entry point that re-exports all public types and contains module constants and test suite.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: crates/bevy_ecs/src/change_detection/mod.rs
</span><span style=color:#fa6e32>mod </span><span style=color:#399ee6>maybe_location</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>mod </span><span style=color:#399ee6>params</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>mod </span><span style=color:#399ee6>traits</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#fa6e32>pub use </span><span>maybe_location</span><span style=color:#ed9366>::</span><span>MaybeLocation</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>pub use </span><span>params</span><span style=color:#ed9366>::*</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>pub use </span><span>traits</span><span style=color:#ed9366>::</span><span>{DetectChanges</span><span style=color:#61676ccc>,</span><span> DetectChangesMut}</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// The (arbitrarily chosen) minimum number of world tick increments between `check_tick` scans.
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>CHECK_TICK_THRESHOLD</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>u32 </span><span style=color:#ed9366>= </span><span style=color:#ff8f40>518_400_000</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// The maximum change tick difference that won't overflow before the next `check_tick` scan.
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>MAX_CHANGE_AGE</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>u32 </span><span style=color:#ed9366>= </span><span style=color:#fa6e32>u32</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>MAX </span><span style=color:#ed9366>- </span><span>(</span><span style=color:#ff8f40>2 </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>CHECK_TICK_THRESHOLD </span><span style=color:#ed9366>- </span><span style=color:#ff8f40>1</span><span>)</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(test)]
</span><span style=color:#fa6e32>mod </span><span style=color:#399ee6>tests </span><span>{
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... comprehensive test suite moved from original file
</span><span>}
</span></code></pre><h3 id=crates-bevy-ecs-src-change-detection-params-rs-694-0><code>crates/bevy_ecs/src/change_detection/params.rs</code> (+694/-0)</h3><p>Contains all the system parameter types and their core implementations.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: crates/bevy_ecs/src/change_detection/params.rs
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>Res</span><span><</span><span style=color:#fa6e32>'w</span><span>, T</span><span style=color:#61676ccc>: </span><span style=color:#f51818>?</span><span>Sized + Resource> {
</span><span>    </span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) value</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'w</span><span> T,
</span><span>    </span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) ticks</span><span style=color:#61676ccc>: </span><span>ComponentTicksRef<</span><span style=color:#fa6e32>'w</span><span>>,
</span><span>}
</span><span>
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>ResMut</span><span><</span><span style=color:#fa6e32>'w</span><span>, T</span><span style=color:#61676ccc>: </span><span style=color:#f51818>?</span><span>Sized + Resource> {
</span><span>    </span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) value</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'w mut</span><span> T,
</span><span>    </span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) ticks</span><span style=color:#61676ccc>: </span><span>ComponentTicksMut<</span><span style=color:#fa6e32>'w</span><span>>,
</span><span>}
</span><span>
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>Ref</span><span><</span><span style=color:#fa6e32>'w</span><span>, T</span><span style=color:#61676ccc>: </span><span style=color:#f51818>?</span><span>Sized> {
</span><span>    </span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) value</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'w</span><span> T,
</span><span>    </span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) ticks</span><span style=color:#61676ccc>: </span><span>ComponentTicksRef<</span><span style=color:#fa6e32>'w</span><span>>,
</span><span>}
</span><span>
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>Mut</span><span><</span><span style=color:#fa6e32>'w</span><span>, T</span><span style=color:#61676ccc>: </span><span style=color:#f51818>?</span><span>Sized> {
</span><span>    </span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) value</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'w mut</span><span> T,
</span><span>    </span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) ticks</span><span style=color:#61676ccc>: </span><span>ComponentTicksMut<</span><span style=color:#fa6e32>'w</span><span>>,
</span><span>}
</span></code></pre><h3 id=crates-bevy-ecs-src-change-detection-traits-rs-551-0><code>crates/bevy_ecs/src/change_detection/traits.rs</code> (+551/-0)</h3><p>Contains the core change detection traits and the macros used to implement them.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: crates/bevy_ecs/src/change_detection/traits.rs
</span><span style=color:#fa6e32>pub trait </span><span style=color:#399ee6>DetectChanges </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>last_changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-></span><span> Tick</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-></span><span> Tick</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>changed_by</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-></span><span> MaybeLocation</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#fa6e32>pub trait </span><span style=color:#399ee6>DetectChangesMut</span><span>: DetectChanges {
</span><span>    </span><span style=color:#fa6e32>type </span><span style=color:#399ee6>Inner</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>?</span><span style=color:#55b4d4;font-style:italic>Sized</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other methods
</span><span>}
</span><span>
</span><span style=color:#f07171>macro_rules! </span><span style=color:#399ee6>change_detection_impl </span><span>{
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Macro implementation for DetectChanges
</span><span>}
</span><span>
</span><span style=color:#f07171>macro_rules! </span><span style=color:#399ee6>change_detection_mut_impl </span><span>{
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Macro implementation for DetectChangesMut  
</span><span>}
</span></code></pre><h3 id=crates-bevy-ecs-src-change-detection-maybe-location-rs-291-0><code>crates/bevy_ecs/src/change_detection/maybe_location.rs</code> (+291/-0)</h3><p>Contains the <code>MaybeLocation</code> type which conditionally tracks change locations based on compile-time features.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: crates/bevy_ecs/src/change_detection/maybe_location.rs
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>MaybeLocation</span><span>&LTT</span><span style=color:#61676ccc>: </span><span style=color:#f51818>?</span><span>Sized = &'static Location<'static>> {
</span><span>    marker</span><span style=color:#61676ccc>: </span><span>PhantomData&LTT>,
</span><span>    </span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(feature </span><span style=color:#ed9366>= </span><span style=color:#86b300>"track_location"</span><span>)]
</span><span>    value</span><span style=color:#61676ccc>:</span><span> T,
</span><span>}
</span><span>
</span><span style=color:#fa6e32>impl </span><span style=color:#399ee6>MaybeLocation </span><span>{
</span><span>    </span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>inline</span><span>]
</span><span>    </span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>track_caller</span><span>]
</span><span>    </span><span style=color:#fa6e32>pub const fn </span><span style=color:#f29718>caller</span><span>() </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>        MaybeLocation {
</span><span>            </span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(feature </span><span style=color:#ed9366>= </span><span style=color:#86b300>"track_location"</span><span>)]
</span><span>            value</span><span style=color:#61676ccc>: </span><span>Location</span><span style=color:#ed9366>::</span><span>caller()</span><span style=color:#61676ccc>,
</span><span>            marker</span><span style=color:#61676ccc>:</span><span> PhantomData</span><span style=color:#61676ccc>,
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html target=_blank>Rust Module System</a> - Understanding how Rust modules work<li><a rel="noopener nofollow noreferrer" href=https://bevy-cheatbook.github.io/programming/change-detection.html target=_blank>Bevy ECS Change Detection</a> - Official Bevy change detection documentation<li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/reference/conditional-compilation.html target=_blank>Conditional Compilation in Rust</a> - How <code>#[cfg]</code> attributes work, used in <code>MaybeLocation</code><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/book/ch19-06-macros.html target=_blank>Macros in Rust</a> - Understanding the macro system used for trait implementations</ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-10/pr_21604.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>