<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21328 Remove empty DevToolsPlugin
        
    </title><meta content="#21328 Remove empty DevToolsPlugin" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-10/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-10-01</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-10/pr-21328-zh-cn-20251001>中文</a></div></div><div class=pr-content><h1 id=remove-empty-devtoolsplugin>Remove empty DevToolsPlugin</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Remove empty DevToolsPlugin<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21328<li><strong>Author</strong>: dloukadakis<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Code-Quality, A-Dev-Tools, D-Straightforward<li><strong>Created</strong>: 2025-10-01T19:42:14Z<li><strong>Merged</strong>: 2025-10-01T20:33:23Z<li><strong>Merged By</strong>: james7132</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>Resolves #21291<h2 id=solution>Solution</h2><p>Remove the empty DevToolsPlugin<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a straightforward code quality issue in the Bevy engine’s developer tools module. The problem was simple: the <code>DevToolsPlugin</code> struct existed but contained no functionality - it was essentially dead code that served no purpose.<p>The issue originated from the fact that the <code>DevToolsPlugin</code> was defined as a Bevy plugin but had an empty implementation. When examining the plugin’s build method:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>impl </span><span>Plugin </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>DevToolsPlugin </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>build</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>_app</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> App) {}
</span><span>}
</span></code></pre><p>The method received an <code>App</code> instance but performed no operations on it. This pattern is typically used for plugins that register systems, resources, or other app extensions, but in this case, the plugin was completely inert.<p>The developer tools module (<code>bevy_dev_tools</code>) contains several useful submodules like <code>ci_testing</code>, <code>easy_screenshot</code>, <code>picking_debug</code>, and <code>states</code>, but the main <code>DevToolsPlugin</code> itself didn’t actually integrate any of these components. The individual features were likely being registered elsewhere or through different mechanisms.<p>The solution was a clean removal of the empty plugin. This approach follows the principle that unused code should be eliminated to reduce maintenance burden, improve code clarity, and prevent confusion for developers who might expect the plugin to actually do something.<p>From an architectural perspective, this change simplifies the plugin registration chain. The <code>DevToolsPlugin</code> was conditionally included in Bevy’s default plugins when the <code>bevy_dev_tools</code> feature was enabled:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(feature </span><span style=color:#ed9366>= </span><span style=color:#86b300>"bevy_dev_tools"</span><span>)]
</span><span>bevy_dev_tools</span><span style=color:#ed9366>::</span><span style=color:#61676ccc>:</span><span>DevToolsPlugin</span><span style=color:#61676ccc>,
</span></code></pre><p>Removing this line means one less plugin to initialize during app startup, even if the plugin was empty. While the performance impact would be negligible, it contributes to cleaner dependency management and build times.<p>The removal also eliminates potential confusion for developers who might have been looking at the plugin’s extensive documentation comments and wondering what functionality it actually provided. The comments described various ways to enable developer tools, but the plugin itself did nothing.<p>This change demonstrates good code hygiene practices - regularly auditing and removing dead code helps maintain a clean, understandable codebase. It’s a small but meaningful improvement that makes the codebase more honest about what it actually does.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Bevy App] --> B[Default Plugins]
</span><span>    B --> C[Conditional Plugins]
</span><span>    C --> D[bevy_dev_tools feature]
</span><span>    D --> E[DevToolsPlugin - REMOVED]
</span><span>    D --> F[CiTestingPlugin - RETAINED]
</span><span>    
</span><span>    G[DevTools Module] --> H[ci_testing - RETAINED]
</span><span>    G --> I[easy_screenshot - RETAINED]
</span><span>    G --> J[picking_debug - RETAINED]
</span><span>    G --> K[states - RETAINED]
</span><span>    G --> L[DevToolsPlugin - REMOVED]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-dev-tools-src-lib-rs-0-36><code>crates/bevy_dev_tools/src/lib.rs</code> (+0/-36)</h3><p>This file contained the main definition of the empty <code>DevToolsPlugin</code>. The changes removed:<ol><li>The unused import: <code>use bevy_app::prelude::*;</code><li>The entire <code>DevToolsPlugin</code> struct definition and its <code>Plugin</code> implementation<li>Extensive documentation comments that were no longer relevant</ol><p><strong>Code removed:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>use </span><span>bevy_app</span><span style=color:#ed9366>::</span><span>prelude</span><span style=color:#ed9366>::*</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// ... other code ...
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// Enables developer tools in an [`App`]. This plugin is added automatically with `bevy_dev_tools`
</span><span style=color:#abb0b6;font-style:italic>/// feature.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// Warning: It is not recommended to enable this in final shipped games or applications.
</span><span style=color:#abb0b6;font-style:italic>/// Dev tools provide a high level of access to the internals of your application,
</span><span style=color:#abb0b6;font-style:italic>/// and may interfere with ordinary use and gameplay.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// To enable developer tools, you can either:
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// - Create a custom crate feature (e.g "`dev_mode`"), which enables the `bevy_dev_tools` feature
</span><span style=color:#abb0b6;font-style:italic>///   along with any other development tools you might be using:
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// ```toml
</span><span style=color:#abb0b6;font-style:italic>/// [feature]
</span><span style=color:#abb0b6;font-style:italic>/// dev_mode = ["bevy/bevy_dev_tools", "other_dev_tools"]
</span><span style=color:#abb0b6;font-style:italic>/// ```
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// - Use `--feature bevy/bevy_dev_tools` flag when using the `cargo run` command:
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// `cargo run --features bevy/bevy_dev_tools`
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// - Add the `bevy_dev_tools` feature to the bevy dependency in your `Cargo.toml` file:
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// `features = ["bevy_dev_tools"]`
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>///  Note: The third method is not recommended, as it requires you to remove the feature before
</span><span style=color:#abb0b6;font-style:italic>///  creating a build for release to the public.
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Default)]
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>DevToolsPlugin</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#fa6e32>impl </span><span>Plugin </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>DevToolsPlugin </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>build</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>_app</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> App) {}
</span><span>}
</span></code></pre><h3 id=crates-bevy-internal-src-default-plugins-rs-0-2><code>crates/bevy_internal/src/default_plugins.rs</code> (+0/-2)</h3><p>This file contained the registration of the <code>DevToolsPlugin</code> in Bevy’s default plugin set. The change removed the conditional inclusion of the empty plugin.<p><strong>Code removed:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(feature </span><span style=color:#ed9366>= </span><span style=color:#86b300>"bevy_dev_tools"</span><span>)]
</span><span>bevy_dev_tools</span><span style=color:#ed9366>::</span><span style=color:#61676ccc>:</span><span>DevToolsPlugin</span><span style=color:#61676ccc>,
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy/latest/bevy/app/trait.Plugin.html target=_blank>Bevy Plugin System Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/rustc/lints/listing/warn-by-default.html#dead-code target=_blank>Rust Dead Code Detection</a><li><a rel="noopener nofollow noreferrer" href=https://rust-unofficial.github.io/patterns/patterns/structural.html target=_blank>Code Quality Best Practices</a></ul><h1 id=full-code-diff>Full Code Diff</h1><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_dev_tools/src/lib.rs b/crates/bevy_dev_tools/src/lib.rs
</span><span>index 10097ef2142e5..c6c1ca9204105 100644
</span><span style=color:#c594c5>--- a/crates/bevy_dev_tools/src/lib.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_dev_tools/src/lib.rs
</span><span style=color:#c594c5>@@ -8,8 +8,6 @@
</span><span> //! This crate provides additional utilities for the [Bevy game engine](https://bevy.org),
</span><span> //! focused on improving developer experience.
</span><span> 
</span><span style=color:#f07171>-use bevy_app::prelude::*;
</span><span style=color:#f07171>-
</span><span> #[cfg(feature = "bevy_ci_testing")]
</span><span> pub mod ci_testing;
</span><span> 
</span><span style=color:#c594c5>@@ -22,37 +20,3 @@ </span><span style=color:#399ee6>pub mod picking_debug;
</span><span> pub mod states;
</span><span> 
</span><span> pub use easy_screenshot::*;
</span><span style=color:#f07171>-
</span><span style=color:#f07171>-/// Enables developer tools in an [`App`]. This plugin is added automatically with `bevy_dev_tools`
</span><span style=color:#f07171>-/// feature.
</span><span style=color:#f07171>-///
</span><span style=color:#f07171>-/// Warning: It is not recommended to enable this in final shipped games or applications.
</span><span style=color:#f07171>-/// Dev tools provide a high level of access to the internals of your application,
</span><span style=color:#f07171>-/// and may interfere with ordinary use and gameplay.
</span><span style=color:#f07171>-///
</span><span style=color:#f07171>-/// To enable developer tools, you can either:
</span><span style=color:#f07171>-///
</span><span style=color:#f07171>-/// - Create a custom crate feature (e.g "`dev_mode`"), which enables the `bevy_dev_tools` feature
</span><span style=color:#f07171>-///   along with any other development tools you might be using:
</span><span style=color:#f07171>-///
</span><span style=color:#f07171>-/// ```toml
</span><span style=color:#f07171>-/// [feature]
</span><span style=color:#f07171>-/// dev_mode = ["bevy/bevy_dev_tools", "other_dev_tools"]
</span><span style=color:#f07171>-/// ```
</span><span style=color:#f07171>-///
</span><span style=color:#f07171>-/// - Use `--feature bevy/bevy_dev_tools` flag when using the `cargo run` command:
</span><span style=color:#f07171>-///
</span><span style=color:#f07171>-/// `cargo run --features bevy/bevy_dev_tools`
</span><span style=color:#f07171>-///
</span><span style=color:#f07171>-/// - Add the `bevy_dev_tools` feature to the bevy dependency in your `Cargo.toml` file:
</span><span style=color:#f07171>-///
</span><span style=color:#f07171>-/// `features = ["bevy_dev_tools"]`
</span><span style=color:#f07171>-///
</span><span style=color:#f07171>-///  Note: The third method is not recommended, as it requires you to remove the feature before
</span><span style=color:#f07171>-///  creating a build for release to the public.
</span><span style=color:#f07171>-#[derive(Default)]
</span><span style=color:#f07171>-pub struct DevToolsPlugin;
</span><span style=color:#f07171>-
</span><span style=color:#f07171>-impl Plugin for DevToolsPlugin {
</span><span style=color:#f07171>-    fn build(&self, _app: &mut App) {}
</span><span style=color:#f07171>-}
</span><span>diff --git a/crates/bevy_internal/src/default_plugins.rs b/crates/bevy_internal/src/default_plugins.rs
</span><span>index 4467da12f4f11..a1c41b0645f2a 100644
</span><span style=color:#c594c5>--- a/crates/bevy_internal/src/default_plugins.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_internal/src/default_plugins.rs
</span><span style=color:#c594c5>@@ -80,8 +80,6 @@ </span><span style=color:#399ee6>plugin_group! {
</span><span>         bevy_gizmos:::GizmoPlugin,
</span><span>         #[cfg(feature = "bevy_state")]
</span><span>         bevy_state::app:::StatesPlugin,
</span><span style=color:#f07171>-        #[cfg(feature = "bevy_dev_tools")]
</span><span style=color:#f07171>-        bevy_dev_tools:::DevToolsPlugin,
</span><span>         #[cfg(feature = "bevy_ci_testing")]
</span><span>         bevy_dev_tools::ci_testing:::CiTestingPlugin,
</span><span>         #[cfg(feature = "hotpatching")]
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-10/pr_21328.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>