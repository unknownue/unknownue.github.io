<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21180 Remove `line_height` from `TextFont`
        
    </title><meta content="#21180 Remove `line_height` from `TextFont`" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-10/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-10-29</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-10/pr-21180-zh-cn-20251029>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Remove <code>line_height</code> from <code>TextFont</code><li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21180<li><strong>Author</strong>: ickshonpe<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Code-Quality, S-Ready-For-Final-Review, A-Text, X-Uncontroversial, D-Straightforward<li><strong>Created</strong>: 2025-09-23T10:39:38Z<li><strong>Merged</strong>: 2025-10-29T19:05:00Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>Remove the <code>line_height</code> field from <code>TextFont</code>. Line height is a property of the text layout, not the font.<p>Part of the changes for #21175<h2 id=solution>Solution</h2><p>Remove the <code>line_height</code> field from <code>TextFont</code>. Make <code>LineHeight</code> into a component. Update the text access API and text pipeline.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a fundamental architectural issue in Bevy’s text system by separating line height from font properties. The core problem was that <code>line_height</code> was incorrectly stored as a field in the <code>TextFont</code> component, despite being a layout property rather than a font property.<p>The implementation follows a clear architectural principle: fonts define visual characteristics like glyph shapes and sizes, while layout components control how text flows and positions. This separation allows for more flexible text rendering where the same font can be used with different line heights in different contexts.<p>The changes begin with removing the <code>line_height</code> field from <code>TextFont</code> entirely:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>TextFont </span><span>{
</span><span>    </span><span style=color:#fa6e32>pub </span><span>font</span><span style=color:#61676ccc>: </span><span>Handle&LTFont>,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>font_size</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>line_height</span><span style=color:#61676ccc>:</span><span> LineHeight,  </span><span style=color:#abb0b6;font-style:italic>// This field is removed
</span><span>    </span><span style=color:#fa6e32>pub </span><span>font_smoothing</span><span style=color:#61676ccc>:</span><span> FontSmoothing,
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>TextFont </span><span>{
</span><span>    </span><span style=color:#fa6e32>pub </span><span>font</span><span style=color:#61676ccc>: </span><span>Handle&LTFont>,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>font_size</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>font_smoothing</span><span style=color:#61676ccc>:</span><span> FontSmoothing,
</span><span>}
</span></code></pre><p>To maintain the same functionality, <code>LineHeight</code> is promoted to a standalone component:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before just an enum, now also a component:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Component</span><span style=color:#61676ccc>,</span><span> Debug</span><span style=color:#61676ccc>,</span><span> Clone</span><span style=color:#61676ccc>,</span><span> Copy</span><span style=color:#61676ccc>,</span><span> PartialEq</span><span style=color:#61676ccc>,</span><span> Reflect)]
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>reflect</span><span>(Component</span><span style=color:#61676ccc>,</span><span> Debug</span><span style=color:#61676ccc>,</span><span> Clone</span><span style=color:#61676ccc>,</span><span> PartialEq)]
</span><span style=color:#fa6e32>pub enum </span><span style=color:#399ee6>LineHeight </span><span>{
</span><span>    Px(</span><span style=color:#fa6e32>f32</span><span>)</span><span style=color:#61676ccc>,
</span><span>    RelativeToFont(</span><span style=color:#fa6e32>f32</span><span>)</span><span style=color:#61676ccc>,
</span><span>}
</span></code></pre><p>This architectural change required updates throughout the text pipeline. The most significant modifications occur in the text access system (<code>text_access.rs</code>) where <code>TextReader</code> and <code>TextWriter</code> now handle line height as a separate component:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Updated query in TextReader to include LineHeight:
</span><span>roots</span><span style=color:#61676ccc>: </span><span>Query<
</span><span>    </span><span style=color:#fa6e32>'w</span><span>, </span><span style=color:#fa6e32>'s</span><span>,
</span><span>    (
</span><span>        </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static</span><span> R,
</span><span>        </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static</span><span> TextFont,
</span><span>        </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static</span><span> TextColor,
</span><span>        </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static</span><span> LineHeight,  // Added
</span><span>        </span><span style=color:#55b4d4;font-style:italic>Option</span><span><</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static</span><span> Children>,
</span><span>    ),
</span><span>>
</span></code></pre><p>The text pipeline (<code>pipeline.rs</code>) required the most extensive changes to accommodate the new data flow. The <code>update_buffer</code> method now accepts line height as a separate parameter in its iterator:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span>text_spans</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>impl </span><span style=color:#399ee6>Iterator</span><span>&LTItem = (Entity, </span><span style=color:#fa6e32>usize</span><span>, </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'a str</span><span>, </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'a</span><span> TextFont, Color)>
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#399ee6>text_spans</span><span>: </span><span style=color:#399ee6>impl Iterator</span><span>&LTItem = (Entity, </span><span style=color:#fa6e32>usize</span><span>, </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'a str</span><span>, </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'a</span><span> TextFont, Color, LineHeight)>
</span></code></pre><p>Similarly, the internal buffer structure was updated to store line height separately:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span>spans_buffer</span><span style=color:#61676ccc>: </span><span style=color:#55b4d4;font-style:italic>Vec</span><span><(</span><span style=color:#fa6e32>usize</span><span>, </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static str</span><span>, </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static</span><span> TextFont, FontFaceInfo)>
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span>spans_buffer</span><span style=color:#61676ccc>: </span><span style=color:#55b4d4;font-style:italic>Vec</span><span><(
</span><span>    </span><span style=color:#fa6e32>usize</span><span>,
</span><span>    </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static str</span><span>,
</span><span>    </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static</span><span> TextFont,
</span><span>    FontFaceInfo,
</span><span>    LineHeight,  // Added
</span><span>)>
</span></code></pre><p>The <code>get_attrs</code> function, which builds cosmic-text attributes, now takes line height as a separate parameter rather than extracting it from the font:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>fn </span><span style=color:#f29718>get_attrs</span><span><</span><span style=color:#fa6e32>'a</span><span>>(
</span><span>    </span><span style=color:#ff8f40>span_index</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>usize</span><span>,
</span><span>    </span><span style=color:#ff8f40>text_font</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span>TextFont,
</span><span>    </span><span style=color:#ff8f40>line_height</span><span style=color:#61676ccc>:</span><span> LineHeight,  </span><span style=color:#abb0b6;font-style:italic>// Now separate parameter
</span><span>    </span><span style=color:#ff8f40>color</span><span style=color:#61676ccc>:</span><span> Color,
</span><span>    </span><span style=color:#ff8f40>face_info</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'a</span><span> FontFaceInfo,
</span><span>    </span><span style=color:#ff8f40>scale_factor</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f64</span><span>,
</span><span>) </span><span style=color:#61676ccc>-> </span><span>Attrs<</span><span style=color:#fa6e32>'a</span><span>>
</span></code></pre><p>Throughout the codebase, components that work with text now require the <code>LineHeight</code> component. For example, <code>TextSpan</code> was updated:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>require</span><span>(TextFont</span><span style=color:#61676ccc>,</span><span> TextColor)]
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>TextSpan</span><span>(pub String)</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>require</span><span>(TextFont</span><span style=color:#61676ccc>,</span><span> TextColor</span><span style=color:#61676ccc>,</span><span> LineHeight)]  </span><span style=color:#abb0b6;font-style:italic>// Added LineHeight requirement
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>TextSpan</span><span>(pub String)</span><span style=color:#61676ccc>;
</span></code></pre><p>The impact of these changes is significant for both performance and code organization. By separating concerns, the text system becomes more maintainable and follows ECS principles more closely. Font properties are now truly about the visual representation of characters, while layout properties control text flow and positioning.<p>For users, this change means they now need to add <code>LineHeight</code> as a separate component when working with text, but the migration is straightforward as demonstrated in the updated examples and migration guide.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[TextFont] --> B[Font Handle]
</span><span>    A --> C[Font Size]
</span><span>    A --> D[Font Smoothing]
</span><span>    E[LineHeight] --> F[Pixels]
</span><span>    E --> G[Relative to Font]
</span><span>    H[TextSpan] --> A
</span><span>    H --> E
</span><span>    H --> I[TextColor]
</span><span>    J[Text Pipeline] --> A
</span><span>    J --> E
</span><span>    J --> I
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-text-src-text-access-rs-107-23><code>crates/bevy_text/src/text_access.rs</code> (+107/-23)</h3><p>This file contains the text access API that was extensively modified to handle line height as a separate component.<p><strong>Key Changes:</strong><ul><li>Updated <code>TextReader</code> and <code>TextWriter</code> queries to include <code>LineHeight</code><li>Added new methods for accessing line height<li>Modified iteration to handle the additional component</ul><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Example of updated method signature:
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>get</span><span>(
</span><span>    </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>,
</span><span>    </span><span style=color:#ff8f40>root_entity</span><span style=color:#61676ccc>:</span><span> Entity,
</span><span>    </span><span style=color:#ff8f40>index</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>usize</span><span>,
</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#55b4d4;font-style:italic>Option</span><span><(Entity, </span><span style=color:#fa6e32>usize</span><span>, </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>str</span><span>, </span><span style=color:#ed9366>&</span><span>TextFont, Color, LineHeight)> {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Implementation now includes line height
</span><span>}
</span></code></pre><h3 id=crates-bevy-text-src-pipeline-rs-54-22><code>crates/bevy_text/src/pipeline.rs</code> (+54/-22)</h3><p>The text pipeline was updated to process line height separately from font properties.<p><strong>Key Changes:</strong><ul><li>Modified buffer structures to store line height separately<li>Updated method signatures to accept line height parameter<li>Modified cosmic-text attribute generation</ul><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Updated spans_buffer type:
</span><span>spans_buffer</span><span style=color:#61676ccc>: </span><span style=color:#55b4d4;font-style:italic>Vec</span><span><(
</span><span>    </span><span style=color:#fa6e32>usize</span><span>,
</span><span>    </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static str</span><span>,
</span><span>    </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'static</span><span> TextFont,
</span><span>    FontFaceInfo,
</span><span>    LineHeight,  // Added
</span><span>)>
</span></code></pre><h3 id=crates-bevy-text-src-text-rs-3-24><code>crates/bevy_text/src/text.rs</code> (+3/-24)</h3><p>Core text component definitions were modified to separate line height from font.<p><strong>Key Changes:</strong><ul><li>Removed <code>line_height</code> field from <code>TextFont</code><li>Made <code>LineHeight</code> a component<li>Updated component requirements</ul><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// TextFont after changes:
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>TextFont </span><span>{
</span><span>    </span><span style=color:#fa6e32>pub </span><span>font</span><span style=color:#61676ccc>: </span><span>Handle&LTFont>,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>font_size</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>font_smoothing</span><span style=color:#61676ccc>:</span><span> FontSmoothing,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// line_height field removed
</span><span>}
</span></code></pre><h3 id=crates-bevy-ui-src-widget-text-rs-13-5><code>crates/bevy_ui/src/widget/text.rs</code> (+13/-5)</h3><p>UI text widgets were updated to require the new <code>LineHeight</code> component.<p><strong>Key Changes:</strong><ul><li>Added <code>LineHeight</code> to component requirements<li>Updated text measurement functions</ul><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Updated require attribute:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>require</span><span>(
</span><span>    Node</span><span style=color:#61676ccc>,
</span><span>    TextLayout</span><span style=color:#61676ccc>,
</span><span>    TextFont</span><span style=color:#61676ccc>,
</span><span>    TextColor</span><span style=color:#61676ccc>,
</span><span>    LineHeight</span><span style=color:#61676ccc>,</span><span>  // Added
</span><span>    TextNodeFlags</span><span style=color:#61676ccc>,
</span><span>    ContentSize
</span><span>)]
</span></code></pre><h3 id=crates-bevy-sprite-src-text2d-rs-4-3><code>crates/bevy_sprite/src/text2d.rs</code> (+4/-3)</h3><p>2D text rendering was updated to include line height as a separate component.<p><strong>Key Changes:</strong><ul><li>Added <code>LineHeight</code> to the text bundle<li>Updated component dependencies</ul><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// In the component bundle:
</span><span>(
</span><span>    Text2d</span><span style=color:#61676ccc>,
</span><span>    TextLayout</span><span style=color:#61676ccc>,
</span><span>    TextFont</span><span style=color:#61676ccc>,
</span><span>    TextColor</span><span style=color:#61676ccc>,
</span><span>    LineHeight</span><span style=color:#61676ccc>,  </span><span style=color:#abb0b6;font-style:italic>// Added
</span><span>    TextBounds</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other components
</span><span>)
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_text/latest/bevy_text/ target=_blank>Bevy Text System Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://bevy-cheatbook.github.io/programming/component-bundle.html target=_blank>ECS Component Best Practices</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/pop-os/cosmic-text target=_blank>Cosmic-text Library</a> - The underlying text layout engine used by Bevy</ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-10/pr_21180.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>