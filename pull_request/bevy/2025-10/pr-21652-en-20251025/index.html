<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21652 fix docs for `Entity::from_row`
        
    </title><meta content="#21652 fix docs for `Entity::from_row`" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-10/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-10-25</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-10/pr-21652-zh-cn-20251025>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>fix docs for <code>Entity::from_row</code><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: fix docs for <code>Entity::from_row</code><li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21652<li><strong>Author</strong>: zacryol<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Docs, A-ECS, S-Ready-For-Final-Review, X-Contentious<li><strong>Created</strong>: 2025-10-25T03:38:33Z<li><strong>Merged</strong>: 2025-10-25T20:44:23Z<li><strong>Merged By</strong>: mockersf</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>The docs state that <code>Entity::from_row</code> creates an entity with a generation of <code>1</code>, which was the case previously. With <code>Entity</code> internals being reworked in <code>0.17</code> however, this is no longer the case, as the generation used is now <code>EntityGeneration::FIRST</code>, currently equivalent to <code>0</code>.<h2 id=solution>Solution</h2><p>This PR changes the docs to state an “unspecified” generation to allow further changes to implementation without needing another rewrite, as the docs rather consistently refer to <code>Entity</code>, <code>EntityRow</code>, and <code>EntityGeneration</code> as being opaque identifiers.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a documentation inconsistency that emerged from changes to Bevy’s Entity Component System (ECS) internals. The core issue was straightforward: the documentation for <code>Entity::from_row</code> was outdated and no longer reflected the actual implementation behavior.<p>Before Bevy 0.17, the <code>Entity::from_row</code> method consistently created entities with a generation value of 1. However, when the Entity internals were reworked in version 0.17, this implementation detail changed. The method now uses <code>EntityGeneration::FIRST</code>, which currently evaluates to 0. This created a mismatch between the documented behavior and the actual implementation.<p>The developer took a pragmatic approach to solving this problem. Instead of simply updating the documentation to reflect the new generation value (0), they chose to make the documentation more future-proof. By describing the generation as “unspecified,” the documentation now aligns with the intended design principle that <code>Entity</code>, <code>EntityRow</code>, and <code>EntityGeneration</code> should be treated as opaque identifiers.<p>This approach has several technical benefits. First, it prevents the documentation from becoming outdated again if the implementation changes in the future. Second, it reinforces the abstraction boundary by not exposing internal implementation details. Third, it maintains consistency with other parts of the ECS documentation that treat these types as opaque.<p>The change is minimal but significant because documentation accuracy is crucial for developers relying on these APIs. When documentation specifies concrete implementation details that later change, it can lead to subtle bugs or confusion. By making the documentation more abstract, this PR helps maintain the stability of the public API contract.<p>The implementation itself is a single-line change to the documentation comment, but it reflects important engineering principles about API design and documentation practices. It demonstrates how small documentation fixes can have meaningful impact on code maintainability and developer experience.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Entity::from_row] --> B[EntityRow parameter]
</span><span>    A --> C[Generation value]
</span><span>    C --> D[Documentation: unspecified]
</span><span>    C --> E[Implementation: EntityGeneration::FIRST]
</span><span>    E --> F[Current value: 0]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>File:</strong> <code>crates/bevy_ecs/src/entity/mod.rs</code><p>This file contains the core Entity implementation for Bevy’s ECS system. The change modifies the documentation for the <code>from_row</code> method to be more abstract and future-proof.<p><strong>Code Change:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>/// Creates a new entity ID with the specified `row` and a generation of 1.
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:  
</span><span style=color:#abb0b6;font-style:italic>/// Creates a new entity ID with the specified `row` and an unspecified generation.
</span></code></pre><p>The change replaces the specific generation value (1) with the more abstract description “unspecified generation.” This aligns with the broader documentation strategy of treating Entity components as opaque identifiers.<h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_ecs/latest/bevy_ecs/ target=_blank>Bevy ECS Documentation</a> - Official Bevy ECS documentation<li><a rel="noopener nofollow noreferrer" href=https://en.wikipedia.org/wiki/Entity_component_system target=_blank>Entity Component System Pattern</a> - Overview of ECS architecture<li><a rel="noopener nofollow noreferrer" href=https://rust-lang.github.io/api-guidelines/ target=_blank>API Design Principles</a> - Rust API guidelines relevant to documentation practices<li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/news/bevy-0-17/ target=_blank>Bevy 0.17 Release Notes</a> - Context for the Entity internals rework mentioned in the PR</ul><h1 id=full-code-diff>Full Code Diff</h1><p>diff –git a/crates/bevy_ecs/src/entity/mod.rs b/crates/bevy_ecs/src/entity/mod.rs index dd1b1b24f7c78..c7f94bd4d3252 100644 — a/crates/bevy_ecs/src/entity/mod.rs +++ b/crates/bevy_ecs/src/entity/mod.rs @@ -496,7 +496,7 @@ impl Entity { /// ``` pub const PLACEHOLDER: Self = Self::from_row(EntityRow::PLACEHOLDER);<ul><li>/// Creates a new entity ID with the specified <code>row</code> and a generation of 1.</ul><ul><li>/// Creates a new entity ID with the specified <code>row</code> and an unspecified generation. /// /// # Note ///</ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-10/pr_21652.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>