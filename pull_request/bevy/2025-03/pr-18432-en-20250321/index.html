<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #18432 Replace VisitEntities with MapEntities
        
    </title><meta content="#18432 Replace VisitEntities with MapEntities" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-03/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-03-21</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-03/pr-18432-zh-cn-20250321>中文</a></div></div><div class=pr-content><h1 id=18432-replace-visitentities-with-mapentities>#18432 Replace VisitEntities with MapEntities</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Replace VisitEntities with MapEntities<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/18432<li><strong>Author</strong>: cart<li><strong>Status</strong>: MERGED<li><strong>Created</strong>: 2025-03-20T01:17:20Z<li><strong>Merged</strong>: 2025-03-22T14:32:45Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>There are currently too many disparate ways to handle entity mapping, especially after #17687. We now have MapEntities, VisitEntities, VisitEntitiesMut, Component::visit_entities, Component::visit_entities_mut.<p>Our only known use case at the moment for these is entity mapping. This means we have significant consolidation potential.<p>Additionally, VisitEntitiesMut cannot be implemented for map-style collections like HashSets, as you cant “just” mutate a <code>&mut Entity</code>. Our current approach to Component mapping requires VisitEntitiesMut, meaning this category of entity collection isn’t mappable. <code>MapEntities</code> is more generally applicable. Additionally, the <em>existence</em> of the blanket From impl on VisitEntitiesMut blocks us from implementing MapEntities for HashSets (or any types we don’t own), because the owner could always add a conflicting impl in the future.<h2 id=solution>Solution</h2><p>Use <code>MapEntities</code> everywhere and remove all “visit entities” usages.<ul><li>Add <code>Component::map_entities</code><li>Remove <code>Component::visit_entities</code>, <code>Component::visit_entities_mut</code>, <code>VisitEntities</code>, and <code>VisitEntitiesMut</code><li>Support deriving <code>Component::map_entities</code> in <code>#[derive(Coomponent)]</code><li>Add <code>#[derive(MapEntities)]</code>, and share logic with the <code>Component::map_entities</code> derive.<li>Add <code>ComponentCloneCtx::queue_deferred</code>, which is command-like logic that runs immediately after normal clones. Reframe <code>FromWorld</code> fallback logic in the “reflect clone” impl to use it. This cuts out a lot of unnecessary work and I think justifies the existence of a pseudo-command interface (given how niche, yet performance sensitive this is).</ul><p>Note that we no longer auto-impl entity mapping for <code> IntoIterator&LTItem = &'a Entity></code> types, as this would block our ability to implement cases like <code>HashMap</code>. This means the onus is on us (or type authors) to add explicit support for types that should be mappable.<p>Also note that the Component-related changes do not require a migration guide as there hasn’t been a release with them yet.<h2 id=migration-guide>Migration Guide</h2><p>If you were previously implementing <code>VisitEntities</code> or <code>VisitEntitiesMut</code> (likely via a derive), instead use <code>MapEntities</code>. Those were almost certainly used in the context of Bevy Scenes or reflection via <code>ReflectMapEntities</code>. If you have a case that uses <code>VisitEntities</code> or <code>VisitEntitiesMut</code> directly, where <code>MapEntities</code> is not a viable replacement, please let us know!<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// before
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(VisitEntities</span><span style=color:#61676ccc>,</span><span> VisitEntitiesMut)]
</span><span style=color:#fa6e32>struct </span><span style=color:#399ee6>Inventory </span><span>{
</span><span>  items</span><span style=color:#61676ccc>: </span><span style=color:#55b4d4;font-style:italic>Vec</span><span>&LTEntity>,
</span><span>  </span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>visit_entities</span><span>(ignore)]
</span><span>  label</span><span style=color:#61676ccc>:</span><span> String,
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// after
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(MapEntities)]
</span><span style=color:#fa6e32>struct </span><span style=color:#399ee6>Inventory </span><span>{
</span><span>  </span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>entities</span><span>]
</span><span>  items</span><span style=color:#61676ccc>: </span><span style=color:#55b4d4;font-style:italic>Vec</span><span>&LTEntity>,
</span><span>  label</span><span style=color:#61676ccc>:</span><span> String,
</span><span>}
</span></code></pre><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><h3 id=the-problem-and-context>The Problem and Context</h3><p>Bevy’s entity mapping system suffered from fragmentation with multiple similar traits (<code>VisitEntities</code>, <code>VisitEntitiesMut</code>, and their component variants) that all served the same core purpose of remapping entity references. This redundancy created maintenance overhead and limited flexibility - particularly for collection types like <code>HashSet&LTEntity></code> that couldn’t implement <code>VisitEntitiesMut</code> due to its mutable iterator requirement.<p>The situation worsened after PR #17687 introduced more entity mapping infrastructure. The team recognized an opportunity to consolidate around the more flexible <code>MapEntities</code> trait, which uses an <code>EntityMapper</code> interface rather than direct mutation. This approach better accommodates various data structures and avoids potential future trait implementation conflicts.<h3 id=the-solution-approach>The Solution Approach</h3><p>The PR eliminates redundant traits and unifies entity mapping under <code>MapEntities</code>. Key decisions included:<ol><li><strong>Trait Consolidation</strong>: Remove <code>VisitEntities</code> and related methods in favor of <code>MapEntities</code><li><strong>Derive Macro Unification</strong>: Combine logic for <code>#[derive(MapEntities)]</code> and component mapping<li><strong>Performance Optimization</strong>: Introduce deferred cloning operations via <code>ComponentCloneCtx::queue_deferred</code></ol><p>The implementation required careful analysis of existing entity mapping use cases and migration paths for downstream users. The team prioritized maintaining backward compatibility through derive macro updates rather than direct trait implementations.<h3 id=the-implementation>The Implementation</h3><p>The core changes manifest in three key areas:<p><strong>1. Component Trait Redesign</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before: Multiple methods
</span><span style=color:#fa6e32>pub trait </span><span style=color:#399ee6>Component</span><span>: Send + Sync + 'static {
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>visit_entities</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>visitor</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> impl Visitor)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>visit_entities_mut</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>visitor</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> impl Visitor)</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After: Unified mapping
</span><span style=color:#fa6e32>pub trait </span><span style=color:#399ee6>Component</span><span>: Send + Sync + 'static {
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>map_entities</span><span>&LTE</span><span style=color:#61676ccc>:</span><span> EntityMapper>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>entity_mapper</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> E)</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><p><strong>2. Macro Updates</strong> The component derive macro was updated to generate <code>map_entities</code> implementations:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// New attribute handling in derive
</span><span style=color:#fa6e32>if let </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(attr) </span><span style=color:#ed9366>=</span><span> ast</span><span style=color:#ed9366>.</span><span>attrs</span><span style=color:#ed9366>.</span><span style=color:#f07171>iter</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#f07171>find</span><span>(|</span><span style=color:#ff8f40>a</span><span>| a</span><span style=color:#ed9366>.</span><span style=color:#f07171>path</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_ident</span><span>(</span><span style=color:#ff8f40>COMPONENT</span><span>)) {
</span><span>    attr</span><span style=color:#ed9366>.</span><span style=color:#f07171>parse_nested_meta</span><span>(|</span><span style=color:#ff8f40>meta</span><span>| {
</span><span>        </span><span style=color:#fa6e32>if</span><span> meta</span><span style=color:#ed9366>.</span><span>path</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_ident</span><span>(</span><span style=color:#86b300>"map_entities"</span><span>) {
</span><span>            </span><span style=color:#abb0b6;font-style:italic>// Generate mapping logic
</span><span>        }
</span><span>    })</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><p><strong>3. Collection Support</strong> Added explicit <code>MapEntities</code> implementations for common collections:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>impl</span><span>&LTS</span><span style=color:#61676ccc>:</span><span> BuildHasher> MapEntities </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>HashSet</span><span>&LTEntity, S> {
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>map_entities</span><span>&LTE</span><span style=color:#61676ccc>:</span><span> EntityMapper>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>entity_mapper</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> E) {
</span><span>        </span><span style=color:#ed9366>*</span><span style=color:#55b4d4;font-style:italic>self </span><span style=color:#ed9366>= </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>drain</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#f07171>map</span><span>(|</span><span style=color:#ff8f40>e</span><span>| entity_mapper</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mapped</span><span>(e))</span><span style=color:#ed9366>.</span><span style=color:#f07171>collect</span><span>()</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span></code></pre><h3 id=technical-insights>Technical Insights</h3><p>The <code>queue_deferred</code> mechanism in <code>ComponentCloneCtx</code> enables batched entity mapping operations:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span>ctx</span><span style=color:#ed9366>.</span><span style=color:#f07171>queue_deferred</span><span>(|</span><span style=color:#ff8f40>world</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>mapper</span><span>| {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Batch process entity mappings
</span><span>})</span><span style=color:#61676ccc>;
</span></code></pre><p>This approach reduces redundant lookups and allows optimizing bulk operations - particularly important for scene spawning and entity cloning performance.<h3 id=the-impact>The Impact</h3><ul><li><strong>Simplified API</strong>: Reduced from 5 entity mapping traits/methods to 1<li><strong>Improved Flexibility</strong>: Enabled entity mapping for previously unsupported types like <code>HashSet</code><li><strong>Performance Gains</strong>: Deferred operations reduce per-entity overhead<li><strong>Future-Proofing</strong>: Eliminated potential trait implementation conflicts</ul><p>The changes affected 10+ files across Bevy’s ECS module, removing 149 lines of legacy code while adding more maintainable implementations. Migration is straightforward through updated derive macros, preserving existing functionality while unlocking new capabilities.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Entity Mapping] --> B[MapEntities]
</span><span>    B --> C[Component]
</span><span>    B --> D[Collections]
</span><span>    B --> E[Derive Macros]
</span><span>    C --> F[Custom Logic]
</span><span>    D --> G[HashSet/Vector]
</span><span>    E --> H[Attribute Handling]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-ecs-src-entity-visit-entities-rs-0-149><code>crates/bevy_ecs/src/entity/visit_entities.rs</code> (+0/-149)</h3><ul><li><strong>Change</strong>: Entire file removed<li><strong>Why</strong>: Eliminated legacy VisitEntities trait system<li><strong>Impact</strong>: Reduces codebase complexity and maintenance burden</ul><h3 id=crates-bevy-ecs-macros-src-component-rs><code>crates/bevy_ecs/macros/src/component.rs</code></h3><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Added map_entities derivation
</span><span style=color:#fa6e32>let</span><span> map_entities_impl </span><span style=color:#ed9366>= </span><span style=color:#fa6e32>if let </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(map_entities) </span><span style=color:#ed9366>=</span><span> attrs</span><span style=color:#ed9366>.</span><span>map_entities {
</span><span>    </span><span style=color:#f07171>quote! </span><span>{
</span><span>        </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>map_entities</span><span>&LTM</span><span style=color:#61676ccc>: </span><span style=color:#f51818>#</span><span>bevy_ecs_path</span><span style=color:#ed9366>::</span><span>entity</span><span style=color:#ed9366>::</span><span>EntityMapper</span><span style=color:#ed9366>></span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#61676ccc>,</span><span> entity_mapper</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> M) {
</span><span>            </span><span style=color:#ed9366>#</span><span>map_entities
</span><span>        }
</span><span>    }
</span><span>}</span><span style=color:#61676ccc>;
</span></code></pre><ul><li><strong>Purpose</strong>: Generates component mapping logic through macros<li><strong>Relation</strong>: Core to unifying entity mapping approaches</ul><h3 id=crates-bevy-ecs-src-component-rs><code>crates/bevy_ecs/src/component.rs</code></h3><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>pub trait </span><span style=color:#399ee6>Component</span><span>: Send + Sync + 'static {
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>visit_entities</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>visitor</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> impl Visitor)</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After: 
</span><span style=color:#fa6e32>pub trait </span><span style=color:#399ee6>Component</span><span>: Send + Sync + 'static {
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>map_entities</span><span>&LTE</span><span style=color:#61676ccc>:</span><span> EntityMapper>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>entity_mapper</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> E)</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><ul><li><strong>Change</strong>: Fundamental trait redesign<li><strong>Impact</strong>: All components now use unified mapping approach</ul><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://bevy-cheatbook.github.io/patterns/entity-mapping.html target=_blank>Entity Mapping in ECS Patterns</a><li><a rel="noopener nofollow noreferrer" href=https://rust-lang.github.io/api-guidelines/ target=_blank>Rust Trait Design Guidelines</a><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_scene/latest/bevy_scene/ target=_blank>Bevy Scene System Documentation</a></ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-03/pr_18432.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>