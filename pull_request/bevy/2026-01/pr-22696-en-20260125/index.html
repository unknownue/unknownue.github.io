<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22696 Fix documentation for `bevy_reflect::Set::remove`
        
    </title><meta content="#22696 Fix documentation for `bevy_reflect::Set::remove`" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-01/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-01-25</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-01/pr-22696-zh-cn-20260125>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>Fix documentation for <code>bevy_reflect::Set::remove</code><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Fix documentation for <code>bevy_reflect::Set::remove</code><li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22696<li><strong>Author</strong>: AoGao-Kedoka<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Docs, D-Trivial, S-Ready-For-Final-Review, A-Reflection<li><strong>Created</strong>: 2026-01-25T12:11:20Z<li><strong>Merged</strong>: 2026-01-25T19:49:10Z<li><strong>Merged By</strong>: mockersf</ul><h2 id=description-translation>Description Translation</h2><p>The PR description is already in English, so it is included exactly as-is:<h1 id=objective>Objective</h1><p>fix https://github.com/bevyengine/bevy/issues/22694<h2 id=solution>Solution</h2><p>update the documentation <code>true</code> if the set have this value, <code>false</code> if not<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a straightforward but important documentation issue in the Bevy game engine’s reflection system. The problem was discovered in issue #22694, which reported that the documentation for the <code>Set::remove</code> method in the <code>bevy_reflect</code> crate was incorrect. Specifically, the return value documentation was reversed.<p>The <code>Set</code> trait in Bevy’s reflection system provides a dynamic way to work with sets of values that can be reflected. This is part of Bevy’s broader reflection infrastructure, which allows for runtime inspection and manipulation of types and data structures. The <code>remove</code> method is a core operation that removes a value from a set and returns a boolean indicating whether the value was present.<p>The documentation error was simple but potentially misleading. Before the fix, the documentation stated that the method would return <code>true</code> if the set did <em>not</em> have the value, and <code>false</code> if it did. This contradicted both common convention and the actual implementation. In standard Rust collections and most other programming languages, methods like <code>remove</code> typically return <code>true</code> when the element was present and successfully removed, and <code>false</code> when the element was not found. This consistency helps developers reason about code behavior across different parts of the codebase.<p>The fix involved swapping two lines of documentation. The change was minimal but important for maintaining accurate API documentation. Accurate documentation is crucial in a large codebase like Bevy, where developers rely on documentation to understand how to use APIs correctly without needing to inspect the source code.<p>From an engineering perspective, this PR demonstrates the importance of clear and correct documentation, especially for public APIs. Even small documentation errors can lead to confusion and bugs when developers misinterpret the expected behavior of a method. The fix ensures that developers reading the documentation will have the correct understanding of what the return value means, which aligns with both the implementation and established conventions in Rust and other languages.<p>The PR was labeled as trivial (D-Trivial) and focused on documentation (C-Docs), which accurately reflects its scope. It was quickly reviewed and merged, showing how the Bevy community efficiently handles small but important corrections to maintain code quality.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Issue #22694 Reported] --> B{Documentation Error Analysis}
</span><span>    B --> C[Identify Incorrect Return Value Docs]
</span><span>    C --> D[Create PR with Line Swap]
</span><span>    D --> E[Review and Merge]
</span><span>    E --> F[Accurate Set::remove Documentation]
</span><span>    
</span><span>    G[bevy_reflect::Set Trait] --> H[remove method]
</span><span>    H --> I[Returns bool]
</span><span>    I --> J[Before: true if not present]
</span><span>    I --> K[After: true if present]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-reflect-src-set-rs-2-2><code>crates/bevy_reflect/src/set.rs</code> (+2/-2)</h3><p>This file contains the <code>Set</code> trait definition in Bevy’s reflection system. The only change was to the documentation comments for the <code>remove</code> method.<p><strong>Before:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>/// Removes a value from the set.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// If the set did not have this value present, `true` is returned.
</span><span style=color:#abb0b6;font-style:italic>/// If the set did have this value present, `false` is returned.
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>remove</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>value</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span>dyn PartialReflect) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span></code></pre><p><strong>After:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>/// Removes a value from the set.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// If the set did have this value present, `true` is returned.
</span><span style=color:#abb0b6;font-style:italic>/// If the set did not have this value present, `false` is returned.
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>remove</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>value</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span>dyn PartialReflect) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span></code></pre><p>The change corrects the documentation to match the expected behavior: returning <code>true</code> when the value was present and removed, and <code>false</code> when it was not present. This aligns with common patterns in Rust’s standard library (like <code>HashSet::remove</code>) and avoids confusion for developers.<h2 id=full-code-diff>Full Code Diff</h2><pre style=color:#61676c;background-color:#fafafa><code><span>diff --git a/crates/bevy_reflect/src/set.rs b/crates/bevy_reflect/src/set.rs
</span><span>index 8d1fc851dbd86..815ae920a1826 100644
</span><span>--- a/crates/bevy_reflect/src/set.rs
</span><span>+++ b/crates/bevy_reflect/src/set.rs
</span><span>@@ -93,8 +93,8 @@ pub trait Set: PartialReflect {
</span><span> 
</span><span>     /// Removes a value from the set.
</span><span>     ///
</span><span>-    /// If the set did not have this value present, `true` is returned.
</span><span>-    /// If the set did have this value present, `false` is returned.
</span><span>+    /// If the set did have this value present, `true` is returned.
</span><span>+    /// If the set did not have this value present, `false` is returned.
</span><span>     fn remove(&mut self, value: &dyn PartialReflect) -> bool;
</span><span> 
</span><span>     /// Checks if the given value is contained in the set
</span></code></pre><h2 id=further-reading>Further Reading</h2><ol><li><strong>Rust API Guidelines - Documentation</strong>: The Rust API guidelines emphasize the importance of clear and correct documentation. <a rel="noopener nofollow noreferrer" href=https://rust-lang.github.io/api-guidelines/documentation.html target=_blank>Rust API Guidelines</a><li><strong>Bevy Reflection System</strong>: Learn more about Bevy’s reflection system in the official Bevy documentation. <a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/book/reflection/ target=_blank>Bevy Reflection</a><li><strong>Standard Library Conventions</strong>: Understanding common patterns in Rust’s standard library helps maintain consistency. <a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/std/collections/struct.HashSet.html#method.remove target=_blank>std::collections::HashSet::remove</a><li><strong>Writing Good Documentation</strong>: A guide to writing effective documentation for Rust projects. <a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/rustdoc/ target=_blank>The Rust Documentation Book</a></ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-01/pr_22696.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>