<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22751 Remove unused `ScreenSpaceReflectionNode`.
        
    </title><meta content="#22751 Remove unused `ScreenSpaceReflectionNode`." property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-01/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-01-31</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-01/pr-22751-zh-cn-20260131>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Remove unused <code>ScreenSpaceReflectionNode</code>.<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22751<li><strong>Author</strong>: Breakdown-Dog<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: A-Rendering, S-Ready-For-Final-Review<li><strong>Created</strong>: 2026-01-31T07:51:25Z<li><strong>Merged</strong>: 2026-01-31T22:12:41Z<li><strong>Merged By</strong>: mockersf</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>Since <code>RenderGraph</code> and <code>ViewNode</code> have been removed in favor of systems, the <code>ScreenSpaceReflectionNode</code> is no longer needed.</ul><h2 id=solution>Solution</h2><ul><li>I just deleted the struct.</ul><h2 id=testing>Testing</h2><ul><li>CI</ul><hr><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR represents a cleanup task in the Bevy rendering codebase. The developer identified that a specific rendering component, <code>ScreenSpaceReflectionsNode</code>, had become obsolete due to architectural changes in Bevy’s rendering system.<p>The context for this change stems from Bevy’s ongoing migration from a <code>RenderGraph</code>-based rendering architecture to a system-based approach. In earlier versions of Bevy, rendering operations were organized into a graph structure where nodes like <code>ScreenSpaceReflectionsNode</code> represented specific rendering passes. Each node in the render graph would execute rendering logic in a specific order, with data flowing between nodes.<p>With the transition to systems, the rendering logic was restructured to use Bevy’s ECS (Entity Component System) architecture more directly. Systems replaced render graph nodes as the primary way to organize rendering operations. This architectural shift left behind several render graph node definitions that were no longer being used in the codebase.<p>The solution implemented in this PR is straightforward: removing the dead code. The <code>ScreenSpaceReflectionsNode</code> struct was defined but no longer referenced anywhere in the codebase after the render graph migration. The developer correctly identified this as technical debt and removed it.<p>From a technical perspective, this change demonstrates good code maintenance practices. The struct had become:<ol><li>Unused - No other code was creating instances of <code>ScreenSpaceReflectionsNode</code><li>Unnecessary - The functionality it represented was now handled by systems<li>Potentially confusing - New developers encountering this code might think render graph nodes were still part of the rendering architecture</ol><p>The implementation consists of simply deleting four lines of code from the SSR (Screen Space Reflections) module. The struct was decorated with <code>#[derive(Default)]</code> and had a doc comment explaining its purpose as “The node in the render graph that traces screen space reflections,” which further confirms its render graph origins.<p>This cleanup has several positive impacts:<ul><li>Reduces codebase complexity by removing unused types<li>Eliminates potential confusion about the current rendering architecture<li>Follows the principle of removing dead code to keep the codebase maintainable<li>May slightly improve compilation times by reducing the amount of code the compiler needs to process</ul><p>The testing approach was appropriate for this type of change. Since the struct was unused, running the existing CI tests was sufficient to verify that the removal didn’t break any functionality. If the struct had been accidentally used somewhere, the CI tests would have failed due to compilation errors.<p>This PR exemplifies a common pattern in software development where architectural migrations leave behind orphaned code. Regular cleanup of such code is important for long-term maintainability. The change is minimal but contributes to the overall health of the codebase by aligning it with the current architectural patterns.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[ScreenSpaceReflectionsNode] --> B[RenderGraph Architecture]
</span><span>    B --> C[Removed]
</span><span>    D[Systems Architecture] --> E[Current Implementation]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-pbr-src-ssr-mod-rs-0-4><code>crates/bevy_pbr/src/ssr/mod.rs</code> (+0/-4)</h3><p>This file contains the screen space reflections implementation. The change removed a struct that was no longer used after the migration from render graph nodes to systems.<p><strong>Before:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>/// The node in the render graph that traces screen space reflections.
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Default)]
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>ScreenSpaceReflectionsNode</span><span style=color:#61676ccc>;
</span></code></pre><p><strong>After:</strong> The struct and its doc comment were completely removed.<p>The <code>ScreenSpaceReflectionsNode</code> struct was part of Bevy’s previous render graph architecture. It would have been used as a node in the render graph to execute screen space reflection calculations. With the transition to systems-based rendering, this node-based approach was replaced, making the struct obsolete.<h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/book/migration-guides/ target=_blank>Bevy Render Graph Migration Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/book/getting-started/ecs/ target=_blank>Bevy ECS and Systems Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://en.wikipedia.org/wiki/Screen_space_reflection target=_blank>Screen Space Reflections in Computer Graphics</a><li><a rel="noopener nofollow noreferrer" href=https://refactoring.guru/smells/dead-code target=_blank>Code Smells: Dead Code</a></ul><h1 id=full-code-diff>Full Code Diff</h1><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_pbr/src/ssr/mod.rs b/crates/bevy_pbr/src/ssr/mod.rs
</span><span>index 978441aeab3ba..7c2c238e4e644 100644
</span><span style=color:#c594c5>--- a/crates/bevy_pbr/src/ssr/mod.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_pbr/src/ssr/mod.rs
</span><span style=color:#c594c5>@@ -160,10 +160,6 @@ </span><span style=color:#399ee6>pub struct ScreenSpaceReflectionsUniform {
</span><span>     use_secant: u32,
</span><span> }
</span><span> 
</span><span style=color:#f07171>-/// The node in the render graph that traces screen space reflections.
</span><span style=color:#f07171>-#[derive(Default)]
</span><span style=color:#f07171>-pub struct ScreenSpaceReflectionsNode;
</span><span style=color:#f07171>-
</span><span> /// Identifies which screen space reflections render pipeline a view needs.
</span><span> #[derive(Component, Deref, DerefMut)]
</span><span> pub struct ScreenSpaceReflectionsPipelineId(pub CachedRenderPipelineId);
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-01/pr_22751.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>