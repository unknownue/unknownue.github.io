<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22344 Update Automatic Directional Navigation Release Notes (due to dependency rearrangement)
        
    </title><meta content="#22344 Update Automatic Directional Navigation Release Notes (due to dependency rearrangement)" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-01/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-01-07</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-01/pr-22344-zh-cn-20260107>中文</a></div></div><div class=pr-content><h1 id=title-update-automatic-directional-navigation-release-notes-due-to-dependency-rearrangement>Title: Update Automatic Directional Navigation Release Notes (due to dependency rearrangement)</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Update Automatic Directional Navigation Release Notes (due to dependency rearrangement)<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22344<li><strong>Author</strong>: kfc35<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Docs, A-UI, S-Needs-Review<li><strong>Created</strong>: 2026-01-01T23:33:47Z<li><strong>Merged</strong>: 2026-01-07T21:38:00Z<li><strong>Merged By</strong>: cart</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>Documenting changes to resolve #22305<li>Update the release notes as a result of #22340</ul><p>This is dependent on merging #22340 into 0.18!<p><strong>This is pointing to merge into release-0.18.0</strong>, not main<p>@jbuehler23 FYI<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This pull request is a documentation update that fixes release notes for Bevy 0.18’s automatic directional navigation feature. The story begins with PR #21668, which introduced automatic directional navigation to eliminate the need for manually wiring UI navigation connections. This feature automatically computes navigation paths between focusable UI elements based on their spatial positioning.<p>After the initial implementation, PR #22340 introduced a dependency rearrangement that changed how developers interact with the automatic navigation system. Specifically, it replaced the <code>DirectionalNavigation</code> system parameter with <code>AutoDirectionalNavigator</code> for systems using automatic navigation. This architectural change required corresponding updates to the documentation to prevent confusion and ensure developers use the correct API.<p>The problem was straightforward: the existing release notes documented the old API, which would cause developers following the documentation to use deprecated or incorrect patterns. The solution involved updating the release notes to reflect the new system parameter while maintaining clarity about the migration path from 0.17 to 0.18.<p>The implementation changes are minimal but important. The PR updates the <code>automatic_directional_navigation.md</code> file to:<ol><li>Reference both relevant PRs (#21668 and #22340)<li>Clarify that the system parameter (not just “the system”) finds nearest neighbors<li>Provide code examples using the new <code>AutoDirectionalNavigator</code> system parameter<li>Update the migration guide with clear before/after examples showing both the 0.17 manual approach and the 0.18 automatic approach</ol><p>From a technical perspective, this change highlights how Bevy’s architectural decisions around system parameters evolve. The introduction of <code>AutoDirectionalNavigator</code> as a separate system parameter from <code>DirectionalNavigation</code> suggests a design pattern where different navigation strategies (manual vs automatic) are represented by distinct system parameters, providing clearer API boundaries and potentially better compile-time guarantees.<p>The impact is primarily on developer experience. Without this update, developers upgrading to 0.18 would encounter confusing documentation that doesn’t match the actual API. The migration guide section is particularly valuable as it shows both the old manual approach (using <code>DirectionalNavigation</code> system parameter with manual edge definitions) and the new approach (using <code>AutoDirectionalNavigator</code> with automatic navigation components).<p>The technical lesson here is about maintaining documentation in sync with API changes, especially when those changes involve dependency rearrangements that aren’t immediately obvious from the feature itself. The PR author correctly identifies that this change must target the release-0.18.0 branch, not main, ensuring the documentation is ready for the upcoming release.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[PR #21668: Introduces Automatic Navigation] --> B[Initial Release Notes]
</span><span>    C[PR #22340: Dependency Rearrangement] --> D[Changes System Parameter]
</span><span>    D --> E[PR #22344: Updates Documentation]
</span><span>    B --> E
</span><span>    F[Developers Following Docs] --> G[Correct API Usage in 0.18]
</span><span>    E --> G
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>File</strong>: <code>release-content/release-notes/automatic_directional_navigation.md</code><p><strong>Summary</strong>: This file contains the release notes for the automatic directional navigation feature introduced in Bevy 0.18. The updates reflect API changes from PR #22340, which replaced the <code>DirectionalNavigation</code> system parameter with <code>AutoDirectionalNavigator</code> for automatic navigation.<p><strong>Key Changes</strong>:<ol><li><strong>Updated PR references</strong>: Added PR #22340 to the list of related pull requests.<li><strong>Clarified terminology</strong>: Changed “system” to “system parameter” for technical accuracy.<li><strong>Added new code example</strong>: Showed how to use <code>AutoDirectionalNavigator</code> instead of <code>DirectionalNavigation</code>.<li><strong>Updated migration guide</strong>: Provided clear 0.17 vs 0.18 comparison with proper system parameter usage.</ol><p><strong>Code Snippets</strong>:<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#fa6e32;font-weight:700># </span><span style=color:#399ee6;font-weight:700>Before (partial):
</span><span>Bevy now supports </span><span style=color:#f07171;font-weight:700>**automatic directional navigation graph generation**</span><span> for UI elements!
</span><span>
</span><span>Now, you can simply add the </span><span style=color:#ed9366;background-color:#61676c10>`AutoDirectionalNavigation`</span><span> component to your UI entities, and Bevy will automatically compute navigation connections based on spatial positioning. The system intelligently finds the nearest neighbor...
</span><span>
</span><span style=color:#fa6e32;font-weight:700># </span><span style=color:#399ee6;font-weight:700>After (partial):
</span><span>Bevy now supports </span><span style=color:#f07171;font-weight:700>**automatic directional navigation**</span><span> for UI elements!
</span><span>
</span><span>Now, you can simply add the </span><span style=color:#ed9366;background-color:#61676c10>`AutoDirectionalNavigation`</span><span> component to your UI entities, and Bevy will automatically compute navigation connections based on spatial positioning. The system parameter intelligently finds the nearest neighbor...
</span></code></pre><pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#fa6e32;font-weight:700># </span><span style=color:#399ee6;font-weight:700>Before migration guide (partial):
</span><span style=color:#f07171;font-weight:700>**Before:**
</span><span>
</span><span>```</span><span style=color:#ff8f40>rust
</span><span style=color:#abb0b6;background-color:#61676c07;font-style:italic>// Manually define all edges
</span><span style=color:#61676c;background-color:#61676c07>directional_nav_map</span><span style=color:#ed9366;background-color:#61676c07>.</span><span style=color:#f07171;background-color:#61676c07>add_looping_edges</span><span style=color:#61676c;background-color:#61676c07>(</span><span style=color:#ed9366;background-color:#61676c07>&</span><span style=color:#61676c;background-color:#61676c07>row_entities</span><span style=color:#61676ccc;background-color:#61676c07>, </span><span style=color:#61676c;background-color:#61676c07>CompassOctant</span><span style=color:#ed9366;background-color:#61676c07>::</span><span style=color:#61676c;background-color:#61676c07>East)</span><span style=color:#61676ccc;background-color:#61676c07>;
</span><span style=color:#61676c;background-color:#61676c07>directional_nav_map</span><span style=color:#ed9366;background-color:#61676c07>.</span><span style=color:#f07171;background-color:#61676c07>add_edges</span><span style=color:#61676c;background-color:#61676c07>(</span><span style=color:#ed9366;background-color:#61676c07>&</span><span style=color:#61676c;background-color:#61676c07>column_entities</span><span style=color:#61676ccc;background-color:#61676c07>, </span><span style=color:#61676c;background-color:#61676c07>CompassOctant</span><span style=color:#ed9366;background-color:#61676c07>::</span><span style=color:#61676c;background-color:#61676c07>South)</span><span style=color:#61676ccc;background-color:#61676c07>;
</span><span style=color:#abb0b6;background-color:#61676c07;font-style:italic>// ... repeat for all rows and columns
</span></code></pre><p><strong>After:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Just add the component to your UI entities
</span><span>commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>    Button</span><span style=color:#61676ccc>,
</span><span>    Node { </span><span style=color:#abb0b6;font-style:italic>/* ... */ </span><span>}</span><span style=color:#61676ccc>,
</span><span>    AutoDirectionalNavigation</span><span style=color:#ed9366>::</span><span>default()</span><span style=color:#61676ccc>,
</span><span>))</span><span style=color:#61676ccc>;
</span></code></pre><h1 id=after-migration-guide-partial>After migration guide (partial):</h1><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 0.17
</span><span style=color:#abb0b6;font-style:italic>// Manually define all edges
</span><span>directional_nav_map</span><span style=color:#ed9366>.</span><span style=color:#f07171>add_looping_edges</span><span>(</span><span style=color:#ed9366>&</span><span>row_entities</span><span style=color:#61676ccc>, </span><span>CompassOctant</span><span style=color:#ed9366>::</span><span>East)</span><span style=color:#61676ccc>;
</span><span>directional_nav_map</span><span style=color:#ed9366>.</span><span style=color:#f07171>add_edges</span><span>(</span><span style=color:#ed9366>&</span><span>column_entities</span><span style=color:#61676ccc>, </span><span>CompassOctant</span><span style=color:#ed9366>::</span><span>South)</span><span style=color:#61676ccc>;
</span><span style=color:#abb0b6;font-style:italic>// ... repeat for all rows and columns
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Use the DirectionalNavigation SystemParam to navigate in your system
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>my_navigation_system</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>directional_navigation</span><span style=color:#61676ccc>:</span><span> DirectionalNavigation) {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>    directional_navigation</span><span style=color:#ed9366>.</span><span style=color:#f07171>navigate</span><span>(CompassOctant</span><span style=color:#ed9366>::</span><span>East)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 0.18
</span><span style=color:#abb0b6;font-style:italic>// Just add the component to your UI entities
</span><span>commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>    Button</span><span style=color:#61676ccc>,
</span><span>    Node { </span><span style=color:#abb0b6;font-style:italic>/* ... */ </span><span>}</span><span style=color:#61676ccc>,
</span><span>    AutoDirectionalNavigation</span><span style=color:#ed9366>::</span><span>default()</span><span style=color:#61676ccc>,
</span><span>))</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Use the AutoDirectionalNavigator SystemParam to navigate in your system
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>my_navigation_system</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>auto_directional_navigator</span><span style=color:#61676ccc>:</span><span> AutoDirectionalNavigator) {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>    auto_directional_navigator</span><span style=color:#ed9366>.</span><span style=color:#f07171>navigate</span><span>(CompassOctant</span><span style=color:#ed9366>::</span><span>East)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>}
</span></code></pre><h2 id=further-reading>Further Reading</h2><ol><li><p><strong>Bevy UI Navigation System</strong>: The official Bevy documentation on UI and navigation systems provides context for how directional navigation works in the engine.</p><li><p><strong>System Parameters in Bevy</strong>: Understanding Bevy’s SystemParam trait and how different system parameters are used for different purposes is key to working with the navigation system.</p><li><p><strong>Spatial Algorithms for UI Navigation</strong>: The automatic navigation feature uses spatial algorithms to determine nearest neighbors. Research on spatial partitioning and nearest-neighbor search algorithms provides background on how this feature works under the hood.</p><li><p><strong>API Design Patterns</strong>: The evolution from <code>DirectionalNavigation</code> to <code>AutoDirectionalNavigator</code> demonstrates API design patterns for separating concerns and providing clear interfaces for different usage patterns.</p><li><p><strong>Documentation-Driven Development</strong>: This PR exemplifies the importance of keeping documentation in sync with code changes, especially when APIs evolve during the release cycle.</p></ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-01/pr_22344.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>