<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22730 update fullscreen material example comment to be clear about 2d support
        
    </title><meta content="#22730 update fullscreen material example comment to be clear about 2d support" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-01/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-01-29</span><div class=language-switcher><a class=lang-link data-lang=en href=/pull_request/bevy/2026-01/pr-22730-en-20260129>English</a> / <span class="lang-link active" data-lang=zh-cn>中文</span></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: update fullscreen material example comment to be clear about 2d support<li><strong>PR链接</strong>: https://github.com/bevyengine/bevy/pull/22730<li><strong>作者</strong>: ChristopherBiscardi<li><strong>状态</strong>: 已合并<li><strong>标签</strong>: A-Rendering, C-Examples, S-Ready-For-Final-Review<li><strong>创建时间</strong>: 2026-01-28T21:26:26Z<li><strong>合并时间</strong>: 2026-01-28T23:40:54Z<li><strong>合并者</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p><strong>目标</strong><br> 由于当前全屏材质示例中的注释，一些用户误以为<code>fullscreen_material</code>在2D中不起作用。实际上它是起作用的。<p><strong>解决方案</strong><br> 更新注释，以反映该功能在2D中同样可用，本示例只是用于展示3D场景。<p><strong>展示</strong><br> 将示例中所有出现“3d“的地方替换为“2d“后的矩形和圆形效果。</p><img alt=image height=420 src=https://github.com/user-attachments/assets/1711c67b-2166-4777-b1d4-09d283c5a162 width=484><img alt=image height=1040 src=https://github.com/user-attachments/assets/9a331f95-d327-48cc-8823-fe84d1c86aef width=1082><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>这个PR始于一个简单的观察：Bevy引擎中的<code>fullscreen_material</code>示例在注释上存在误导性。示例代码主要用于展示如何在3D场景中应用自定义的全屏后期处理着色器。然而，其注释未能明确说明<code>FullscreenMaterial</code>这一功能本身也完全支持2D渲染。这导致一些用户在查阅示例后，错误地得出了“该功能仅限3D使用”的结论，从而可能放弃使用或寻找不必要的替代方案。<p>问题的核心在于文档与代码功能的不匹配。示例（Example）在开源项目中扮演着双重角色：它既是功能演示，也是最重要的使用文档之一。当示例的注释（Comment）只强调一种使用场景（3D）时，很容易让开发者，特别是新用户，误以为这是该功能的唯一适用场景。这种认知偏差会限制功能的使用范围，并可能引发不必要的社区问题。<p>因此，解决方案非常直接：修改示例文件的注释，提供清晰、准确的说明。开发者没有改变任何功能代码、API或行为，仅仅修正了文档表述。这是一种典型的、低风险高回报的维护性工作。<p>具体到实现上，修改集中在<code>examples/shader_advanced/fullscreen_material.rs</code>文件中，包含两处主要更新。<p>首先，在文件的模块级文档注释中增加了明确的说明。修改前的注释仅简单陈述示例目的，修改后则明确指出当前示例演示的是3D用法，并提供了如何使其在2D中工作的指导原则。<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>//! Demonstrates how to write a custom fullscreen shader
</span><span style=color:#abb0b6;font-style:italic>//!
</span><span style=color:#abb0b6;font-style:italic>//! This example demonstrates working in 3d. To make the example work in 2d,
</span><span style=color:#abb0b6;font-style:italic>//! replace 3d components with their 2d counterparts, and schedule the work
</span><span style=color:#abb0b6;font-style:italic>//! to run in the `Core2d` schedule as described in the `FullscreenMaterial`
</span><span style=color:#abb0b6;font-style:italic>//! comment in this file.
</span></code></pre><p>其次，也是更关键的一处，是在<code>FullscreenMaterial</code> trait实现的<code>run_in</code>方法关联函数处（当前被注释掉，使用默认实现），添加了详细的、可运行的代码示例。这段注释解释了<code>FullscreenMaterial</code>默认使用3D调度系统，并具体展示了如何通过实现<code>schedule</code>和<code>run_in</code>方法，将同一个全屏材质逻辑适配到2D的调度系统中。<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span>    </span><span style=color:#abb0b6;font-style:italic>// The `FullscreenMaterial` uses 3d schedules by default.
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// To make this work in 2d, you would need to schedule to
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// run in `Core2d` and in a `Core2dSystems` set.
</span><span>    </span><span style=color:#abb0b6;font-style:italic>//
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// fn schedule() -> impl bevy::ecs::schedule::ScheduleLabel + Clone {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>//     bevy::core_pipeline::Core2d
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// }
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// fn run_in() -> impl SystemSet {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>//     bevy::core_pipeline::Core2dSystems::PostProcess
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// }
</span></code></pre><p>这个修改具有很好的教学意义。它不仅澄清了误解，还主动教授了Bevy调度系统（Schedule）的一个关键概念：如何控制系统的执行阶段（<code>Core2d</code> vs <code>Core3d</code>）和系统集（<code>Core2dSystems::PostProcess</code>）。用户可以看到，将功能从3D迁移到2D，主要涉及的是调度配置的更改，而非着色器逻辑或材质本身的重大重写。<p>从工程角度看，这个PR虽然改动小，但体现了良好的软件维护实践：<ol><li><strong>准确性</strong>：确保文档与代码能力保持一致，避免误导。<li><strong>前瞻性</strong>：不仅修复问题，还提供了解决方案（代码片段），降低了用户的使用门槛。<li><strong>最小化变更</strong>：只修改必要部分，不涉及功能逻辑，风险极低。</ol><p>最终的“展示”部分（Showcase）用两张截图直观地证明了功能在2D中的可行性。开发者将示例中所有“3d”文本替换为“2d”后，成功对2D图形（矩形和圆形）应用了全屏着色器效果，为注释的修正提供了无可争议的视觉证据。<p>这个PR的故事告诉我们，在软件开发中，尤其是维护大型开源框架时，清晰的文档和示例注释与技术实现本身同等重要。一个看似微小的文档修正，可以消除用户的困惑，拓宽功能的使用场景，并提升整个项目的易用性。<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    subgraph “问题”
</span><span>        A[示例注释] -->|仅提及3D| B[用户误解]
</span><span>        B -->|认为功能不支持| C[2D场景]
</span><span>    end
</span><span>
</span><span>    subgraph “解决方案”
</span><span>        D[修改注释] --> E[模块级文档]
</span><span>        D --> F[Impl块内注释]
</span><span>        E -->|澄清2D支持| G[消除误解]
</span><span>        F -->|提供2D适配代码示例| H[指导用户]
</span><span>    end
</span><span>
</span><span>    subgraph “结果”
</span><span>        G --> I[准确的用户认知]
</span><span>        H --> J[更低的2D使用门槛]
</span><span>        I & J --> K[提升框架易用性]
</span><span>    end
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>1. <code>examples/shader_advanced/fullscreen_material.rs</code> (+16/-2)</strong><p>这个文件是本次PR修改的唯一文件。修改内容是纯文档性的，旨在澄清<code>FullscreenMaterial</code>功能对2D渲染的支持。<p><strong>修改内容：</strong><ol><li><p><strong>模块级文档注释更新</strong>：在文件开头增加了说明，指出当前示例展示的是3D用法，并简要指导用户如何适配到2D。</p> <pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>//! Demonstrates how to write a custom fullscreen shader.
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>//! Demonstrates how to write a custom fullscreen shader
</span><span style=color:#abb0b6;font-style:italic>//!
</span><span style=color:#abb0b6;font-style:italic>//! This example demonstrates working in 3d. To make the example work in 2d,
</span><span style=color:#abb0b6;font-style:italic>//! replace 3d components with their 2d counterparts, and schedule the work
</span><span style=color:#abb0b6;font-style:italic>//! to run in the `Core2d` schedule as described in the `FullscreenMaterial`
</span><span style=color:#abb0b6;font-style:italic>//! comment in this file.
</span></code></pre><li><p><strong><code>FullscreenMaterial</code>实现内的注释更新</strong>：在<code>run_in</code>方法的位置，将原本简单的默认行为说明，替换为详细的解释和可运行的2D适配代码示例。</p> <pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>// Uses default run_in (Core3dSystems::PostProcess)
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>// The `FullscreenMaterial` uses 3d schedules by default.
</span><span style=color:#abb0b6;font-style:italic>// To make this work in 2d, you would need to schedule to
</span><span style=color:#abb0b6;font-style:italic>// run in `Core2d` and in a `Core2dSystems` set.
</span><span style=color:#abb0b6;font-style:italic>//
</span><span style=color:#abb0b6;font-style:italic>// fn schedule() -> impl bevy::ecs::schedule::ScheduleLabel + Clone {
</span><span style=color:#abb0b6;font-style:italic>//     bevy::core_pipeline::Core2d
</span><span style=color:#abb0b6;font-style:italic>// }
</span><span style=color:#abb0b6;font-style:italic>// fn run_in() -> impl SystemSet {
</span><span style=color:#abb0b6;font-style:italic>//     bevy::core_pipeline::Core2dSystems::PostProcess
</span><span style=color:#abb0b6;font-style:italic>// }
</span></code></pre></ol><p><strong>关系与影响：</strong> 这些修改直接服务于PR的核心目标——消除用户关于“全屏材质不支持2D”的误解。通过提供明确的文字说明和具体的代码示例，该修改将示例从一个单纯的3D演示，转变为一个同时阐明2D/3D通用使用模式的教学资源。它没有改变任何运行时行为，但显著提升了代码作为文档的质量。<h2 id=further-reading>Further Reading</h2><ol><li><strong>Bevy 官方文档 - 着色器（Shaders）</strong>: 了解如何在Bevy中编写和使用自定义着色器。<li><strong>Bevy 官方文档 - 调度（Schedule）与系统（System）</strong>: 深入理解Bevy ECS中的调度系统，包括<code>Core2d</code>、<code>Core3d</code>等Schedule以及<code>SystemSet</code>的概念，这对于理解如何将全屏材质适配到不同渲染管线至关重要。<li><strong>Bevy 官方示例 - 着色器（shader）相关</strong>: 查看其他着色器示例，如<code>shader_material</code>、<code>post_processing</code>等，以获得更全面的视角。<li><strong>《代码大全》中关于“注释”的章节</strong>: 理解编写高质量、准确注释的最佳实践，这对于维护大型代码库非常重要。</ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-01/pr_22730.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>