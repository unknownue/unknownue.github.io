<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22660 Bump actions/setup-java from 5.1.0 to 5.2.0
        
    </title><meta content="#22660 Bump actions/setup-java from 5.1.0 to 5.2.0" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-01/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-01-23</span><div class=language-switcher><a class=lang-link data-lang=en href=/pull_request/bevy/2026-01/pr-22660-en-20260123>English</a> / <span class="lang-link active" data-lang=zh-cn>中文</span></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Bump actions/setup-java from 5.1.0 to 5.2.0<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22660<li><strong>Author</strong>: app/dependabot<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Dependencies<li><strong>Created</strong>: 2026-01-23T06:52:30Z<li><strong>Merged</strong>: 2026-01-23T11:41:44Z<li><strong>Merged By</strong>: mockersf</ul><h2 id=description-translation>Description Translation</h2><p>Bumps <a rel="noopener nofollow noreferrer" href=https://github.com/actions/setup-java target=_blank>actions/setup-java</a> from 5.1.0 to 5.2.0.<details><summary>Release notes</summary> <p><em>Sourced from <a href=https://github.com/actions/setup-java/releases>actions/setup-java's releases</a>.</em></p> <blockquote><h2>v5.2.0</h2><h2>What's Changed</h2><h3>Enhancement</h3><ul><li>Retry on HTTP 522 Connection timed out by <a href=https://github.com/findepi><code>@​findepi</code></a> in <a href=https://redirect.github.com/actions/setup-java/pull/964>actions/setup-java#964</a></ul><h3>Documentation Changes</h3><ul><li>Update gradle caching by <a href=https://github.com/priya-kinthali><code>@​priya-kinthali</code></a> in <a href=https://redirect.github.com/actions/setup-java/pull/972>actions/setup-java#972</a><li>Update checkout to v6 by <a href=https://github.com/mahabaleshwars><code>@​mahabaleshwars</code></a> in <a href=https://redirect.github.com/actions/setup-java/pull/973>actions/setup-java#973</a></ul><h3>Dependency Updates</h3><ul><li>Upgrade <code>@​actions/cache</code> to v5 by <a href=https://github.com/salmanmkc><code>@​salmanmkc</code></a> in <a href=https://redirect.github.com/actions/setup-java/pull/968>actions/setup-java#968</a><li>Upgrade actions/checkout from 5 to 6 by <a href=https://github.com/dependabot><code>@​dependabot</code></a> in <a href=https://redirect.github.com/actions/setup-java/pull/961>actions/setup-java#961</a></ul><h2>New Contributors</h2><ul><li><a href=https://github.com/findepi><code>@​findepi</code></a> made their first contribution in <a href=https://redirect.github.com/actions/setup-java/pull/964>actions/setup-java#964</a></ul><p><strong>Full Changelog</strong>: <a href=https://github.com/actions/setup-java/compare/v5...v5.2.0>https://github.com/actions/setup-java/compare/v5...v5.2.0</a></blockquote></details><details><summary>Commits</summary> <ul><li><a href=https://github.com/actions/setup-java/commit/be666c2fcd27ec809703dec50e508c2fdc7f6654><code>be666c2</code></a> Chore: Version Update and Checkout Update to v6 (<a href=https://redirect.github.com/actions/setup-java/issues/973>#973</a>)<li><a href=https://github.com/actions/setup-java/commit/f7a6fefba97e80156950e16f2a9dafc8579b7d05><code>f7a6fef</code></a> Bump actions/checkout from 5 to 6 (<a href=https://redirect.github.com/actions/setup-java/issues/961>#961</a>)<li><a href=https://github.com/actions/setup-java/commit/d81c4e45f3ac973cc936d79104023e20054ba578><code>d81c4e4</code></a> Upgrade <code>@​actions/cache</code> to v5 (<a href=https://redirect.github.com/actions/setup-java/issues/968>#968</a>)<li><a href=https://github.com/actions/setup-java/commit/1b1bbe1085cb6ab21b5b19b7bebc091a9430026a><code>1b1bbe1</code></a> readme update (<a href=https://redirect.github.com/actions/setup-java/issues/972>#972</a>)<li><a href=https://github.com/actions/setup-java/commit/5d7b2146334bacf88728daaa70414a99f5164e0f><code>5d7b214</code></a> Retry on HTTP 522 Connection timed out (<a href=https://redirect.github.com/actions/setup-java/issues/964>#964</a>)<li>See full diff in <a href=https://github.com/actions/setup-java/compare/f2beeb24e141e01a676f977032f5a29d81c9e27e...be666c2fcd27ec809703dec50e508c2fdc7f6654>compare view</a></ul></details><br><p><a rel="noopener nofollow noreferrer" href=https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores target=_blank><img alt="Dependabot compatibility score" src="https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=actions/setup-java&package-manager=github_actions&previous-version=5.1.0&new-version=5.2.0"></a><p>Dependabot will resolve any conflicts with this PR as long as you don’t alter it yourself. You can also trigger a rebase manually by commenting <code>@dependabot rebase</code>.<hr><details><summary>Dependabot commands and options</summary> <br> <p>You can trigger Dependabot actions by commenting on this PR:</p> <ul><li><code>@dependabot rebase</code> will rebase this PR<li><code>@dependabot recreate</code> will recreate this PR, overwriting any edits that have been made to it<li><code>@dependabot merge</code> will merge this PR after your CI passes on it<li><code>@dependabot squash and merge</code> will squash and merge this PR after your CI passes on it<li><code>@dependabot cancel merge</code> will cancel a previously requested merge and block automerging<li><code>@dependabot reopen</code> will reopen this PR if it is closed<li><code>@dependabot close</code> will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually<li><code>@dependabot show &LTdependency name> ignore conditions</code> will show all of the ignore conditions of the specified dependency<li><code>@dependabot ignore this major version</code> will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)<li><code>@dependabot ignore this minor version</code> will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)<li><code>@dependabot ignore this dependency</code> will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)</ul></details><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>这个PR的核心是一次常规的GitHub Actions依赖版本更新，由Dependabot自动发起。虽然从代码变更的规模来看，这只是一个单行修改，但它反映了现代化软件开发中一个重要的工程实践：通过自动化工具持续维护第三方依赖的版本，以确保CI/CD（持续集成/持续部署）管道的稳定性和安全性。<p>故事始于Dependabot检测到项目CI配置中使用了一个可更新的依赖。在<code>.github/workflows/validation-jobs.yml</code>文件中，有一个用于设置Java开发环境的步骤，它依赖于<code>actions/setup-java</code>这个GitHub官方Action。Dependabot发现该Action的仓库发布了新版本<code>v5.2.0</code>，于是自动创建了这个PR，提议将引用从<code>v5.1.0</code>（具体提交<code>f2beeb2</code>）升级到<code>v5.2.0</code>（具体提交<code>be666c2</code>）。<p>这个版本升级并非一个简单的版本号跳跃，其背后包含了几项有实际价值的改进。根据发布说明，最关键的增强（Enhancement）是“Retry on HTTP 522 Connection timed out”。HTTP 522状态码是Cloudflare定义的“连接超时”错误，通常意味着源服务器在预定时间内没有响应。在CI环境中，从网络下载JDK或依赖包时，偶尔会遇到此类瞬时网络故障。在旧版本中，遇到522错误会导致整个CI步骤立即失败。新版本引入了重试机制，当遇到该特定错误时，Action会自动重试下载操作，这显著提高了工作流在不可靠网络条件下的鲁棒性，减少了因瞬时网络问题导致的CI构建失败，从而提升了开发团队的效率。<p>除了重试机制，<code>v5.2.0</code>还包含了其自身依赖的更新。它升级了<code>@actions/cache</code>到v5，并升级<code>actions/checkout</code>从v5到v6。这些是其内部依赖的更新，对于Bevy项目来说，这意味着间接获得了这些下层依赖可能带来的性能改进、新功能或安全修复。文档更新则是关于Gradle缓存的最佳实践，这对直接使用该Action的项目有参考价值，但对Bevy（一个Rust游戏引擎）的CI流程可能没有直接影响。<p>从工程角度看，维护CI依赖的更新是降低项目运维风险的重要一环。过时的依赖可能包含已知的安全漏洞或已被弃用的API。Dependabot这类工具自动化了这个过程，它定期扫描项目依赖，在发现新版本时自动创建更新PR。这使团队能够以最小的精力保持依赖的现代性。<p>这个PR的合并过程非常顺畅。维护者<code>mockersf</code>在PR创建后约5小时内就将其合并，这表明团队对这类由自动化工具发起的、低风险、向后兼容的依赖更新持信任态度。PR上的<code>C-Dependencies</code>标签也清晰地表明了其性质。Dependabot提供的“兼容性分数”（compatibility score）徽章进一步辅助了决策，它给出了依赖更新可能引入破坏性变更的风险评估，高分意味着更新是安全的。<p>总之，这个PR代表了一次标准且有益的维护操作。它没有修改任何业务逻辑代码，但对保障CI系统的可靠性有积极作用。它展示了如何通过自动化工具，以最小的开销，系统性地管理项目基础设施的依赖健康度。<h2 id=visual-representation>Visual Representation</h2><p>这个PR的变更结构非常简单，只涉及一个工作流文件中一个Action版本的更新。<pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    subgraph “Before PR”
</span><span>        A1[GitHub Workflow: validation-jobs.yml] --> B1[Action: actions/setup-java]
</span><span>        B1 --> C1[Version: v5.1.0]
</span><span>        C1 --> D1[Commit: f2beeb2]
</span><span>    end
</span><span>
</span><span>    subgraph “After PR”
</span><span>        A2[GitHub Workflow: validation-jobs.yml] --> B2[Action: actions/setup-java]
</span><span>        B2 --> C2[Version: v5.2.0]
</span><span>        C2 --> D2[Commit: be666c2]
</span><span>        D2 -.->|Brings| E[New Features: HTTP 522 Retry]
</span><span>        D2 -.->|Updates| F[Internal Deps: @actions/cache, actions/checkout]
</span><span>    end
</span><span>
</span><span>    A1 -.->|Updated to| A2
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>文件</strong>: <code>.github/workflows/validation-jobs.yml</code> 这个文件定义了GitHub Actions工作流中的一个任务（job），用于项目的验证工作（如编译检查、测试等）。此次变更仅更新了其中用于配置Java环境的GitHub Action的版本。<p><strong>变更内容</strong>: 此行修改将<code>actions/setup-java</code> Action的引用从<code>v5.1.0</code>的特定提交哈希更新为<code>v5.2.0</code>的特定提交哈希。GitHub Actions支持通过<code>@</code>符号后跟发布标签（如<code>@v5.2.0</code>）或具体的提交SHA来引用一个Action。使用具体的提交SHA是一种更精确、更安全的做法，因为它锁定了 Action 的确切版本，避免了因标签被移动而意外引入不兼容的变更。<pre class=language-yaml data-lang=yaml style=color:#61676c;background-color:#fafafa><code class=language-yaml data-lang=yaml><span style=color:#abb0b6;font-style:italic># 文件: .github/workflows/validation-jobs.yml
</span><span style=color:#abb0b6;font-style:italic># 变更前 (第75行):
</span><span>-        </span><span style=color:#399ee6>uses</span><span style=color:#61676ccc>: </span><span style=color:#86b300>actions/setup-java@f2beeb24e141e01a676f977032f5a29d81c9e27e </span><span style=color:#abb0b6;font-style:italic># v5.1.0
</span><span>
</span><span style=color:#abb0b6;font-style:italic># 变更后 (第75行):
</span><span style=color:#399ee6>+        uses</span><span style=color:#61676ccc>: </span><span style=color:#86b300>actions/setup-java@be666c2fcd27ec809703dec50e508c2fdc7f6654 </span><span style=color:#abb0b6;font-style:italic># v5.2.0
</span></code></pre><p><strong>与PR目的的关系</strong>: 这是实现整个PR目标的唯一且直接的修改。通过更新这个引用，Bevy项目的CI流程在下次执行<code>validation-jobs</code>时，将自动使用<code>actions/setup-java</code>的<code>v5.2.0</code>版本，从而获得该版本引入的HTTP 522重试机制等改进。<h2 id=further-reading>Further Reading</h2><ol><li><strong>GitHub Actions Documentation - <code>setup-java</code></strong>: https://github.com/actions/setup-java - 官方文档，详细说明了该Action的所有输入参数和使用方法。<li><strong>GitHub Blog - Keeping your GitHub Actions workflows secure</strong> (2021-12-06): https://github.blog/2021-12-06-keeping-your-github-actions-workflows-secure/ - 讨论了在Actions工作流中使用PIN（固定提交SHA）来引用第三方Action以提升安全性的最佳实践。<li><strong>Dependabot Documentation</strong>: https://docs.github.com/en/code-security/dependabot - 全面介绍Dependabot的功能，包括如何配置、如何解读其创建的PR以及兼容性分数的含义。<li><strong>HTTP 522 Status Code (Cloudflare)</strong>: https://developers.cloudflare.com/fundamentals/reference/http-status-codes/#522-connection-timed-out - 解释了HTTP 522错误的定义和常见原因，有助于理解本次更新中重试机制所要解决的问题场景。</ol><h1 id=full-code-diff>Full Code Diff</h1><p>diff –git a/.github/workflows/validation-jobs.yml b/.github/workflows/validation-jobs.yml index f814342f9ae6d..4f2ec31f1d4ee 100644 — a/.github/workflows/validation-jobs.yml +++ b/.github/workflows/validation-jobs.yml @@ -72,7 +72,7 @@ jobs: toolchain: stable<pre style=color:#61676c;background-color:#fafafa><code><span>   - name: Set up JDK 17
</span></code></pre><ul><li><pre style=color:#61676c;background-color:#fafafa><code><span>   uses: actions/setup-java@f2beeb24e141e01a676f977032f5a29d81c9e27e # v5.1.0
</span></code></pre></ul><ul><li><pre style=color:#61676c;background-color:#fafafa><code><span>   uses: actions/setup-java@be666c2fcd27ec809703dec50e508c2fdc7f6654 # v5.2.0
</span><span>   with:
</span><span>     java-version: "17"
</span><span>     distribution: "temurin"</span></code></pre></ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-01/pr_22660.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>