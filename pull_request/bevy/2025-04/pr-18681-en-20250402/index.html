<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #18681 Fix indentation of `bevy/query` `strict` parameter in docs
        
    </title><meta content="#18681 Fix indentation of `bevy/query` `strict` parameter in docs" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-04/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-04-02</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-04/pr-18681-zh-cn-20250402>中文</a></div></div><div class=pr-content><h1 id=18681-fix-indentation-of-bevy-query-strict-parameter-in-docs>#18681 Fix indentation of <code>bevy/query</code> <code>strict</code> parameter in docs</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Fix indentation of <code>bevy/query</code> <code>strict</code> parameter in docs<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/18681<li><strong>Author</strong>: BD103<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: <code>C-Docs</code>, <code>D-Trivial</code>, <code>S-Ready-For-Final-Review</code>, <code>A-Dev-Tools</code><li><strong>Created</strong>: 2025-04-02T15:03:59Z<li><strong>Merged</strong>: 2025-04-02T18:22:14Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>The <code>strict</code> field of <a rel="noopener nofollow noreferrer" href=https://dev-docs.bevyengine.org/bevy/remote/builtin_methods/struct.BrpQueryParams.html target=_blank><code>BrpQueryParams</code></a> was newly added as part of 0.16.<li>Its documentation in <code>lib.rs</code> improperly indents <code>strict</code>, making look like its part of <a rel="noopener nofollow noreferrer" href=https://dev-docs.bevyengine.org/bevy/remote/builtin_methods/struct.BrpQueryFilter.html target=_blank><code>BrpQueryFilter</code></a>:</ul><p><img alt=image src=https://github.com/user-attachments/assets/f49521da-36d3-4d5d-a7ea-f7a44ddaf195><h2 id=solution>Solution</h2><ul><li>Fix <code>strict</code>’s indentation so its clear that it is a field of <code>BrpQueryParams</code>, not <code>BrpQueryFilter</code>.</ul><p>I would like this to be included in 0.16, since it’s a trivial documentation change that fixes an error, but if it needs to be removed from the milestone that’s fine.<h2 id=testing>Testing</h2><p>Run <code>cargo doc -p bevy_remote --no-deps</code> and verify the indentation is fixed. :)<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The PR addresses a documentation formatting issue in Bevy’s remote protocol implementation. During the 0.16 development cycle, a new <code>strict</code> parameter was added to the <code>BrpQueryParams</code> struct. However, its documentation entry inherited incorrect indentation from surrounding code, visually associating it with the nested <code>BrpQueryFilter</code> structure instead of its actual parent.<p>This formatting error created potential confusion for developers using the remote API. The <code>strict</code> parameter’s placement in the documentation hierarchy mattered because:<ol><li>It controls query execution strictness at the params level<li>Misattribution to <code>BrpQueryFilter</code> could lead to incorrect API usage<li>New users might misunderstand the parameter’s scope</ol><p>The fix involved adjusting whitespace in the Rustdoc comment. Before the change, the <code>strict</code> parameter appeared indented under <code>BrpQueryFilter</code> due to Markdown formatting. The correction aligned it properly with other <code>BrpQueryParams</code> fields through precise indentation adjustment.<p>Key implementation details:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before incorrect indentation:
</span><span style=color:#abb0b6;font-style:italic>//!         "filter": {
</span><span style=color:#abb0b6;font-style:italic>//!             "has": ["bevy_hierarchy::components::parent::Parent"]
</span><span style=color:#abb0b6;font-style:italic>//!         },
</span><span style=color:#abb0b6;font-style:italic>//!         "strict": false
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After correction:
</span><span style=color:#abb0b6;font-style:italic>//!         "filter": {
</span><span style=color:#abb0b6;font-style:italic>//!             "has": ["bevy_hierarchy::components::parent::Parent"]
</span><span style=color:#abb0b6;font-style:italic>//!         },
</span><span style=color:#abb0b6;font-style:italic>//!     "strict": false
</span></code></pre><p>The critical change moves <code>strict</code> left by 4 spaces, placing it at the same level as other <code>BrpQueryParams</code> fields rather than nested under <code>filter</code>. This visual correction matches the actual struct hierarchy:<ul><li><code>BrpQueryParams</code> contains top-level fields including <code>strict</code><li><code>filter</code> field contains <code>BrpQueryFilter</code> properties</ul><p>The author validated the fix using <code>cargo doc</code>, ensuring the generated documentation properly nests parameters. While trivial in code changes, this PR demonstrates the importance of precise documentation formatting in complex API structures, particularly when multiple nested types are involved.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[BrpQueryParams] --> B[filter: BrpQueryFilter]
</span><span>    A --> C[strict: bool]
</span><span>    B --> D[has: Vec&LTString>]
</span><span>    B --> E[without: Vec&LTString>]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>crates/bevy_remote/src/lib.rs</strong> (+2/-2)<ol><li><strong>Change</strong>: Fixed indentation of <code>strict</code> parameter in documentation example<li><strong>Code Diff</strong>:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>//!         "filter": {
</span><span style=color:#abb0b6;font-style:italic>//!             "has": ["bevy_hierarchy::components::parent::Parent"]
</span><span style=color:#abb0b6;font-style:italic>//!         },
</span><span style=color:#abb0b6;font-style:italic>//!         "strict": false
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>//!         "filter": {
</span><span style=color:#abb0b6;font-style:italic>//!             "has": ["bevy_hierarchy::components::parent::Parent"]
</span><span style=color:#abb0b6;font-style:italic>//!         },
</span><span style=color:#abb0b6;font-style:italic>//!     "strict": false
</span></code></pre><ol start=3><li><strong>Impact</strong>: Corrects visual hierarchy in API documentation, preventing developer confusion about parameter scope</ol><h2 id=further-reading>Further Reading</h2><ol><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/rustdoc/how-to-write-documentation.html target=_blank>Rustdoc Guide</a> - Official documentation on writing Rustdoc comments<li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/tree/main/crates/bevy_remote target=_blank>Bevy Remote Protocol Documentation</a> - Overview of Bevy’s remote control system<li><a rel="noopener nofollow noreferrer" href=https://www.jsonrpc.org/specification target=_blank>JSON-RPC 2.0 Specification</a> - Underlying protocol used by Bevy Remote</ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-04/pr_18681.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>