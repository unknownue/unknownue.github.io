<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #18746 Expose the added tick for change detection, both getting and setting.
        
    </title><meta content="#18746 Expose the added tick for change detection, both getting and setting." property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-04/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-04-08</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-04/pr-18746-zh-cn-20250408>中文</a></div></div><div class=pr-content><h1 id=expose-the-added-tick-for-change-detection-both-getting-and-setting>Expose the added tick for change detection, both getting and setting.</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Expose the added tick for change detection, both getting and setting.<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/18746<li><strong>Author</strong>: moonheart08<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Feature, D-Trivial, A-ECS, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-04-07T08:55:54Z<li><strong>Merged</strong>: 2025-04-08T21:33:11Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>Allow viewing and setting the added tick for change detection aware data, to allow operations like checking if the value has been modified since first being added, and spoofing that state (i.e. returning the value to default in place without a remove/insert dance)</ul><h2 id=solution>Solution</h2><ul><li>Added corresponding functions matching the existing <code>changed</code> API: <ul><li><code>fn added(&self) -> Tick</code><li><code>fn set_added(&mut self)</code><li><code>fn set_last_added(&mut self, last_added: Tick)</code></ul></ul><p>Discussed on discord @ https://canary.discord.com/channels/691052431525675048/749335865876021248/1358718892465193060<h2 id=testing>Testing</h2><ul><li>Running the bevy test suite by.. making a PR, heck.<li>No new tests were introduced due to triviality (i.e. I don’t know what to test about this API, and the corresponding API for <code>changed</code> is similarly lacking tests.)</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><h3 id=the-problem-and-context>The Problem and Context</h3><p>Bevy’s Entity Component System (ECS) uses change detection to track modifications to components. While the existing API provided methods to inspect and manipulate the “changed” state through <code>changed()</code> and related methods, there was no equivalent for the “added” state. This gap prevented developers from:<ol><li>Determining when a component was initially added<li>Modifying the added state without physical removal/reinsertion<li>Implementing state reset patterns efficiently</ol><p>The absence of these capabilities forced workarounds like component removal/reinsertion, which is less efficient than in-place modification.<h3 id=the-solution-approach>The Solution Approach</h3><p>The PR mirrors the existing change detection API pattern for consistency. By adding three new methods to the <code>DetectChanges</code> trait, it completes the symmetry between “changed” and “added” state management:<ol><li><code>added()</code> - Exposes the tick when the component was added<li><code>set_added()</code> - Marks the component as newly added in the current tick<li><code>set_last_added()</code> - Allows explicit historical tick tracking</ol><p>This approach maintains API consistency while addressing the missing functionality. The implementation required careful consideration of the existing change detection mechanics to ensure proper tick management.<h3 id=the-implementation>The Implementation</h3><p>The core changes occur in <code>change_detection.rs</code> where new methods were added to the <code>DetectChanges</code> trait and its implementations:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Added to DetectChanges trait
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-></span><span> Tick</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>)</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_last_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>last_added</span><span style=color:#61676ccc>:</span><span> Tick)</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Implementation for Mut<'_, T>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-></span><span> Tick {
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>ticks</span><span>()</span><span style=color:#ed9366>.</span><span>added
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>) {
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>ticks_mut</span><span>()</span><span style=color:#ed9366>.</span><span>added </span><span style=color:#ed9366>= </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>change_tick</span><span>()</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_last_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>last_added</span><span style=color:#61676ccc>:</span><span> Tick) {
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>ticks_mut</span><span>()</span><span style=color:#ed9366>.</span><span>added </span><span style=color:#ed9366>=</span><span> last_added</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><p>These methods directly parallel the existing <code>changed</code> API structure, maintaining consistency:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Existing changed API for reference
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>)</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_last_changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>last_change</span><span style=color:#61676ccc>:</span><span> Tick)</span><span style=color:#61676ccc>;
</span></code></pre><h3 id=technical-insights>Technical Insights</h3><p>The implementation leverages Bevy’s tick-based change detection system:<ul><li><strong>Ticks</strong>: Monotonically increasing counter tracking world state changes<li><strong>Component Ticks</strong>: Each component stores: <ul><li><code>added</code>: Tick when component was added<li><code>changed</code>: Last tick when component was modified</ul><li><strong>Change Detection</strong>: Compares component ticks to system’s last execution tick</ul><p>The new methods expose the previously internal <code>added</code> tick, enabling:<ul><li>Historical comparison: <code>component.added() > system_last_run</code><li>State manipulation: Reset components to “newly added” state without recreation<li>Debugging: Inspection of addition timing in complex systems</ul><h3 id=the-impact>The Impact</h3><p>These changes enable new patterns in Bevy development:<ol><li><strong>State Reset</strong>:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Instead of:
</span><span>commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>entity</span><span>(e)</span><span style=color:#ed9366>.</span><span>remove</span><span style=color:#ed9366>::</span><span>&LTComponent>()</span><span style=color:#ed9366>.</span><span style=color:#f07171>insert</span><span>(Component</span><span style=color:#ed9366>::</span><span>default())</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Developers can now:
</span><span style=color:#fa6e32>let mut</span><span> component </span><span style=color:#ed9366>=</span><span> query</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mut</span><span>(e)</span><span style=color:#ed9366>.</span><span style=color:#f07171>unwrap</span><span>()</span><span style=color:#61676ccc>;
</span><span>component</span><span style=color:#ed9366>.</span><span style=color:#f07171>set_added</span><span>()</span><span style=color:#61676ccc>;
</span><span style=color:#ed9366>*</span><span>component </span><span style=color:#ed9366>= </span><span>Component</span><span style=color:#ed9366>::</span><span>default()</span><span style=color:#61676ccc>;
</span></code></pre><ol start=2><li><strong>Addition Timing Checks</strong>:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>if</span><span> component</span><span style=color:#ed9366>.</span><span style=color:#f07171>added</span><span>() </span><span style=color:#ed9366>></span><span> last_check {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Handle new components
</span><span>}
</span></code></pre><ol start=3><li><strong>Tick-based History</strong>:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Save/restore addition state
</span><span style=color:#fa6e32>let</span><span> original_add </span><span style=color:#ed9366>=</span><span> component</span><span style=color:#ed9366>.</span><span style=color:#f07171>added</span><span>()</span><span style=color:#61676ccc>;
</span><span style=color:#abb0b6;font-style:italic>// ...operations...
</span><span>component</span><span style=color:#ed9366>.</span><span style=color:#f07171>set_last_added</span><span>(original_add)</span><span style=color:#61676ccc>;
</span></code></pre><p>The changes maintain backward compatibility while expanding ECS capabilities with minimal overhead. Future improvements could include similar APIs for resource change detection.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[DetectChanges Trait] --> B[changed API]
</span><span>    A --> C[added API]
</span><span>    B --> D[changed()]
</span><span>    B --> E[set_changed()]
</span><span>    B --> F[set_last_changed()]
</span><span>    C --> G[added()]
</span><span>    C --> H[set_added()]
</span><span>    C --> I[set_last_added()]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-ecs-src-change-detection-rs-60-0><code>crates/bevy_ecs/src/change_detection.rs</code> (+60/-0)</h3><p>Added new methods to complete the change detection API surface:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before: Existing changed methods only
</span><span style=color:#fa6e32>pub trait </span><span style=color:#399ee6>DetectChanges </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_last_changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>last_change</span><span style=color:#61676ccc>:</span><span> Tick)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ...other existing methods...
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After: Added methods
</span><span style=color:#fa6e32>pub trait </span><span style=color:#399ee6>DetectChanges </span><span>{
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Existing methods
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>    
</span><span>    </span><span style=color:#abb0b6;font-style:italic>/// Returns the tick recording the time this component was added
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-></span><span> Tick</span><span style=color:#61676ccc>;
</span><span>    
</span><span>    </span><span style=color:#abb0b6;font-style:italic>/// Manually flags this component as having been newly added
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>)</span><span style=color:#61676ccc>;
</span><span>    
</span><span>    </span><span style=color:#abb0b6;font-style:italic>/// Manually sets the tick recording the time this component was added
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_last_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>last_added</span><span style=color:#61676ccc>:</span><span> Tick)</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><p>Implementation for <code>Mut<'_, T></code>:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before: No added tick accessors
</span><span style=color:#fa6e32>impl</span><span>&LTT</span><span style=color:#61676ccc>:</span><span> Component> DetectChanges </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>Mut</span><span><'</span><span style=color:#ed9366>_</span><span>, T> {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Existing changed implementations
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After: Full added API
</span><span style=color:#fa6e32>impl</span><span>&LTT</span><span style=color:#61676ccc>:</span><span> Component> DetectChanges </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>Mut</span><span><'</span><span style=color:#ed9366>_</span><span>, T> {
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-></span><span> Tick {
</span><span>        </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>ticks</span><span>()</span><span style=color:#ed9366>.</span><span>added
</span><span>    }
</span><span>
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>) {
</span><span>        </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>ticks_mut</span><span>()</span><span style=color:#ed9366>.</span><span>added </span><span style=color:#ed9366>= </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>change_tick</span><span>()</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>set_last_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>last_added</span><span style=color:#61676ccc>:</span><span> Tick) {
</span><span>        </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>ticks_mut</span><span>()</span><span style=color:#ed9366>.</span><span>added </span><span style=color:#ed9366>=</span><span> last_added</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>    
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Existing changed implementations remain
</span><span>}
</span></code></pre><p>These changes complete the change detection API symmetry and enable new component management patterns.<h2 id=further-reading>Further Reading</h2><ol><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/book/development-practices/change-detection/ target=_blank>Bevy Change Detection Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://bevy-cheatbook.github.io/programming/component-lifecycle.html target=_blank>ECS Component Lifecycle</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/pull/68 target=_blank>Original Change Detection PR #68</a><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_ecs/latest/bevy_ecs/change_detection/struct.Ticks.html target=_blank>Ticks in Bevy ECS</a></ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-04/pr_18746.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>