<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #18654 Add Advice for Relocations to Migration Guide Template
        
    </title><meta content="#18654 Add Advice for Relocations to Migration Guide Template" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-04/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-04-01</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-04/pr-18654-zh-cn-20250401>中文</a></div></div><div class=pr-content><h1 id=18654-add-advice-for-relocations-to-migration-guide-template>#18654 Add Advice for Relocations to Migration Guide Template</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Add Advice for Relocations to Migration Guide Template<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/18654<li><strong>Author</strong>: bushrat011899<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: <code>C-Docs</code>, <code>A-Meta</code>, <code>S-Ready-For-Final-Review</code>, <code>X-Uncontroversial</code>, <code>D-Straightforward</code><li><strong>Created</strong>: 2025-04-01T05:34:21Z<li><strong>Merged</strong>: 2025-04-01T07:12:45Z<li><strong>Merged By</strong>: cart</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>Relocations are a fairly common form of migration, and a tabular format can make reading an otherwise repetitive list much easier. This should be included in the migration guide template.<h2 id=solution>Solution</h2><ul><li>Added a dot-point highlighting a tabular format for relocations, with an explanation.<li>Added a dot-point indicating migrations should be written WRT the currently published version of a crate.<li>Fixed some formatting in an adjacent dot-point.</ul><h2 id=testing>Testing</h2><ul><li>CI</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The PR addresses a documentation challenge in Bevy’s migration process. When developers move types or modules between locations (relocations), existing migration guides often listed these changes as individual bullet points. While functional, this approach became cumbersome when multiple related items were relocated, leading to repetitive and hard-to-scan content.<p>The core insight driving this change was recognizing that tabular presentation could better handle relocation listings. Tables provide immediate visual comparison between old and new paths, reducing cognitive load for readers. This is particularly valuable when upgrading projects with numerous relocated items, as users can quickly scan the table rather than parse multiple similar bullet points.<p>The implementation focused on enhancing the migration guide template with two key improvements:<ol><li><p><strong>Standardized Table Format</strong>: Added explicit guidance to use markdown tables for relocation documentation. The template now includes an example table structure showing old/new paths, ensuring consistency across future migration guides.</p><li><p><strong>Version Awareness</strong>: Introduced a requirement to reference the currently published crate version when writing migration steps. This prevents confusion that might arise if guides were accidentally written against unreleased or in-development API states.</p></ol><p>The changes manifest in the template’s “Style Guide” section through:<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#4cbf99>- </span><span>When moving items to a new module or crate, consider a simple table listing
</span><span>  the moved items and the before and after paths.
</span><span>  For example, </span><span style=color:#f07171;font-style:italic>_</span><span style=color:#ed9366;background-color:#61676c10;font-style:italic>`Foo`</span><span style=color:#f07171;font-style:italic> has been moved from </span><span style=color:#ed9366;background-color:#61676c10;font-style:italic>`bar::foo`</span><span style=color:#f07171;font-style:italic> to </span><span style=color:#ed9366;background-color:#61676c10;font-style:italic>`baz`</span><span style=color:#f07171;font-style:italic>_</span><span> could be written:
</span><span>  
</span><span>  </span><span style=color:#f07171;font-weight:700>**Relocations**
</span><span>  
</span><span>  | Item                         | Old Path                       | New Path                       |
</span><span>  | ---------------------------- | ------------------------------ | ------------------------------ |
</span><span>  | </span><span style=color:#ed9366;background-color:#61676c10>`Foo`</span><span>                        | </span><span style=color:#ed9366;background-color:#61676c10>`bar::foo`</span><span>                     | </span><span style=color:#ed9366;background-color:#61676c10>`baz`</span><span>                          |
</span></code></pre><p>This concrete example demonstrates the recommended pattern while maintaining flexibility - the “consider” wording allows alternative formats when appropriate. The adjacent formatting fix (not shown in diffs) likely addressed inconsistent indentation or markdown syntax in nearby examples, maintaining overall document integrity.<p>The impact of these changes is twofold. First, it reduces maintenance overhead for guide authors by providing a clear pattern for common scenarios. Second, it improves the end-user experience through more scannable documentation, potentially reducing upgrade errors and support requests.<p>A subtle but important technical consideration is the explicit mention of docs.rs references. By tying migration instructions to published documentation snapshots, this guidance helps prevent temporal coupling between migration guides and active development branches. This becomes crucial when multiple versions are supported concurrently.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Migration Guide Template] --> B[Relocation Section]
</span><span>    B --> C[Tabular Format]
</span><span>    B --> D[Version References]
</span><span>    C --> E[Improved Scannability]
</span><span>    D --> F[Reduced Version Confusion]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=file-release-content-migration-guides-template-md>File: <code>release-content/migration_guides_template.md</code></h3><p><strong>Changes:</strong><ol><li>Added table-based relocation documentation example<li>Added docs.rs version reference guidance<li>Fixed adjacent codeblock formatting</ol><p><strong>Key Modifications:</strong><pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#fa6e32;font-weight:700># </span><span style=color:#399ee6;font-weight:700>Before:
</span><span style=color:#4cbf99>- </span><span>The </span><span style=color:#ed9366;background-color:#61676c10>`crate::old_module`</span><span> module is now </span><span style=color:#ed9366;background-color:#61676c10>`crate::new_module`</span><span>. Update your imports.
</span><span>
</span><span style=color:#fa6e32;font-weight:700># </span><span style=color:#399ee6;font-weight:700>After:
</span><span style=color:#4cbf99>- </span><span>Make sure to reference the currently published version of a crate when writing a migration guide.
</span><span>  See [docs.rs](</span><span style=color:#4cbf99;font-style:italic;text-decoration:underline>https://docs.rs/</span><span>) for a quick reference to the existing public API.
</span><span style=color:#4cbf99>-</span><span> When moving items to a new module or crate, consider a simple table listing
</span><span>  the moved items and the before and after paths.
</span><span>  For example, </span><span style=color:#f07171;font-style:italic>_</span><span style=color:#ed9366;background-color:#61676c10;font-style:italic>`Foo`</span><span style=color:#f07171;font-style:italic> has been moved from </span><span style=color:#ed9366;background-color:#61676c10;font-style:italic>`bar::foo`</span><span style=color:#f07171;font-style:italic> to </span><span style=color:#ed9366;background-color:#61676c10;font-style:italic>`baz`</span><span style=color:#f07171;font-style:italic>_</span><span> could be written:
</span><span>  
</span><span>  </span><span style=color:#f07171;font-weight:700>**Relocations**
</span><span>  
</span><span>  | Item                         | Old Path                       | New Path                       |
</span><span>  | ---------------------------- | ------------------------------ | ------------------------------ |
</span><span>  | </span><span style=color:#ed9366;background-color:#61676c10>`Foo`</span><span>                        | </span><span style=color:#ed9366;background-color:#61676c10>`bar::foo`</span><span>                     | </span><span style=color:#ed9366;background-color:#61676c10>`baz`</span><span>                          |
</span></code></pre><p>These changes directly support the PR’s goal of improving relocation documentation patterns while maintaining compatibility with existing guide structures.<h2 id=further-reading>Further Reading</h2><ol><li>Bevy’s Migration Guide Philosophy: https://bevyengine.org/learn/book/migration-guides/<li>Rust API Guidelines on Documentation: https://rust-lang.github.io/api-guidelines/documentation.html<li>Technical Writing for Developers (MDN Guide): https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines</ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-04/pr_18654.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>