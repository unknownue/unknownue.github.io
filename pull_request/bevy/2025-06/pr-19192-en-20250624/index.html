<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #19192 Update doc about Windows CursorGrabMode support
        
    </title><meta content="#19192 Update doc about Windows CursorGrabMode support" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-06/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-06-24</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-06/pr-19192-zh-cn-20250624>中文</a></div></div><div class=pr-content><h1 id=update-doc-about-windows-cursorgrabmode-support>Update doc about Windows CursorGrabMode support</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Update doc about Windows CursorGrabMode support<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/19192<li><strong>Author</strong>: jf908<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Docs, A-Windowing, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-05-12T19:33:40Z<li><strong>Merged</strong>: 2025-06-24T00:17:44Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>Windows now supports <code>CursorGrabMode::Locked</code> in <a rel="noopener nofollow noreferrer" href=https://github.com/rust-windowing/winit/releases/tag/v0.30.10 target=_blank>Winit 0.30.10</a> which is automatically pulled in by cargo.</ul><h2 id=solution>Solution</h2><ul><li>Remove the doc that says its unsupported.</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The PR addresses outdated documentation regarding cursor grab mode support on Windows. Previously, Bevy’s window documentation incorrectly stated that Windows didn’t support <code>CursorGrabMode::Locked</code>. This was a historical limitation that became inaccurate when Winit (Bevy’s underlying windowing library) added Windows support for locked cursor mode in version 0.30.10.<p>The problem stemmed from documentation that hadn’t been updated to reflect improvements in Bevy’s dependencies. Since Winit’s cursor grab implementation is automatically pulled in via Cargo, Bevy inherited this new capability without requiring code changes. However, the outdated documentation could mislead developers into thinking Windows still lacked this feature, potentially causing them to avoid using <code>CursorGrabMode::Locked</code> unnecessarily or implement workarounds.<p>The solution was straightforward: remove the incorrect platform-specific note about Windows lacking <code>CursorGrabMode::Locked</code> support. The implementation involved updating documentation comments in two locations within the <code>window.rs</code> file. Both locations contained identical platform-specific documentation blocks that needed correction.<p>The developer also updated the accompanying explanation text to reflect that only macOS now has partial cursor grab mode support. The sentence was changed from “Since <code>Windows</code> and <code>macOS</code> have different support” to “Since <code>macOS</code> doesn’t have full support” to accurately represent the current platform capabilities.<p>This change demonstrates the importance of keeping documentation synchronized with dependency updates. Even when functional code doesn’t require modification, documentation must evolve to reflect new capabilities provided by updated dependencies. The fix ensures developers have accurate information about platform capabilities when implementing cursor interaction features.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph LR
</span><span>    A[Winit 0.30.10] --> B[Adds Windows CursorGrabMode::Locked]
</span><span>    B --> C[Bevy Documentation]
</span><span>    C --> D[Remove outdated Windows limitation]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-window-src-window-rs>crates/bevy_window/src/window.rs</h3><ol><li>Updated documentation to remove outdated information about Windows cursor grab limitations</ol><p><strong>Key Changes:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>/// ## Platform-specific
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// - **`Windows`** doesn't support [`CursorGrabMode::Locked`]
</span><span style=color:#abb0b6;font-style:italic>/// - **`macOS`** doesn't support [`CursorGrabMode::Confined`]
</span><span style=color:#abb0b6;font-style:italic>/// - **`iOS/Android`** don't have cursors.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// Since `Windows` and `macOS` have different [`CursorGrabMode`] support, we first try to set the grab mode that was asked for. If it doesn't work then use the alternate grab mode.
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>/// ## Platform-specific
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// - **`macOS`** doesn't support [`CursorGrabMode::Confined`]
</span><span style=color:#abb0b6;font-style:italic>/// - **`iOS/Android`** don't have cursors.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// Since `macOS` doesn't have full [`CursorGrabMode`] support, we first try to set the grab mode that was asked for. If it doesn't work then use the alternate grab mode.
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://github.com/rust-windowing/winit/releases/tag/v0.30.10 target=_blank>Winit v0.30.10 Release Notes</a><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_window/latest/bevy_window/ target=_blank>Bevy Window Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_window/latest/bevy_window/enum.CursorGrabMode.html target=_blank>CursorGrabMode Enum Reference</a></ul><h1 id=full-code-diff>Full Code Diff</h1><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_window/src/window.rs b/crates/bevy_window/src/window.rs
</span><span>index 403801e9d0478..77728543e72f2 100644
</span><span style=color:#c594c5>--- a/crates/bevy_window/src/window.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_window/src/window.rs
</span><span style=color:#c594c5>@@ -751,11 +751,10 @@ </span><span style=color:#399ee6>pub struct CursorOptions {
</span><span>     ///
</span><span>     /// ## Platform-specific
</span><span>     ///
</span><span style=color:#f07171>-    /// - **`Windows`** doesn't support [`CursorGrabMode::Locked`]
</span><span>     /// - **`macOS`** doesn't support [`CursorGrabMode::Confined`]
</span><span>     /// - **`iOS/Android`** don't have cursors.
</span><span>     ///
</span><span style=color:#f07171>-    /// Since `Windows` and `macOS` have different [`CursorGrabMode`] support, we first try to set the grab mode that was asked for. If it doesn't work then use the alternate grab mode.
</span><span style=color:#86b300>+    /// Since `macOS` doesn't have full [`CursorGrabMode`] support, we first try to set the grab mode that was asked for. If it doesn't work then use the alternate grab mode.
</span><span>     pub grab_mode: CursorGrabMode,
</span><span> 
</span><span>     /// Set whether or not mouse events within *this* window are captured or fall through to the Window below.
</span><span style=color:#c594c5>@@ -1064,11 +1063,10 @@ </span><span style=color:#399ee6>impl From&LTDVec2> for WindowResolution {
</span><span> ///
</span><span> /// ## Platform-specific
</span><span> ///
</span><span style=color:#f07171>-/// - **`Windows`** doesn't support [`CursorGrabMode::Locked`]
</span><span> /// - **`macOS`** doesn't support [`CursorGrabMode::Confined`]
</span><span> /// - **`iOS/Android`** don't have cursors.
</span><span> ///
</span><span style=color:#f07171>-/// Since `Windows` and `macOS` have different [`CursorGrabMode`] support, we first try to set the grab mode that was asked for. If it doesn't work then use the alternate grab mode.
</span><span style=color:#86b300>+/// Since `macOS` doesn't have full [`CursorGrabMode`] support, we first try to set the grab mode that was asked for. If it doesn't work then use the alternate grab mode.
</span><span> #[derive(Default, Debug, Clone, Copy, PartialEq, Eq)]
</span><span> #[cfg_attr(
</span><span>     feature = "bevy_reflect",
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-06/pr_19192.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>