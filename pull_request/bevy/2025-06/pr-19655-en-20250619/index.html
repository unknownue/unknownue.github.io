<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #19655 deny(missing_docs) for bevy_window
        
    </title><meta content="#19655 deny(missing_docs) for bevy_window" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-06/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-06-19</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-06/pr-19655-zh-cn-20250619>中文</a></div></div><div class=pr-content><h2 id=analysis-of-pr-19655-deny-missing-docs-for-bevy-window>Analysis of PR #19655: deny(missing_docs) for bevy_window</h2><h3 id=basic-information>Basic Information</h3><ul><li><strong>Title</strong>: deny(missing_docs) for bevy_window<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/19655<li><strong>Author</strong>: theotherphil<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Docs, D-Trivial, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-06-15T14:02:02Z<li><strong>Merged</strong>: 2025-06-19T19:53:10Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h3 id=description-translation>Description Translation</h3><h1 id=objective>Objective</h1><p>Write some more boilerplate-y docs, to get one crate closer to closing https://github.com/bevyengine/bevy/issues/3492.<h3 id=the-story-of-this-pull-request>The Story of This Pull Request</h3><p>This PR addresses an ongoing documentation gap in the Bevy engine’s windowing system. The project maintains issue #3492 to track progress toward fully documenting all public APIs. The <code>bevy_window</code> crate previously had incomplete documentation for its <code>WindowEvent</code> enum variants, which was temporarily suppressed using <code>#[expect(missing_docs)]</code> with a reference to the tracking issue.<p>The author recognized this as low-hanging fruit in the documentation effort. Since the <code>WindowEvent</code> variants represent well-understood window system concepts, writing their documentation requires minimal technical investigation but provides immediate value. The approach was straightforward: systematically add doc comments to each variant in the enum declaration.<p>By removing the <code>#[expect(missing_docs)]</code> attribute after adding documentation, this PR enables Rust’s <code>missing_docs</code> lint for the <code>WindowEvent</code> type. This creates a compile-time guardrail that prevents future undocumented additions to this critical event enumeration. The changes are localized to a single file with no functional modifications, making this a low-risk documentation improvement.<p>The implementation consists entirely of adding doc comments above each enum variant. Each comment concisely describes the purpose and trigger conditions of the corresponding window event. For example:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>/// The user's cursor has entered a window.
</span><span>CursorEntered(CursorEntered)</span><span style=color:#61676ccc>,
</span></code></pre><p>Special attention was given to the <code>KeyboardFocusLost</code> variant where a slightly longer explanation was warranted:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>/// Sent when focus has been lost for all Bevy windows.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// Used to clear pressed key state.
</span><span>KeyboardFocusLost(KeyboardFocusLost)</span><span style=color:#61676ccc>,
</span></code></pre><p>These documentation additions make the window event system more approachable for new contributors and eliminate the need for developers to consult external documentation or source code to understand what each event represents. By completing this documentation block, the PR moves the project closer to resolving the overarching documentation issue (#3492) and enables stricter linting for future contributions to this module.<h3 id=visual-representation>Visual Representation</h3><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph LR
</span><span>    A[Issue #3492] --> B[Add WindowEvent docs]
</span><span>    B --> C[Remove #[expect(missing_docs)]]
</span><span>    C --> D[Enable missing_docs lint]
</span></code></pre><h3 id=key-files-changed>Key Files Changed</h3><p><strong>File</strong>: <code>crates/bevy_window/src/event.rs</code><br> <strong>Changes</strong>: Added documentation comments to all variants of the <code>WindowEvent</code> enum and removed the <code>expect</code> attribute for missing docs.<p><strong>Before</strong>:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>expect</span><span>(missing_docs</span><span style=color:#61676ccc>,</span><span> reason </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Not all docs are written yet, see #3492."</span><span>)]
</span><span style=color:#fa6e32>pub enum </span><span style=color:#399ee6>WindowEvent </span><span>{
</span><span>    AppLifecycle(AppLifecycle)</span><span style=color:#61676ccc>,
</span><span>    CursorEntered(CursorEntered)</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other variants without documentation ...
</span><span>}
</span></code></pre><p><strong>After</strong>:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>pub enum </span><span style=color:#399ee6>WindowEvent </span><span>{
</span><span>    </span><span style=color:#abb0b6;font-style:italic>/// An application lifecycle event.
</span><span>    AppLifecycle(AppLifecycle)</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>/// The user's cursor has entered a window.
</span><span>    CursorEntered(CursorEntered)</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>///The user's cursor has left a window.
</span><span>    CursorLeft(CursorLeft)</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>/// The user's cursor has moved inside a window.
</span><span>    CursorMoved(CursorMoved)</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... all other variants now have documentation ...
</span><span>}
</span></code></pre><h3 id=further-reading>Further Reading</h3><ol><li><a rel="noopener nofollow noreferrer" href=https://rust-lang.github.io/rfcs/1574-more-api-documentation-conventions.html target=_blank>Rust Documentation Guidelines</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/issues/3492 target=_blank>Bevy’s Documentation Tracking Issue #3492</a><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/rustc/lints/index.html target=_blank>Rust lint attributes documentation</a></ol><h3 id=full-code-diff>Full Code Diff</h3><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_window/src/event.rs b/crates/bevy_window/src/event.rs
</span><span>index 5a320439d7f93..81360ef9c433d 100644
</span><span style=color:#c594c5>--- a/crates/bevy_window/src/event.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_window/src/event.rs
</span><span style=color:#c594c5>@@ -502,38 +502,66 @@ </span><span style=color:#399ee6>impl AppLifecycle {
</span><span>     all(feature = "serialize", feature = "bevy_reflect"),
</span><span>     reflect(Serialize, Deserialize)
</span><span> )]
</span><span style=color:#f07171>-#[expect(missing_docs, reason = "Not all docs are written yet, see #3492.")]
</span><span> pub enum WindowEvent {
</span><span style=color:#86b300>+    /// An application lifecycle event.
</span><span>     AppLifecycle(AppLifecycle),
</span><span style=color:#86b300>+    /// The user's cursor has entered a window.
</span><span>     CursorEntered(CursorEntered),
</span><span style=color:#86b300>+    ///The user's cursor has left a window.
</span><span>     CursorLeft(CursorLeft),
</span><span style=color:#86b300>+    /// The user's cursor has moved inside a window.
</span><span>     CursorMoved(CursorMoved),
</span><span style=color:#86b300>+    /// A file drag and drop event.
</span><span>     FileDragAndDrop(FileDragAndDrop),
</span><span style=color:#86b300>+    /// An Input Method Editor event.
</span><span>     Ime(Ime),
</span><span style=color:#86b300>+    /// A redraw of all of the application's windows has been requested.
</span><span>     RequestRedraw(RequestRedraw),
</span><span style=color:#86b300>+    /// The window's OS-reported scale factor has changed.
</span><span>     WindowBackendScaleFactorChanged(WindowBackendScaleFactorChanged),
</span><span style=color:#86b300>+    /// The OS has requested that a window be closed.
</span><span>     WindowCloseRequested(WindowCloseRequested),
</span><span style=color:#86b300>+    /// A new window has been created.
</span><span>     WindowCreated(WindowCreated),
</span><span style=color:#86b300>+    /// A window has been destroyed by the underlying windowing system.
</span><span>     WindowDestroyed(WindowDestroyed),
</span><span style=color:#86b300>+    /// A window has received or lost focus.
</span><span>     WindowFocused(WindowFocused),
</span><span style=color:#86b300>+    /// A window has been moved.
</span><span>     WindowMoved(WindowMoved),
</span><span style=color:#86b300>+    /// A window has started or stopped being occluded.
</span><span>     WindowOccluded(WindowOccluded),
</span><span style=color:#86b300>+    /// A window's logical size has changed.
</span><span>     WindowResized(WindowResized),
</span><span style=color:#86b300>+    /// A window's scale factor has changed.
</span><span>     WindowScaleFactorChanged(WindowScaleFactorChanged),
</span><span style=color:#86b300>+    /// Sent for windows that are using the system theme when the system theme changes.
</span><span>     WindowThemeChanged(WindowThemeChanged),
</span><span> 
</span><span style=color:#86b300>+    /// The state of a mouse button has changed.
</span><span>     MouseButtonInput(MouseButtonInput),
</span><span style=color:#86b300>+    /// The physical position of a pointing device has changed.
</span><span>     MouseMotion(MouseMotion),
</span><span style=color:#86b300>+    /// The mouse wheel has moved.
</span><span>     MouseWheel(MouseWheel),
</span><span> 
</span><span style=color:#86b300>+    /// A two finger pinch gesture.
</span><span>     PinchGesture(PinchGesture),
</span><span style=color:#86b300>+    /// A two finger rotation gesture.
</span><span>     RotationGesture(RotationGesture),
</span><span style=color:#86b300>+    /// A double tap gesture.
</span><span>     DoubleTapGesture(DoubleTapGesture),
</span><span style=color:#86b300>+    /// A pan gesture.
</span><span>     PanGesture(PanGesture),
</span><span> 
</span><span style=color:#86b300>+    /// A touch input state change.
</span><span>     TouchInput(TouchInput),
</span><span> 
</span><span style=color:#86b300>+    /// A keyboard input.
</span><span>     KeyboardInput(KeyboardInput),
</span><span style=color:#86b300>+    /// Sent when focus has been lost for all Bevy windows.
</span><span style=color:#86b300>+    ///
</span><span style=color:#86b300>+    /// Used to clear pressed key state.
</span><span>     KeyboardFocusLost(KeyboardFocusLost),
</span><span> }
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-06/pr_19655.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>