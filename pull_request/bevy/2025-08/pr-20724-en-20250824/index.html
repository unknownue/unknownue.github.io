<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #20724 remove irrelevant ui dependencies
        
    </title><meta content="#20724 remove irrelevant ui dependencies" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-08/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-08-24</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-08/pr-20724-zh-cn-20250824>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>remove irrelevant ui dependencies<h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: remove irrelevant ui dependencies<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/20724<li><strong>Author</strong>: atlv24<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Bug, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-08-23T07:02:36Z<li><strong>Merged</strong>: 2025-08-24T07:19:42Z<li><strong>Merged By</strong>: james7132</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>ui shouldnt need core pipelines and anti aliasing</ul><h2 id=solution>Solution</h2><ul><li>remove irrelevant ui dependencies</ul><h2 id=testing>Testing</h2><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a dependency management issue in Bevy’s UI module. The problem was straightforward: the <code>bevy_ui</code> feature was including unnecessary dependencies that weren’t required for core UI functionality. Specifically, <code>bevy_core_pipeline</code> and <code>bevy_anti_aliasing</code> were being pulled in as dependencies despite not being essential for UI rendering.<p>The solution approach was surgical - simply remove these extraneous dependencies from the feature definition. This reduces the dependency footprint for projects using Bevy’s UI system, which can lead to faster compile times and smaller binary sizes. The changes don’t affect functionality since these dependencies weren’t actually required for UI rendering.<p>The implementation involved modifying the <code>Cargo.toml</code> file to clean up the dependency list. The before and after shows the precise changes made:<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#399ee6>bevy_ui </span><span>= [
</span><span>  </span><span style=color:#86b300>"bevy_internal/bevy_ui"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_core_pipeline"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_text"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_sprite"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_color"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_anti_aliasing"</span><span style=color:#61676ccc>,
</span><span>]
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>bevy_ui </span><span>= [</span><span style=color:#86b300>"bevy_internal/bevy_ui"</span><span style=color:#61676ccc>, </span><span style=color:#86b300>"bevy_text"</span><span style=color:#61676ccc>, </span><span style=color:#86b300>"bevy_sprite"</span><span style=color:#61676ccc>, </span><span style=color:#86b300>"bevy_color"</span><span>]
</span></code></pre><p>This change demonstrates good dependency hygiene. By removing unnecessary dependencies, the PR reduces potential conflicts and improves build performance. The core UI functionality remains intact since the removed dependencies were not actually used by the UI system itself.<p>The impact is primarily on developer experience - faster compilation and cleaner dependency graphs for projects using Bevy’s UI. This aligns with Rust’s philosophy of minimal dependencies and efficient compilation.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph LR
</span><span>    A[bevy_ui] --> B[bevy_text]
</span><span>    A --> C[bevy_sprite]
</span><span>    A --> D[bevy_color]
</span><span>    A --> E[bevy_internal/bevy_ui]
</span><span>    
</span><span>    style A fill:#e6f3ff
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=cargo-toml><code>Cargo.toml</code></h3><p>This file defines the workspace dependencies and feature flags for the Bevy engine. The changes remove unnecessary dependencies from the <code>bevy_ui</code> feature.<p><strong>Changes:</strong><pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#399ee6>bevy_ui </span><span>= [
</span><span>  </span><span style=color:#86b300>"bevy_internal/bevy_ui"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_core_pipeline"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_text"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_sprite"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_color"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_anti_aliasing"</span><span style=color:#61676ccc>,
</span><span>]
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>bevy_ui </span><span>= [</span><span style=color:#86b300>"bevy_internal/bevy_ui"</span><span style=color:#61676ccc>, </span><span style=color:#86b300>"bevy_text"</span><span style=color:#61676ccc>, </span><span style=color:#86b300>"bevy_sprite"</span><span style=color:#61676ccc>, </span><span style=color:#86b300>"bevy_color"</span><span>]
</span></code></pre><p>The removal of <code>bevy_core_pipeline</code> and <code>bevy_anti_aliasing</code> from the UI dependencies reduces the transitive dependency graph for projects using Bevy’s UI system, potentially improving compile times and reducing binary size.<h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/cargo/reference/features.html target=_blank>Cargo Features Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/architecture/ target=_blank>Bevy Engine Architecture</a><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/cargo/guide/creating-a-new-project.html#working-with-dependencies target=_blank>Rust Dependency Management Best Practices</a></ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-08/pr_20724.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>