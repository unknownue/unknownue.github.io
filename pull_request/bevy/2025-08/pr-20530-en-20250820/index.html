<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #20530 Fix intra-doc link warnings
        
    </title><meta content="#20530 Fix intra-doc link warnings" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-08/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-08-20</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-08/pr-20530-zh-cn-20250820>中文</a></div></div><div class=pr-content><h1 id=fix-intra-doc-link-warnings>Fix intra-doc link warnings</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Fix intra-doc link warnings<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/20530<li><strong>Author</strong>: GuillaumeGomez<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Docs, D-Trivial, S-Blocked, A-Cross-Cutting<li><strong>Created</strong>: 2025-08-12T10:50:01Z<li><strong>Merged</strong>: 2025-08-20T18:19:00Z<li><strong>Merged By</strong>: mockersf</ul><h2 id=description-translation>Description Translation</h2><p>Fixes intra-doc links appearing when generating documentation.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a common but important documentation maintenance issue: fixing broken intra-doc links in Rust documentation. Intra-doc links are Rust’s system for creating cross-references between documentation items using special syntax like <code>[Type]</code> or <code>[Type::method]</code>. When these links are malformed or reference non-existent items, they generate warnings during documentation generation.<p>The problem emerged as the Bevy codebase evolved - as types were moved, renamed, or had their visibility changed, documentation links that once worked became broken. These warnings don’t prevent compilation but create noise in build outputs and indicate potential documentation quality issues.<p>The solution approach was systematic: identify all intra-doc link warnings during documentation generation and fix them one by one. The fixes fall into several categories:<ol><li><strong>Correcting module paths</strong>: When types moved between modules, the documentation links needed updating to reflect their new locations<li><strong>Fixing syntax issues</strong>: Some links used incorrect syntax or referenced items that didn’t exist<li><strong>Handling feature flags</strong>: Links to feature-gated items needed special handling to avoid broken references<li><strong>Workarounds for rustdoc limitations</strong>: In some cases, creative solutions were needed to satisfy rustdoc’s parsing requirements</ol><p>The implementation shows attention to detail in handling different types of link issues. For example, in <code>bevy_ui/src/ui_node.rs</code>, the developer encountered a rustdoc limitation where explicit links in certain contexts weren’t being properly recognized. The solution was both pragmatic and well-documented:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>expect</span><span>(
</span><span>    rustdoc::redundant_explicit_links</span><span style=color:#61676ccc>,
</span><span>    reason </span><span style=color:#ed9366>= </span><span style=color:#86b300>"To go around the `&LTcode>` limitations, we put the link twice so we're </span><span style=color:#61676ccc>\
</span><span style=color:#86b300>sure it's recognized as a markdown link."
</span><span>)]
</span></code></pre><p>This comment explains why what might look like redundant code is actually necessary - it’s a workaround for a rustdoc parsing limitation when links appear inside <code>&LTcode></code> blocks.<p>Another common fix was updating paths to reflect module reorganizations. In <code>examples/3d/order_independent_transparency.rs</code>, the link needed to point to the correct module:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>//! [`OrderIndependentTransparencyPlugin`]: bevy::render::pipeline::OrderIndependentTransparencyPlugin
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>//! [`OrderIndependentTransparencyPlugin`]: bevy::core_pipeline::oit::OrderIndependentTransparencyPlugin
</span></code></pre><p>The technical insight here is that documentation maintenance is an ongoing concern in large codebases. As architecture evolves and modules are reorganized, documentation links can easily break. Regular cleanup of intra-doc link warnings helps maintain documentation quality and prevents these references from becoming increasingly outdated.<p>The impact of these changes is primarily on developer experience and codebase maintainability. While they don’t affect runtime behavior, they:<ol><li>Eliminate warning noise during documentation generation<li>Ensure documentation cross-references work correctly<li>Make the codebase more approachable for new contributors<li>Set a standard for documentation quality</ol><p>This PR demonstrates the importance of treating documentation as first-class code - it requires the same level of care and maintenance as the implementation itself.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Intra-doc Link Warnings] --> B[Path Corrections]
</span><span>    A --> C[Syntax Fixes]
</span><span>    A --> D[Feature Flag Handling]
</span><span>    A --> E[Rustdoc Workarounds]
</span><span>    
</span><span>    B --> F[Module Path Updates]
</span><span>    B --> G[Type Reference Corrections]
</span><span>    
</span><span>    C --> H[Link Format Fixes]
</span><span>    C --> I[Removed Invalid References]
</span><span>    
</span><span>    D --> J[Feature Flag Documentation]
</span><span>    
</span><span>    E --> K[Redundant Link Workaround]
</span><span>    
</span><span>    F --> L[Examples Directory]
</span><span>    F --> M[Crates Directory]
</span><span>    
</span><span>    L --> N[2d/cpu_draw.rs]
</span><span>    L --> O[3d/order_independent_transparency.rs]
</span><span>    L --> P[ecs/entity_disabling.rs]
</span><span>    L --> Q[ecs/fallible_params.rs]
</span><span>    
</span><span>    M --> R[bevy_asset]
</span><span>    M --> S[bevy_ecs]
</span><span>    M --> T[bevy_reflect]
</span><span>    M --> U[bevy_render]
</span><span>    M --> V[bevy_ui]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-ui-src-ui-node-rs-7-1><code>crates/bevy_ui/src/ui_node.rs</code> (+7/-1)</h3><p><strong>What changed</strong>: Added a workaround for rustdoc’s link parsing limitations in code blocks <strong>Why</strong>: To ensure the ZIndex documentation link is properly recognized<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Added expect attribute to handle rustdoc limitation
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>expect</span><span>(
</span><span>    rustdoc::redundant_explicit_links</span><span style=color:#61676ccc>,
</span><span>    reason </span><span style=color:#ed9366>= </span><span style=color:#86b300>"To go around the `&LTcode>` limitations, we put the link twice so we're </span><span style=color:#61676ccc>\
</span><span style=color:#86b300>sure it's recognized as a markdown link."
</span><span>)]
</span><span style=color:#abb0b6;font-style:italic>// Updated documentation with proper link formatting
</span><span style=color:#abb0b6;font-style:italic>/// Nodes without this component will be treated as if they had a value of
</span><span style=color:#abb0b6;font-style:italic>/// &LTcode>[ZIndex][ZIndex]\(0\)&LT/code>.
</span></code></pre><h3 id=crates-bevy-reflect-src-lib-rs-2-2><code>crates/bevy_reflect/src/lib.rs</code> (+2/-2)</h3><p><strong>What changed</strong>: Fixed feature flag documentation that incorrectly used link syntax <strong>Why</strong>: Feature flags shouldn’t be linked as they’re not actual Rust items<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>//! | ✅      | [`bevy_reflect_derive/auto_register_inventory`] |
</span><span style=color:#abb0b6;font-style:italic>//! | ❌      | [`bevy_reflect_derive/auto_register_static`] |
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>//! | ✅      | `bevy_reflect_derive/auto_register_inventory` |
</span><span style=color:#abb0b6;font-style:italic>//! | ❌      | `bevy_reflect_derive/auto_register_static` |
</span></code></pre><h3 id=examples-ecs-fallible-params-rs-1-2><code>examples/ecs/fallible_params.rs</code> (+1/-2)</h3><p><strong>What changed</strong>: Fixed method reference in documentation <strong>Why</strong>: The method name was incorrect in the documentation<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>//! - [`Res&LTR>`], [`ResMut&LTR>`] - Resource has to exist, and the [`World::get_default_error_handler`] will be called if it doesn't.
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>//! - [`Res&LTR>`], [`ResMut&LTR>`] - Resource has to exist, and the [`World::default_error_handler`] will be called if it doesn't.
</span></code></pre><h3 id=crates-bevy-asset-src-io-file-mod-rs-1-1><code>crates/bevy_asset/src/io/file/mod.rs</code> (+1/-1)</h3><p><strong>What changed</strong>: Fixed link to use fully qualified path syntax <strong>Why</strong>: Intra-doc links need explicit crate paths when referencing items<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>//! To change this, set [`AssetPlugin.file_path`].
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>//! To change this, set [`AssetPlugin::file_path`][crate::AssetPlugin::file_path].
</span></code></pre><h3 id=crates-bevy-ecs-src-schedule-stepping-rs-1-1><code>crates/bevy_ecs/src/schedule/stepping.rs</code> (+1/-1)</h3><p><strong>What changed</strong>: Fixed field reference syntax in documentation <strong>Why</strong>: Field references need proper struct::field syntax<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>//! Updates to [`Stepping.schedule_states`] that will be applied at the start
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>//! Updates to [`Stepping::schedule_states`] that will be applied at the start
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/rustdoc/write-documentation/linking-to-items-by-name.html target=_blank>Rust Documentation: Intra-doc Links</a><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/rustdoc/how-to-write-documentation.html target=_blank>Rustdoc: How to Write Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/blob/main/docs/plugins_guidelines.md#documentation target=_blank>Bevy Documentation Guidelines</a><li><a rel="noopener nofollow noreferrer" href=https://rust-lang.github.io/rfcs/1946-intra-rustdoc-links.html target=_blank>Rust RFC: Intra-doc Links</a></ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-08/pr_20530.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>