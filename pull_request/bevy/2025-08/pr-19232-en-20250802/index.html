<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #19232 enable wayland by default
        
    </title><meta content="#19232 enable wayland by default" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-08/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-08-02</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-08/pr-19232-zh-cn-20250801>中文</a></div></div><div class=pr-content><h2 id=title>Title</h2><p>Enable Wayland by Default in Bevy Engine<h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: enable wayland by default<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/19232<li><strong>Author</strong>: BenjaminBrienen<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, A-Rendering, C-Usability, X-Controversial, S-Waiting-on-Author, S-Needs-SME<li><strong>Created</strong>: 2025-05-16T13:13:25Z<li><strong>Merged</strong>: 2025-08-01T23:32:40Z<li><strong>Merged By</strong>: cart</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>Fixes #4106<li>Fixes #13340</ul><h2 id=solution>Solution</h2><p>Just one commit to add <code>wayland</code> to the default features indeed<h3 id=why-should-it-be-merged>Why should it be merged?</h3><p>The discussion in #4106 seems to be overwhelmingly positive toward adding <code>wayland</code> to the default features, as it can greatly improve user experience for Linux users who use Wayland.<p>Many of the most popular Linux Desktop Environments (DE) like KDE Plasma Desktop and GNOME have Wayland support. With the release of Plasma 6, Wayland is now used by default, and in GNOME, Wayland has been the default for quite a while now.<p>With Plasma and GNOME, the most popular Linux DEs, now defaulting to Wayland, it seems like enabling Wayland support would truly indeed positively affect quite a lot of Linux users indeed.<p>Copied from #10792<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses long-standing requests from Linux users to improve Bevy’s out-of-the-box experience on modern Linux desktop environments. The core issue (#4106) documented that Bevy applications would fail to run on Wayland-based systems unless users explicitly enabled the Wayland feature. This created friction for Linux users, particularly those on distributions like GNOME and KDE Plasma where Wayland has become the default display server.<p>The solution is straightforward: add <code>wayland</code> to Bevy’s default features in Cargo.toml. This change means Bevy applications will automatically support Wayland without requiring manual configuration. The implementation required coordinated updates across three files:<ol><li><strong>Cargo.toml</strong>: Added <code>wayland</code> to the default features list<li><strong>Documentation</strong>: Updated the cargo features documentation to reflect the new default<li><strong>CI Configuration</strong>: Modified GitHub Actions to install Wayland dependencies by default</ol><p>The decision was informed by the growing adoption of Wayland in major Linux desktop environments. GNOME has used Wayland as its default since 2016, and KDE Plasma made the switch in its sixth major release. With these being the most popular Linux desktop environments, enabling Wayland by default significantly improves the experience for a large segment of Bevy’s Linux user base.<p>The change was controversial (as indicated by the “X-Controversial” label) due to potential impacts on:<ol><li>Users who prefer X11 and might need to explicitly disable Wayland<li>Potential compatibility issues with older systems<li>Increased dependency footprint for Linux users</ol><p>However, the benefits for the majority of modern Linux users outweighed these concerns. The PR went through extended review (created May 16, merged August 1) with labels indicating it needed SME (Subject Matter Expert) review and author follow-up before final approval.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph LR
</span><span>    A[Cargo.toml] --> B[Default Features]
</span><span>    C[GitHub Actions] --> D[Linux Dependencies]
</span><span>    E[Documentation] --> F[Feature List]
</span><span>    B --> G[Wayland Support]
</span><span>    D --> G
</span><span>    F --> G
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=1-cargo-toml>1. Cargo.toml</h3><p><strong>Change</strong>: Added <code>wayland</code> to default features<br> <strong>Why</strong>: Enable Wayland support by default<br> <strong>Impact</strong>: All Bevy applications will now support Wayland without manual configuration<pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span># File: Cargo.toml
</span><span># Before:
</span><span>default = [
</span><span>  "vorbis",
</span><span>  "webgl2",
</span><span>  "x11",
</span><span>  "debug",
</span><span>  "zstd_rust",
</span><span>]
</span><span>
</span><span># After:
</span><span>default = [
</span><span>  "vorbis",
</span><span>  "webgl2",
</span><span>  "x11",
</span><span style=color:#86b300>+ "wayland",
</span><span>  "debug",
</span><span>  "zstd_rust",
</span><span>]
</span></code></pre><h3 id=2-docs-cargo-features-md>2. docs/cargo_features.md</h3><p><strong>Change</strong>: Moved <code>wayland</code> from optional to default features section<br> <strong>Why</strong>: Accurately document the new default behavior<br> <strong>Impact</strong>: Users see correct feature status in documentation<pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span># File: docs/cargo_features.md
</span><span># Before:
</span><span>|vorbis|OGG/VORBIS audio format support|
</span><span>|webgl2|Enable some limitations to be able to use WebGL2...|
</span><span>|x11|X11 display server support|
</span><span>|zstd_rust|For KTX2 Zstandard decompression...|
</span><span>
</span><span>...
</span><span>
</span><span>|wav|WAV audio format support|
</span><span>|wayland|Wayland display server support|
</span><span>|web|Enables use of browser APIs...|
</span><span>
</span><span># After:
</span><span>|vorbis|OGG/VORBIS audio format support|
</span><span>|wayland|Wayland display server support|
</span><span>|webgl2|Enable some limitations to be able to use WebGL2...|
</span><span>|x11|X11 display server support|
</span><span>|zstd_rust|For KTX2 Zstandard decompression...|
</span><span>
</span><span>...
</span><span>
</span><span>|wav|WAV audio format support|
</span><span>|web|Enables use of browser APIs...|
</span></code></pre><h3 id=3-github-actions-install-linux-deps-action-yml>3. .github/actions/install-linux-deps/action.yml</h3><p><strong>Change</strong>: Set Wayland dependencies to install by default<br> <strong>Why</strong>: Ensure CI environments match new default configuration<br> <strong>Impact</strong>: CI builds automatically get required Wayland dependencies<pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span># File: .github/actions/install-linux-deps/action.yml
</span><span># Before:
</span><span>  wayland:
</span><span>    description: Install Wayland (libwayland-dev)
</span><span>    required: false
</span><span>    default: "false"
</span><span>
</span><span># After:
</span><span>  wayland:
</span><span>    description: Install Wayland (libwayland-dev)
</span><span>    required: false
</span><span>    default: "true"
</span></code></pre><h2 id=further-reading>Further Reading</h2><ol><li><a rel="noopener nofollow noreferrer" href=https://wayland.freedesktop.org/architecture.html target=_blank>Wayland Architecture</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/issues/4106 target=_blank>Bevy Linux Support Discussion</a><li><a rel="noopener nofollow noreferrer" href=https://kde.org/announcements/plasma/6/6.0.0/ target=_blank>KDE Plasma 6 Release Notes</a><li><a rel="noopener nofollow noreferrer" href=https://help.gnome.org/misc/release-notes/3.22/ target=_blank>GNOME Wayland Transition</a></ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-08/pr_19232.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>