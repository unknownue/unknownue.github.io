<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #20627 Add release note for atmosphere env map
        
    </title><meta content="#20627 Add release note for atmosphere env map" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-08/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-08-17</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-08/pr-20627-zh-cn-20250817>中文</a></div></div><div class=pr-content><h1 id=add-release-note-for-atmosphere-env-map>Add release note for atmosphere env map</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Add release note for atmosphere env map<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/20627<li><strong>Author</strong>: mate-h<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Docs<li><strong>Created</strong>: 2025-08-17T21:35:19Z<li><strong>Merged</strong>: 2025-08-17T22:55:29Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>Follow up on the PR to add the release note<li>keep a friendly tone with no technical details (they are in the PR)<li>focus on the use cases rather than implementation details</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This documentation PR addresses the need to properly document a recently implemented rendering feature in Bevy. The original implementation PR (#20529) added support for atmosphere-generated environment maps but didn’t include corresponding release notes. This follow-up ensures users will understand the feature’s purpose and benefits when it ships.<p>The problem was straightforward: without proper release documentation, users wouldn’t discover the new capability or understand how to implement it. The solution required creating a concise, user-focused explanation that highlights practical benefits rather than technical implementation details. This approach follows Bevy’s documentation standards where release notes focus on what users can achieve with new features.<p>The implementation consists of a single Markdown file that:<ol><li>Announces the feature with a descriptive title<li>Credits the original PR and authors<li>Explains the practical benefits for scene rendering<li>Provides a clear code example for implementation<li>Notes current limitations and future possibilities</ol><p>The release note specifically avoids technical details about the rendering implementation since those belong in the original PR and codebase documentation. Instead, it focuses on the user experience benefits - mainly how environment maps now automatically stay consistent with procedural sky changes without requiring pre-baked assets.<p>One notable engineering decision was making the feature per-camera rather than using light probes. The documentation explicitly calls out this implementation detail as a current limitation (“Light probes are not yet supported”) while leaving room for future expansion. The code example shows the minimal implementation required - adding a single component to a camera entity.<p>The impact of this PR is improved discoverability and usability of the atmosphere environment map feature. By providing clear usage documentation at release time, users can immediately benefit from the dynamic reflection system without digging through implementation PRs or source code.<h2 id=key-files-changed>Key Files Changed</h2><h3 id=release-content-release-notes-atmosphere-environment-map-md-new-file><code>release-content/release-notes/atmosphere_environment_map.md</code> (new file)</h3><p>This file contains the complete release note documentation for the atmosphere environment map feature.<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#abb0b6;background-color:#61676c10;font-weight:700>---
</span><span>title: Generated environment map for procedural atmosphere
</span><span>authors: ["@mate-h"]
</span><span>pull_requests: [20529]
</span><span style=color:#fa6e32;font-weight:700>---
</span><span>
</span><span>(TODO: Embed screenshot of atmosphere-generated reflections)
</span><span>
</span><span>You can now have dynamic reflections and ambient light in your scene that match the procedural sky.
</span><span>
</span><span>As the sky changes, reflections on shiny and rough materials update automatically to stay consistent — no pre-baked environment maps needed.
</span><span>
</span><span>To enable this for a camera, add the new component </span><span style=color:#ed9366;background-color:#61676c10>`AtmosphereEnvironmentMapLight`</span><span> to the camera entity:
</span><span>
</span><span>```</span><span style=color:#ff8f40>rust
</span><span style=color:#61676c;background-color:#61676c07>commands</span><span style=color:#ed9366;background-color:#61676c07>.</span><span style=color:#f07171;background-color:#61676c07>spawn</span><span style=color:#61676c;background-color:#61676c07>((
</span><span style=color:#61676c;background-color:#61676c07>    Camera3d</span><span style=color:#ed9366;background-color:#61676c07>::</span><span style=color:#61676c;background-color:#61676c07>default()</span><span style=color:#61676ccc;background-color:#61676c07>,
</span><span style=color:#61676c;background-color:#61676c07>    </span><span style=color:#abb0b6;background-color:#61676c07;font-style:italic>// Generates an environment cubemap from the atmosphere for this view
</span><span style=color:#61676c;background-color:#61676c07>    AtmosphereEnvironmentMapLight</span><span style=color:#ed9366;background-color:#61676c07>::</span><span style=color:#61676c;background-color:#61676c07>default()</span><span style=color:#61676ccc;background-color:#61676c07>,
</span><span style=color:#61676c;background-color:#61676c07>))</span><span style=color:#61676ccc;background-color:#61676c07>;
</span></code></pre><p>Note that this is a per-view effect (per camera). Light probes are not yet supported.<p>Special thanks to @atlv24, @JMS55 and @ecoskey for reviews and feedback.<pre style=color:#61676c;background-color:#fafafa><code><span>
</span><span>Key aspects:
</span><span>- User-focused description of benefits
</span><span>- Clear code example showing minimal implementation
</span><span>- Explicit note about current limitations
</span><span>- Credit to contributors
</span><span>
</span><span>## Further Reading
</span><span>1. Original implementation PR: https://github.com/bevyengine/bevy/pull/20529
</span><span>2. Bevy documentation on environment maps: https://bevyengine.org/learn/book/features/pbr/environment-maps/
</span><span>3. Atmosphere rendering in game engines: [Hillaire2016] "Physically Based Sky, Atmosphere and Cloud Rendering in Frostbite"
</span><span>
</span><span>## Full Code Diff
</span><span>```diff
</span><span>diff --git a/release-content/release-notes/atmosphere_environment_map.md b/release-content/release-notes/atmosphere_environment_map.md
</span><span>new file mode 100644
</span><span>index 0000000000000..bbb9361775d70
</span><span>--- /dev/null
</span><span>+++ b/release-content/release-notes/atmosphere_environment_map.md
</span><span>@@ -0,0 +1,25 @@
</span><span>+---
</span><span>+title: Generated environment map for procedural atmosphere
</span><span>+authors: ["@mate-h"]
</span><span>+pull_requests: [20529]
</span><span>+---
</span><span>+
</span><span>+(TODO: Embed screenshot of atmosphere-generated reflections)
</span><span>+
</span><span>+You can now have dynamic reflections and ambient light in your scene that match the procedural sky.
</span><span>+
</span><span>+As the sky changes, reflections on shiny and rough materials update automatically to stay consistent — no pre-baked environment maps needed.
</span><span>+
</span><span>+To enable this for a camera, add the new component `AtmosphereEnvironmentMapLight` to the camera entity:
</span><span>+
</span><span>+```rust
</span><span>+commands.spawn((
</span><span>+    Camera3d::default(),
</span><span>+    // Generates an environment cubemap from the atmosphere for this view
</span><span>+    AtmosphereEnvironmentMapLight::default(),
</span><span>+));
</span><span>+```
</span><span>+
</span><span>+Note that this is a per-view effect (per camera). Light probes are not yet supported.
</span><span>+
</span><span>+Special thanks to @atlv24, @JMS55 and @ecoskey for reviews and feedback.
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-08/pr_20627.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>