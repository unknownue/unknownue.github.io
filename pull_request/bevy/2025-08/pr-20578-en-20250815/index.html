<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #20578 remove some new lines from ComputedStates docs
        
    </title><meta content="#20578 remove some new lines from ComputedStates docs" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-08/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-08-15</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-08/pr-20578-zh-cn-20250815>中文</a></div></div><div class=pr-content><h1 id=pull-request-analysis-20578-remove-some-new-lines-from-computedstates-docs>Pull Request Analysis: #20578 - remove some new lines from ComputedStates docs</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: remove some new lines from ComputedStates docs<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/20578<li><strong>Author</strong>: hymm<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-08-14T23:45:31Z<li><strong>Merged</strong>: 2025-08-15T00:33:42Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>In the docs examples for ComputedStates there are some extra new lines. https://dev-docs.bevy.org/bevy_state/state/computed_states/trait.ComputedStates.html</ul><h2 id=solution>Solution</h2><ul><li>hide or remove them.</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a minor but important documentation formatting issue in Bevy’s state management system. The problem was observed in the <code>ComputedStates</code> trait documentation where extra new lines in code examples were creating unnecessary vertical whitespace in the rendered documentation. While this didn’t affect code functionality, it did impact documentation readability and professional presentation.<p>The author identified two specific examples in the documentation where excessive new lines were present. The first instance appeared between <code>use</code> statements and enum definition, and the second occurred between struct definitions and example usage code. These extra line breaks were making the examples appear more spaced out than necessary in the HTML documentation.<p>The solution approach was straightforward: remove the problematic new lines while preserving all other content and formatting. The author modified the doc comments by replacing empty comment lines with commented-out hash symbols (<code>#</code>) to collapse the vertical space without altering the actual example content. This approach maintains the correct indentation and code structure while eliminating the visual clutter.<p>For the second example, the author also fixed an indentation issue where the example code was over-indented. This over-indentation was causing the code to render as a nested code block in the documentation, which wasn’t the intended presentation. By adjusting the indentation level, the example now displays as a single coherent code block.<p>These changes improve the documentation’s visual consistency with other Bevy examples and follow Rust’s best practices for doc comments. Well-formatted examples are particularly important in Bevy’s documentation since they help users understand how to properly implement computed states, which are a key abstraction in the engine’s state management system.<p>The PR was appropriately labeled as trivial (D-Trivial) since it doesn’t modify any runtime behavior or public API surface. It was quickly reviewed and merged, indicating consensus on the value of these documentation improvements.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[ComputedStates Documentation] --> B[Example 1]
</span><span>    A --> C[Example 2]
</span><span>    B --> D[Remove extra new lines]
</span><span>    C --> E[Fix indentation]
</span><span>    D --> F[Cleaner rendering]
</span><span>    E --> F
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-state-src-state-computed-states-rs><code>crates/bevy_state/src/state/computed_states.rs</code></h3><p><strong>Description</strong>: Documentation examples for the <code>ComputedStates</code> trait had extra new lines and incorrect indentation. The changes remove unnecessary whitespace and fix indentation to improve readability.<p><strong>Changes</strong>:<pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>// Before:
</span><span>/// ```
</span><span>/// # use bevy_state::prelude::*;
</span><span>/// # use bevy_ecs::prelude::*;
</span><span>///
</span><span>/// /// Computed States require some state to derive from
</span><span>/// #[derive(States, Clone, PartialEq, Eq, Hash, Debug, Default)]
</span><span>/// enum AppState {
</span><span>///     #[default]
</span><span>///     Menu,
</span><span>///     InGame { paused: bool }
</span><span>/// }
</span><span>///
</span><span>///
</span><span>/// #[derive(Clone, PartialEq, Eq, Hash, Debug)]
</span><span>/// struct InGame;
</span><span>
</span><span>// After:
</span><span>/// ```
</span><span>/// # use bevy_state::prelude::*;
</span><span>/// # use bevy_ecs::prelude::*;
</span><span>/// #
</span><span>/// /// Computed States require some state to derive from
</span><span>/// #[derive(States, Clone, PartialEq, Eq, Hash, Debug, Default)]
</span><span>/// enum AppState {
</span><span>///     #[default]
</span><span>///     Menu,
</span><span>///     InGame { paused: bool }
</span><span>/// }
</span><span>///
</span><span>/// #[derive(Clone, PartialEq, Eq, Hash, Debug)]
</span><span>/// struct InGame;
</span></code></pre><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>// Before:
</span><span>/// ```
</span><span>/// # use bevy_state::prelude::*;
</span><span>/// # use bevy_ecs::prelude::*;
</span><span>///
</span><span>/// # struct App;
</span><span>/// # impl App {
</span><span>/// #   fn new() -> Self { App }
</span><span>/// #   fn init_state&LTT>(&mut self) -> &mut Self { self }
</span><span>/// #   fn add_computed_state&LTT>(&mut self) -> &mut Self { self }
</span><span>/// # }
</span><span>/// # struct AppState;
</span><span>/// # struct InGame;
</span><span>///
</span><span>///     App::new()
</span><span>///         .init_state::&LTAppState>()
</span><span>///         .add_computed_state::&LTInGame>();
</span><span>/// ```
</span><span>
</span><span>// After:
</span><span>/// ```
</span><span>/// # use bevy_state::prelude::*;
</span><span>/// # use bevy_ecs::prelude::*;
</span><span>/// #
</span><span>/// # struct App;
</span><span>/// # impl App {
</span><span>/// #   fn new() -> Self { App }
</span><span>/// #   fn init_state&LTT>(&mut self) -> &mut Self { self }
</span><span>/// #   fn add_computed_state&LTT>(&mut self) -> &mut Self { self }
</span><span>/// # }
</span><span>/// # struct AppState;
</span><span>/// # struct InGame;
</span><span>/// #
</span><span>/// App::new()
</span><span>///     .init_state::&LTAppState>()
</span><span>///     .add_computed_state::&LTInGame>();
</span><span>/// ```
</span><span>
</span><span>## Further Reading
</span><span>1. [Rust Documentation Guidelines](https://rust-lang.github.io/api-guidelines/documentation.html) - Best practices for writing Rust documentation
</span><span>2. [Bevy States Documentation](https://docs.rs/bevy/latest/bevy/ecs/schedule/state/index.html) - Official documentation for Bevy's state system
</span><span>3. [Rustdoc Book](https://doc.rust-lang.org/rustdoc/index.html) - Comprehensive guide to Rust's documentation system
</span><span>
</span><span>## Full Code Diff
</span><span>```diff
</span><span>diff --git a/crates/bevy_state/src/state/computed_states.rs b/crates/bevy_state/src/state/computed_states.rs
</span><span>index dbe7a973d427e..96874228b72ff 100644
</span><span style=color:#c594c5>--- a/crates/bevy_state/src/state/computed_states.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_state/src/state/computed_states.rs
</span><span style=color:#c594c5>@@ -13,7 +13,7 @@ </span><span style=color:#399ee6>use super::{state_set::StateSet, states::States};
</span><span> /// ```
</span><span> /// # use bevy_state::prelude::*;
</span><span> /// # use bevy_ecs::prelude::*;
</span><span style=color:#f07171>-///
</span><span style=color:#86b300>+/// #
</span><span> /// /// Computed States require some state to derive from
</span><span> /// #[derive(States, Clone, PartialEq, Eq, Hash, Debug, Default)]
</span><span> /// enum AppState {
</span><span style=color:#c594c5>@@ -22,7 +22,6 @@ </span><span style=color:#399ee6>use super::{state_set::StateSet, states::States};
</span><span> ///     InGame { paused: bool }
</span><span> /// }
</span><span> ///
</span><span style=color:#f07171>-///
</span><span> /// #[derive(Clone, PartialEq, Eq, Hash, Debug)]
</span><span> /// struct InGame;
</span><span> ///
</span><span style=color:#c594c5>@@ -52,7 +51,7 @@ </span><span style=color:#399ee6>use super::{state_set::StateSet, states::States};
</span><span> /// ```
</span><span> /// # use bevy_state::prelude::*;
</span><span> /// # use bevy_ecs::prelude::*;
</span><span style=color:#f07171>-///
</span><span style=color:#86b300>+/// #
</span><span> /// # struct App;
</span><span> /// # impl App {
</span><span> /// #   fn new() -> Self { App }
</span><span style=color:#c594c5>@@ -61,10 +60,10 @@ </span><span style=color:#399ee6>use super::{state_set::StateSet, states::States};
</span><span> /// # }
</span><span> /// # struct AppState;
</span><span> /// # struct InGame;
</span><span style=color:#f07171>-///
</span><span style=color:#f07171>-///     App::new()
</span><span style=color:#f07171>-///         .init_state::&LTAppState>()
</span><span style=color:#f07171>-///         .add_computed_state::&LTInGame>();
</span><span style=color:#86b300>+/// #
</span><span style=color:#86b300>+/// App::new()
</span><span style=color:#86b300>+///     .init_state::&LTAppState>()
</span><span style=color:#86b300>+///     .add_computed_state::&LTInGame>();
</span><span> /// ```
</span><span> pub trait ComputedStates: 'static + Send + Sync + Clone + PartialEq + Eq + Hash + Debug {
</span><span>     /// The set of states from which the [`Self`] is derived.
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-08/pr_20578.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>