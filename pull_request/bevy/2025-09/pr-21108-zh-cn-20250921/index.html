<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21108 Bevy 0.17 release notes editorial pass
        
    </title><meta content="#21108 Bevy 0.17 release notes editorial pass" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-09/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-09-21</span><div class=language-switcher><a class=lang-link data-lang=en href=/pull_request/bevy/2025-09/pr-21108-en-20250921>English</a> / <span class="lang-link active" data-lang=zh-cn>中文</span></div></div><div class=pr-content><h1 id=bevy-0-17-fa-bu-shuo-ming-bian-ji-shen-cha>Bevy 0.17 发布说明编辑审查</h1><h2 id=ji-ben-xin-xi>基本信息</h2><ul><li><strong>标题</strong>: Bevy 0.17 release notes editorial pass<li><strong>PR 链接</strong>: https://github.com/bevyengine/bevy/pull/21108<li><strong>作者</strong>: cart<li><strong>状态</strong>: 已合并<li><strong>标签</strong>: C-Docs, S-Ready-For-Final-Review, A-Cross-Cutting<li><strong>创建时间</strong>: 2025-09-17T23:25:39Z<li><strong>合并时间</strong>: 2025-09-21T12:04:15Z<li><strong>合并者</strong>: cart</ul><h2 id=miao-shu-fan-yi>描述翻译</h2><p>对发布说明进行标准的“增加清晰度、重新措辞/重构、调整语言、精简冗余内容/保护注意力“的编辑审查。<h2 id=ben-ci-pr-de-gu-shi>本次 PR 的故事</h2><p>这个 PR 是对 Bevy 0.17 发布说明的全面编辑审查，主要目标是提升技术文档的质量和可读性。作为一次编辑性质的修改，它不涉及功能代码的变更，而是专注于让发布说明更加清晰、准确和实用。<h3 id=wen-ti-he-bei-jing>问题和背景</h3><p>Bevy 0.17 是一个重要的版本更新，包含了许多新特性和改进。原始的发布说明虽然内容完整，但在表达清晰度、代码示例质量和技术准确性方面还有提升空间。存在的问题包括：<ul><li>部分技术描述过于冗长或模糊<li>代码示例不够直观或完整<li>某些功能的适用场景和限制说明不够明确<li>术语使用不够一致</ul><h3 id=jie-jue-fang-an-fang-fa>解决方案方法</h3><p>cart 采用了系统性的编辑方法，对每个发布说明文件进行逐项审查：<ol><li>精简冗余内容，突出关键信息<li>重写模糊或不准确的描述<li>改进代码示例，使其更实用和易懂<li>确保技术术语的一致性<li>明确功能的使用场景和限制</ol><h3 id=ju-ti-shi-xian>具体实现</h3><p>编辑工作涉及 22 个文件，主要集中在技术描述的优化和代码示例的改进。以下是一些典型的修改模式：<p><strong>实体生成追踪说明的优化</strong>：重写了整个章节的结构，使其更加清晰。原来的长篇解释被拆分为更易理解的段落，并提供了更实用的代码示例：<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前：
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>system1</span><span>(</span><span style=color:#ff8f40>query</span><span style=color:#61676ccc>: </span><span>Query&LTEntity, Spawned>) {
</span><span>    </span><span style=color:#fa6e32>for</span><span> entity </span><span style=color:#ed9366>in &</span><span>query { </span><span style=color:#abb0b6;font-style:italic>/* entity spawned */ </span><span>}
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后：
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>system</span><span>(</span><span style=color:#ff8f40>query</span><span style=color:#61676ccc>: </span><span>Query&LTEntity, Spawned>) {
</span><span>    </span><span style=color:#fa6e32>for</span><span> entity </span><span style=color:#ed9366>in &</span><span>query { </span><span style=color:#abb0b6;font-style:italic>/* entity spawned */ </span><span>}
</span><span>}
</span></code></pre><p><strong>渲染启动计划的说明重构</strong>：将原来冗长的技术背景说明精简为更直接的解释，突出了变更的核心价值：<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前需要复杂的 FromWorld 实现
</span><span style=color:#fa6e32>impl </span><span>FromWorld </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>MyRenderResource </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>from_world</span><span>(</span><span style=color:#ff8f40>world</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> World) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>        </span><span style=color:#fa6e32>let</span><span> render_device </span><span style=color:#ed9366>=</span><span> world</span><span style=color:#ed9366>.</span><span>resource</span><span style=color:#ed9366>::</span><span>&LTRenderDevice>()</span><span style=color:#61676ccc>;
</span><span>        MyRenderResource(</span><span style=color:#abb0b6;font-style:italic>/* ... */</span><span>)
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后使用简单的系统初始化
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>init_my_resource</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>commands</span><span style=color:#61676ccc>:</span><span> Commands, </span><span style=color:#ff8f40>render_device</span><span style=color:#61676ccc>: </span><span>Res&LTRenderDevice>) {
</span><span>    commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>insert_resource</span><span>(MyRenderResource(</span><span style=color:#abb0b6;font-style:italic>/* ... */</span><span>))</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><p><strong>Feathers UI 组件集的说明更新</strong>：明确了 Feathers 的定位和使用场景，避免了之前的模糊描述：<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 更清晰地说明了 Feathers 的用途和限制
</span><span>commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>    Node { width</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>20</span><span>)</span><span style=color:#61676ccc>,</span><span> height</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>20</span><span>) }</span><span style=color:#61676ccc>,
</span><span>    BackgroundGradient</span><span style=color:#ed9366>::</span><span>from(LinearGradient {
</span><span>        angle</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>4.</span><span style=color:#61676ccc>,
</span><span>        stops</span><span style=color:#61676ccc>: </span><span style=color:#f07171>vec!</span><span>[
</span><span>            ColorStop</span><span style=color:#ed9366>::</span><span>new(Color</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>WHITE</span><span style=color:#61676ccc>, </span><span style=color:#f07171>percent</span><span>(</span><span style=color:#ff8f40>15</span><span>))</span><span style=color:#61676ccc>,
</span><span>            ColorStop</span><span style=color:#ed9366>::</span><span>new(Color</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>BLACK</span><span style=color:#61676ccc>, </span><span style=color:#f07171>percent</span><span>(</span><span style=color:#ff8f40>85</span><span>))</span><span style=color:#61676ccc>,
</span><span>        ]</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>    })
</span><span>))
</span></code></pre><h3 id=ji-shu-jian-jie>技术见解</h3><p>这次编辑审查体现了高质量技术文档的几个关键原则：<ol><li><strong>精确性</strong>：每个技术描述都经过仔细核对，确保与代码实现一致<li><strong>实用性</strong>：代码示例都是真实可用的，而不是简化的伪代码<li><strong>一致性</strong>：术语使用在整个文档中保持统一<li><strong>可读性</strong>：复杂的概念被分解为易于理解的段落</ol><h3 id=ying-xiang>影响</h3><p>这些编辑改进虽然不改变代码功能，但对 Bevy 生态有重要价值：<ul><li>降低了新用户的学习曲线<li>减少了开发者误解API用法的可能性<li>为第三方开发者提供了更清晰的扩展指南<li>提升了 Bevy 作为专业游戏引擎的文档质量</ul><h2 id=ke-shi-hua-biao-shi>可视化表示</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TB
</span><span>    A[发布说明编辑审查] --> B[技术准确性提升]
</span><span>    A --> C[代码示例优化]
</span><span>    A --> D[内容结构改进]
</span><span>    
</span><span>    B --> E[术语一致性]
</span><span>    B --> F[限制条件明确化]
</span><span>    
</span><span>    C --> G[实用示例]
</span><span>    C --> H[API使用演示]
</span><span>    
</span><span>    D --> I[逻辑分段]
</span><span>    D --> J[冗余内容移除]
</span><span>    
</span><span>    E --> K[开发者体验改善]
</span><span>    F --> K
</span><span>    G --> K
</span><span>    H --> K
</span><span>    I --> K
</span><span>    J --> K
</span></code></pre><h2 id=guan-jian-wen-jian-bian-geng>关键文件变更</h2><h3 id=release-content-release-notes-entity-spawn-ticks-md-25-45><code>release-content/release-notes/entity-spawn-ticks.md</code> (+25/-45)</h3><p><strong>变更描述</strong>：重构了实体生成追踪功能的说明，使其更加清晰和实用。<p><strong>关键修改</strong>：<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#abb0b6;font-style:italic>&LT!-- 修改前： -->
</span><span>Keeping track which entities have been spawned since the last time a system ran could only be done indirectly...
</span><span>
</span><span style=color:#abb0b6;font-style:italic>&LT!-- 修改后： -->
</span><span>In previous versions of Bevy, keeping track of which entities have been spawned since the last time a system ran could only be done indirectly by writing your own logic.
</span></code></pre><h3 id=release-content-release-notes-render-startup-md-13-56><code>release-content/release-notes/render_startup.md</code> (+13/-56)</h3><p><strong>变更描述</strong>：简化了 RenderStartup 计划的说明，突出了其核心价值。<p><strong>关键修改</strong>：<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#abb0b6;font-style:italic>&LT!-- 修改前： -->
</span><span>Previous rendering code looked quite different from other Bevy code...
</span><span>
</span><span style=color:#abb0b6;font-style:italic>&LT!-- 修改后： -->
</span><span>In previous versions of Bevy, render </span><span style=color:#ed9366;background-color:#61676c10>`Plugin`</span><span> code had to look different than other </span><span style=color:#ed9366;background-color:#61676c10>`Plugin`</span><span> code, due to how the renderer was initialized.
</span></code></pre><h3 id=release-content-release-notes-raymarched-atmosphere-space-views-md-21-40><code>release-content/release-notes/raymarched-atmosphere-space-views.md</code> (+21/-40)</h3><p><strong>变更描述</strong>：优化了光线步进大气渲染的说明，更清晰地描述了两种模式的适用场景。<p><strong>关键修改</strong>：<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#abb0b6;font-style:italic>&LT!-- 修改前： -->
</span><span>Bevy's atmosphere now supports a raymarched rendering path that unlocks accurate views from above the atmosphere...
</span><span>
</span><span style=color:#abb0b6;font-style:italic>&LT!-- 修改后： -->
</span><span>Bevy's atmosphere now supports a raymarched rendering path that unlocks accurate views from above the atmosphere. This means </span><span style=color:#f07171;font-weight:700>**Bevy 0.17**</span><span> now has two atmosphere rendering modes to choose from:
</span></code></pre><h3 id=release-content-release-notes-feathers-md-25-24><code>release-content/release-notes/feathers.md</code> (+25/-24)</h3><p><strong>变更描述</strong>：明确了 Feathers UI 组件集的定位和当前状态。<p><strong>关键修改</strong>：<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#abb0b6;font-style:italic>&LT!-- 修改前： -->
</span><span>To make it easier for Bevy engine developers and third-party tool creators to make comfortable, visually cohesive tooling...
</span><span>
</span><span style=color:#abb0b6;font-style:italic>&LT!-- 修改后： -->
</span><span>we're pleased to introduce "Feathers" - a comprehensive Bevy UI widget set. Feathers is meant to be Bevy's "developer tools" widget set, and it will be used to build the upcoming [Bevy Editor](</span><span style=color:#4cbf99;font-style:italic;text-decoration:underline>https://bevy.org/news/bevys-fifth-birthday/#bevy-editor-design</span><span>).
</span></code></pre><h3 id=release-content-release-notes-reflect-auto-registration-md-18-27><code>release-content/release-notes/reflect_auto_registration.md</code> (+18/-27)</h3><p><strong>变更描述</strong>：改进了反射自动注册功能的说明，提供了更清晰的代码示例。<p><strong>关键修改</strong>：<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#abb0b6;font-style:italic>&LT!-- 修改前： -->
</span><span style=color:#fa6e32;font-weight:700>## </span><span style=color:#399ee6;font-weight:700>Automatic [</span><span style=color:#ed9366;background-color:#61676c10;font-weight:700>`Reflect`</span><span style=color:#399ee6;font-weight:700>] registration
</span><span>
</span><span>Deriving [</span><span style=color:#ed9366;background-color:#61676c10>`Reflect`</span><span>] on types opts into </span><span style=color:#f07171;font-weight:700>**Bevy's**</span><span> runtime reflection infrastructure...
</span><span>
</span><span style=color:#abb0b6;font-style:italic>&LT!-- 修改后： -->
</span><span>Deriving [</span><span style=color:#ed9366;background-color:#61676c10>`Reflect`</span><span>] on types opts into </span><span style=color:#f07171;font-weight:700>**Bevy's**</span><span> runtime reflection infrastructure, which is used to power systems like runtime component inspection and serialization:
</span></code></pre><h2 id=kuo-zhan-yue-du>扩展阅读</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/ target=_blank>Bevy 官方文档</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/tree/main/examples target=_blank>Bevy 示例代码</a><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/community/ target=_blank>Bevy 社区资源</a><li><a rel="noopener nofollow noreferrer" href=https://documentation.divio.com/ target=_blank>技术文档写作最佳实践</a></ul><h1 id=wan-zheng-dai-ma-chai-yi>完整代码差异</h1><p>由于 PR 包含 22 个文件的修改，差异内容较长，以下是部分关键变更的摘要：<pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/release-content/release-notes/entity-spawn-ticks.md b/release-content/release-notes/entity-spawn-ticks.md
</span><span>index aa319cb2a1158..cc1503df81521 100644
</span><span style=color:#c594c5>--- a/release-content/release-notes/entity-spawn-ticks.md
</span><span style=color:#c594c5>+++ b/release-content/release-notes/entity-spawn-ticks.md
</span><span style=color:#c594c5>@@ -4,50 +4,49 @@ </span><span style=color:#399ee6>authors: ["@urben1680", "@specificprotagonist"]
</span><span> pull_requests: [19047, 19350]
</span><span> ---
</span><span> 
</span><span style=color:#f07171>-Keeping track which entities have been spawned since the last time a system ran could only be done indirectly by inserting marker components and do your logic on entities that match an `Added&LTMyMarker>` filter or in `MyMarker`'s `on_add` hook.
</span><span style=color:#f07171>-
</span><span style=color:#f07171>-This has the issue however: add events react to component insertions on existing entities too. Sometimes you cannot even add your marker because the spawn call is hidden in some non-public API.
</span><span style=color:#86b300>+In previous versions of Bevy, keeping track of which entities have been spawned since the last time a system ran could only be done indirectly by writing your own logic.
</span><span> 
</span><span> The new `SpawnDetails` query data and `Spawned` query filter enable you to find recently spawned entities without any marker components.
</span><span> 
</span><span> ## `SpawnDetails`
</span><span> 
</span><span style=color:#f07171>-Use this in your query when you want to get information about the entity's spawn. You might want to do that for debug purposes, using the struct's `Debug` implementation.
</span><span style=color:#f07171>-
</span><span style=color:#f07171>-You can also get specific information via methods. The following example prints the entity id (prefixed with "new" if it showed up for the first time), the `Tick` it spawned at and, if the `track_location` feature is activated, the source code location where it was spawned. Said feature is not enabled by default because it comes with a runtime cost.
</span><span style=color:#86b300>+Use this in your query when you want to get information about the entity's spawn:
</span><span> 
</span><span> ```rs
</span><span> fn print_spawn_details(query: Query<(Entity, SpawnDetails)>) {
</span><span>     for (entity, spawn_details) in &query {
</span><span>         if spawn_details.is_spawned() {
</span><span style=color:#f07171>-            print!("new ");
</span><span style=color:#86b300>+            print!(
</span><span style=color:#86b300>+                "new entity {entity:?} spawned at {:?}",
</span><span style=color:#86b300>+                spawn_details.spawn_tick()
</span><span style=color:#86b300>+            );
</span><span style=color:#86b300>+            // if the `track_location` cargo feature is activated, this contains the source
</span><span style=color:#86b300>+            // code location where this entity was spawned. This has a runtime cost, so only
</span><span style=color:#86b300>+            // use it for debugging!
</span><span style=color:#86b300>+            match spawn_details.spawned_by().into_option() {
</span><span style=color:#86b300>+                Some(location) => println!(" by {location:?}"),
</span><span style=color:#86b300>+                None => println!()
</span><span style=color:#86b300>+            }    
</span><span>         }
</span><span style=color:#f07171>-        print!(
</span><span style=color:#f07171>-            "entity {entity:?} spawned at {:?}",
</span><span style=color:#f07171>-            spawn_details.spawned_at()
</span><span style=color:#f07171>-        );
</span><span style=color:#f07171>-        match spawn_details.spawned_by().into_option() {
</span><span style=color:#f07171>-            Some(location) => println!(" by {location:?}"),
</span><span style=color:#f07171>-            None => println!()
</span><span style=color:#f07171>-        }    
</span><span>     }
</span><span> }
</span></code></pre><h2 id=spawned><code>Spawned</code></h2><h2 id=use-this-filter-in-your-query-if-you-are-only-interested-in-entities-that-were-spawned-after-the-last-time-your-system-ran>-Use this filter in your query if you are only interested in entities that were spawned after the last time your system ran.</h2><h2 id=note-that-this-like-added-t-and-changed-t-is-a-non-archetypal-filter-this-means-that-your-query-could-still-go-through-millions-of-entities-without-yielding-any-recently-spawned-ones-unlike-filters-like-with-t-which-can-easily-skip-all-entities-that-do-not-have-t-without-checking-them-one-by-one>-Note that this, like <code>Added&LTT></code> and <code>Changed&LTT></code>, is a non-archetypal filter. This means that your query could still go through millions of entities without yielding any recently spawned ones. Unlike filters like <code>With&LTT></code> which can easily skip all entities that do not have <code>T</code> without checking them one-by-one.</h2><p>-Because of this, these systems have roughly the same performance: +Use this filter in your query if you are only interested in entities that were spawned after the last time your system ran:<p>-<code>rs -fn system1(query: Query&LTEntity, Spawned>) { +</code>rust +fn system(query: Query&LTEntity, Spawned>) { for entity in &query { /* entity spawned */ } } +``` + +Note that, much like <code>Added</code> and <code>Changed</code> filters, this is a “non archetypal filter”, meaning it requires scanning every entity matching the query, including those that weren’t spawned since the last run. +Because of this, the system above performs roughly the same as this one:<p>-fn system2(query: Query<(Entity, SpawnDetails)>) { +```rust +fn system(query: Query<(Entity, SpawnDetails)>) { for (entity, spawned) in &query { if spawned.is_spawned() { /* entity spawned */ } } @@ -56,27 +55,8 @@ fn system2(query: Query<(Entity, SpawnDetails)>) {<h2 id=getter-methods>Getter methods</h2><p>-Getting around this weakness of non-archetypal filters can be to check only specific entities for their spawn tick: The method <code>spawned_at</code> was added to all entity pointer structs, such as <code>EntityRef</code>, <code>EntityMut</code> and <code>EntityWorldMut</code>. +You can also use helper methods on <code>EntityWorldMut</code> and <code>EntityCommands</code>:<h2 id=in-this-example-we-want-to-filter-for-entities-that-were-spawned-after-a-certain-tick>-In this example we want to filter for entities that were spawned after a certain <code>tick</code>:</h2><p>-```rs -fn filter_spawned_after(<ul><li>entities: impl IntoIterator&LTItem = Entity>,<li>world: &World,<li>tick: Tick, -) -> impl Iterator&LTItem = Entity> {<li>let now = world.last_change_tick();<li>entities.into_iter().filter(move |entity| world<li><pre style=color:#61676c;background-color:#fafafa><code><span>   .entity(*entity)
</span></code></pre><li><pre style=color:#61676c;background-color:#fafafa><code><span>   .spawned_at()
</span></code></pre><li><pre style=color:#61676c;background-color:#fafafa><code><span>   .is_newer_than(tick, now)
</span></code></pre><li>) -} +```rust +world.entity(entity).spawn_tick()</ul><pre style=color:#61676c;background-color:#fafafa><code><span>-
</span><span>----
</span><span>-
</span><span>-The tick is stored in `Entities`. It's method `entity_get_spawned_or_despawned_at` not only returns when a living entity spawned at, it also returns when a despawned entity found it's bitter end.
</span><span>-
</span><span>-Note however that despawned entities can be replaced by Bevy at any following spawn. Then this method returns `None` for the despawned entity. The same is true if the entity is not even spawned yet, only allocated.
</span></code></pre><p>完整差异请查看原始 PR：https://github.com/bevyengine/bevy/pull/21108</div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-09/pr_21108.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>