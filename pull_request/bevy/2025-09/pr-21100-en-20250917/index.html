<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21100 Rename `bevy_sprite::sprite::ScalingMode` to `SpriteScalingMode`
        
    </title><meta content="#21100 Rename `bevy_sprite::sprite::ScalingMode` to `SpriteScalingMode`" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-09/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-09-17</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-09/pr-21100-zh-cn-20250917>中文</a></div></div><div class=pr-content><h1 id=rename-bevy-sprite-sprite-scalingmode-to-spritescalingmode>Rename <code>bevy_sprite::sprite::ScalingMode</code> to <code>SpriteScalingMode</code></h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Rename <code>bevy_sprite::sprite::ScalingMode</code> to <code>SpriteScalingMode</code><li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21100<li><strong>Author</strong>: ickshonpe<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, A-Rendering, C-Code-Quality, S-Ready-For-Final-Review, M-Needs-Migration-Guide<li><strong>Created</strong>: 2025-09-17T08:37:28Z<li><strong>Merged</strong>: 2025-09-17T21:42:11Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>There are two enums both called <code>ScalingMode</code>, <code>bevy_sprite::sprite::ScalingMode</code> and <code>bevy_camera::projection::ScalingMode</code>, in violition of the one namespace rule.<p>Part of #19285<h2 id=solution>Solution</h2><p>Rename <code>bevy_sprite::sprite::ScalingMode</code> to <code>bevy_sprite::sprite::SpriteScalingMode</code>.<p>Chose to rename the sprite enum as <code>bevy_camera::projection::ScalingMode</code> is much older and <code>OrthographicProjectionScalingMode</code> is a bit long.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a namespace collision between two distinct <code>ScalingMode</code> enums in the Bevy engine. The conflict occurred between <code>bevy_sprite::sprite::ScalingMode</code> and <code>bevy_camera::projection::ScalingMode</code>, violating the project’s one namespace rule which aims to prevent naming ambiguities.<p>The problem manifested when developers needed to use both sprite scaling and camera projection scaling in the same codebase. Without explicit module paths, the compiler couldn’t distinguish between the two enums, forcing developers to use verbose qualified paths or aliases.<p>The solution implemented renames the sprite module’s <code>ScalingMode</code> to <code>SpriteScalingMode</code>. This approach was chosen because:<ol><li>The camera projection’s <code>ScalingMode</code> is older and more established in the codebase<li>The alternative camera enum name <code>OrthographicProjectionScalingMode</code> would be excessively long<li>The sprite enum is used less frequently than the camera enum in typical game development scenarios</ol><p>The implementation required systematic updates across multiple components:<ul><li>Core enum definition and its usage in the sprite module<li>Rendering system that processes sprite scaling<li>Example code demonstrating sprite scaling functionality<li>Public API exports in the module prelude<li>Migration guide for existing users</ul><p>The changes maintain full backward compatibility through a clear migration path while resolving the namespace conflict permanently. All existing functionality remains identical - only the type names have changed.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Sprite Module] --> B[Defines SpriteScalingMode]
</span><span>    B --> C[Used by SpriteImageMode]
</span><span>    C --> D[Processed by Render System]
</span><span>    D --> E[Applied in Example Code]
</span><span>    F[Camera Module] --> G[Defines ScalingMode]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-sprite-src-sprite-rs><code>crates/bevy_sprite/src/sprite.rs</code></h3><p>Core enum definition and related type updates:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>pub enum </span><span style=color:#399ee6>ScalingMode </span><span>{
</span><span>    FillCenter</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other variants
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:  
</span><span style=color:#fa6e32>pub enum </span><span style=color:#399ee6>SpriteScalingMode </span><span>{
</span><span>    FillCenter</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other variants
</span><span>}
</span></code></pre><h3 id=crates-bevy-sprite-render-src-render-mod-rs><code>crates/bevy_sprite_render/src/render/mod.rs</code></h3><p>Rendering system updates:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>apply_scaling</span><span>(</span><span style=color:#ff8f40>scaling_mode</span><span style=color:#61676ccc>:</span><span> ScalingMode, ...) { </span><span style=color:#ed9366>... </span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>apply_scaling</span><span>(</span><span style=color:#ff8f40>scaling_mode</span><span style=color:#61676ccc>:</span><span> SpriteScalingMode, ...) { </span><span style=color:#ed9366>... </span><span>}
</span></code></pre><h3 id=examples-2d-sprite-scale-rs><code>examples/2d/sprite_scale.rs</code></h3><p>Example code updates:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span>image_mode</span><span style=color:#61676ccc>: </span><span>SpriteImageMode</span><span style=color:#ed9366>::</span><span>Scale(ScalingMode</span><span style=color:#ed9366>::</span><span>FillCenter)
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span>image_mode</span><span style=color:#61676ccc>: </span><span>SpriteImageMode</span><span style=color:#ed9366>::</span><span>Scale(SpriteScalingMode</span><span style=color:#ed9366>::</span><span>FillCenter)
</span></code></pre><h3 id=crates-bevy-sprite-src-lib-rs><code>crates/bevy_sprite/src/lib.rs</code></h3><p>Prelude export updates:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>pub use crate</span><span style=color:#ed9366>::</span><span>ScalingMode</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>pub use crate</span><span style=color:#ed9366>::</span><span>SpriteScalingMode</span><span style=color:#61676ccc>;
</span></code></pre><h3 id=release-content-migration-guides-rename-bevy-sprite-scalingmode-to-spritescalingmode-md><code>release-content/migration-guides/rename_bevy_sprite_ScalingMode_to_SpriteScalingMode.md</code></h3><p>New migration guide:<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span>In the previous release, both </span><span style=color:#ed9366;background-color:#61676c10>`bevy_sprite::sprite`</span><span> and </span><span style=color:#ed9366;background-color:#61676c10>`bevy_camera::projection`</span><span> defined an enum named </span><span style=color:#ed9366;background-color:#61676c10>`ScalingMode`</span><span>, in violation of our one-namespace rule.
</span><span>
</span><span>To resolve this, the </span><span style=color:#ed9366;background-color:#61676c10>`ScalingMode`</span><span> enum from </span><span style=color:#ed9366;background-color:#61676c10>`bevy::sprite`</span><span> has been renamed to </span><span style=color:#ed9366;background-color:#61676c10>`SpriteScalingMode`</span><span>.
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html target=_blank>Rust Module System</a><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/ target=_blank>Bevy Engine Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://en.wikipedia.org/wiki/Namespace target=_blank>Namespace Management in Large Codebases</a></ul><h1 id=full-code-diff>Full Code Diff</h1><p>[Full code diff provided in the original request]</div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-09/pr_21100.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>