<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #20915 Formatting Float Output for Improved Readability in Bevy Examples
        
    </title><meta content="#20915 Formatting Float Output for Improved Readability in Bevy Examples" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-09/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-09-07</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-09/pr-20915-zh-cn-20250907>中文</a></div></div><div class=pr-content><h1 id=title-formatting-float-output-for-improved-readability-in-bevy-examples>Title: Formatting Float Output for Improved Readability in Bevy Examples</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Limit float output in some examples to two decimal places.<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/20915<li><strong>Author</strong>: Breakdown-Dog<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, C-Examples, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-09-07T04:47:38Z<li><strong>Merged</strong>: 2025-09-07T05:44:46Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>Improve the readability of float output in the depth_of_field, post_processing, and tonemapping examples by limiting it to two decimal places<li>This makes the output cleaner and more consistent.</ul><h2 id=solution>Solution</h2><ul><li>Use Rust’s formatting syntax (e.g., {:.2}) to ensure floats are displayed with exactly two decimal places.<li>Apply this to all relevant print and debug output lines in these examples.</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a common UI readability issue in three of Bevy’s graphical examples. The problem was straightforward: floating-point values in the on-screen text displays were showing excessive decimal precision, creating visual clutter and making it difficult for users to quickly parse the numerical values.<p>The core issue stemmed from Rust’s default floating-point formatting behavior. When displaying f32 values using standard formatting, Rust shows as many decimal places as needed to represent the value precisely. In practical UI contexts, this often results in long strings of digits that don’t provide meaningful information to the user.<p>The solution implemented was both simple and effective: using Rust’s built-in float formatting syntax to limit output to two decimal places. This approach required minimal code changes while delivering significant improvements to readability. The developer used the <code>{:.2}</code> format specifier throughout the affected examples, which tells Rust’s formatting system to display floating-point numbers with exactly two digits after the decimal point.<p>From an engineering perspective, this change demonstrates good attention to user experience details. While the technical complexity is low, the impact on usability is substantial. Users interacting with these examples can now quickly scan and understand the numerical values without being distracted by unnecessary precision.<p>The implementation follows consistent patterns across all three examples, applying the same formatting approach to similar types of numerical displays. This consistency makes the codebase more maintainable and establishes a clear pattern for future similar improvements.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Float Formatting Improvement] --> B[depth_of_field example]
</span><span>    A --> C[post_processing example]
</span><span>    A --> D[tonemapping example]
</span><span>    
</span><span>    B --> E[Focal distance display]
</span><span>    B --> F[Aperture F-stops display]
</span><span>    B --> G[Sensor height display]
</span><span>    B --> H[Focal length display]
</span><span>    
</span><span>    C --> I[Chromatic aberration intensity]
</span><span>    
</span><span>    D --> J[Exposure value]
</span><span>    D --> K[Gamma value]
</span><span>    D --> L[PreSaturation value]
</span><span>    D --> M[PostSaturation value]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=examples-3d-depth-of-field-rs-4-4><code>examples/3d/depth_of_field.rs</code> (+4/-4)</h3><p>This file handles depth of field rendering effects. The changes improve the display of camera and lens parameters:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#86b300>"Focal distance: {} m (Press Up/Down to change)
</span><span style=color:#86b300>Aperture F-stops: f/{} (Press Left/Right to change)
</span><span style=color:#86b300>Sensor height: {}mm
</span><span style=color:#86b300>Focal length: {}mm
</span><span style=color:#86b300>
</span><span style=color:#86b300>// After:
</span><span style=color:#86b300>"</span><span>Focal distance</span><span style=color:#61676ccc>: </span><span>{</span><span style=color:#61676ccc>:</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>2</span><span>} m (Press Up</span><span style=color:#ed9366>/</span><span>Down to change)
</span><span>Aperture F</span><span style=color:#ed9366>-</span><span>stops</span><span style=color:#61676ccc>:</span><span> f</span><span style=color:#ed9366>/</span><span>{</span><span style=color:#61676ccc>:</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>2</span><span>} (Press Left</span><span style=color:#ed9366>/</span><span>Right to change)
</span><span>Sensor height</span><span style=color:#61676ccc>: </span><span>{</span><span style=color:#61676ccc>:</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>2</span><span>}mm
</span><span>Focal length</span><span style=color:#61676ccc>: </span><span>{</span><span style=color:#61676ccc>:</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>2</span><span>}mm
</span></code></pre><h3 id=examples-3d-post-processing-rs-1-1><code>examples/3d/post_processing.rs</code> (+1/-1)</h3><p>This file demonstrates post-processing effects. The change improves chromatic aberration intensity display:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#86b300>"Chromatic aberration intensity: {} (Press Left or Right to change)"
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#86b300>"Chromatic aberration intensity: {:.2} (Press Left or Right to change)"
</span></code></pre><h3 id=examples-3d-tonemapping-rs-4-4><code>examples/3d/tonemapping.rs</code> (+4/-4)</h3><p>This file handles tonemapping and color grading. The changes improve multiple parameter displays:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"Exposure: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> color_grading</span><span style=color:#ed9366>.</span><span>global</span><span style=color:#ed9366>.</span><span>exposure))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"Gamma: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> color_grading</span><span style=color:#ed9366>.</span><span>shadows</span><span style=color:#ed9366>.</span><span>gamma))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"PreSaturation: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> color_grading</span><span style=color:#ed9366>.</span><span>shadows</span><span style=color:#ed9366>.</span><span>saturation))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"PostSaturation: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> color_grading</span><span style=color:#ed9366>.</span><span>global</span><span style=color:#ed9366>.</span><span>post_saturation))</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"Exposure: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> color_grading</span><span style=color:#ed9366>.</span><span>global</span><span style=color:#ed9366>.</span><span>exposure))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"Gamma: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> color_grading</span><span style=color:#ed9366>.</span><span>shadows</span><span style=color:#ed9366>.</span><span>gamma))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"PreSaturation: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> color_grading</span><span style=color:#ed9366>.</span><span>shadows</span><span style=color:#ed9366>.</span><span>saturation))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"PostSaturation: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> color_grading</span><span style=color:#ed9366>.</span><span>global</span><span style=color:#ed9366>.</span><span>post_saturation))</span><span style=color:#61676ccc>;
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/std/fmt/index.html#syntax target=_blank>Rust Formatting Syntax Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/books/introduction/11-ui/ target=_blank>Bevy UI and Text Rendering</a><li><a rel="noopener nofollow noreferrer" href=https://learnopengl.com/Advanced-OpenGL/Anti-Aliasing target=_blank>Floating-Point Precision Considerations in Graphics</a></ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-09/pr_20915.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>