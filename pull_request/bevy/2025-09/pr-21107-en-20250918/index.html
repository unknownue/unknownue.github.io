<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21107 Add release note for infiinite children
        
    </title><meta content="#21107 Add release note for infiinite children" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-09/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-09-18</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-09/pr-21107-zh-cn-20250918>中文</a></div></div><div class=pr-content><h1 id=add-release-note-for-infiinite-children>Add release note for infiinite children</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Add release note for infiinite children<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21107<li><strong>Author</strong>: alice-i-cecile<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, A-ECS, S-Ready-For-Final-Review, X-Contentious<li><strong>Created</strong>: 2025-09-17T22:59:05Z<li><strong>Merged</strong>: 2025-09-18T00:35:31Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p>Fixes #21052.<p>The changes I thought needed to happen to <code>related!</code> were actually already made, so we’re good to go.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a documentation gap for a previously implemented feature that significantly improves Bevy’s entity spawning capabilities. The core issue was that the <code>children!</code> macro, introduced in Bevy 0.16, had an arbitrary limitation of only supporting 12 children due to Rust’s lack of variadic generics. This constraint proved problematic for users working with complex UI hierarchies or other entity structures requiring more children.<p>The technical solution involved rewriting the macro implementation to use recursive expansion patterns instead of relying on fixed-length tuples. This approach leverages Rust’s macro system to generate code recursively, effectively pushing the limit to approximately 1400 children - the practical boundary defined by Rust’s recursion limit rather than an arbitrary constraint.<p>While the actual implementation work was completed in PR #18865, this PR serves as the necessary documentation component, adding release notes to inform users about the enhanced capability. The same improvements were also applied to the <code>related!</code> macro, enabling users to spawn large numbers of related entities in a single call.<p>The engineering trade-off here is clear: while variadic generics would provide a more elegant solution, the recursive macro approach delivers practical functionality within Rust’s current language constraints. The implementation demonstrates effective use of Rust’s macro system to work around language limitations while maintaining API consistency.<p>From a performance perspective, spawning hundreds of entities via macro expansion remains efficient as the heavy lifting occurs at compile time rather than runtime. The macro generates the equivalent code that would be written manually, ensuring no runtime overhead compared to alternative approaches.<p>This change significantly improves developer experience by eliminating the need for workarounds when working with large entity hierarchies. Users can now leverage the convenience macros for most practical use cases without hitting artificial limits.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph LR
</span><span>    A[children! Macro] --> B[Recursive Expansion]
</span><span>    B --> C[Entity Spawning]
</span><span>    A --> D[related! Macro]
</span><span>    D --> B
</span><span>    C --> E[Up to 1400 Children]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>File</strong>: <code>release-content/release-notes/infinite-children.md</code><p>This file was created to document the removal of the 12-child limit from the <code>children!</code> and <code>related!</code> macros. The release note explains the previous limitation, the new capability, and provides context about the technical constraints.<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#abb0b6;background-color:#61676c10;font-weight:700>---
</span><span>title: Infinite Children
</span><span>authors: ["@CorvusPrudens"]
</span><span>pull_requests: [18865]
</span><span style=color:#fa6e32;font-weight:700>---
</span><span>
</span><span>The </span><span style=color:#ed9366;background-color:#61676c10>`children!`</span><span> macro is a convenient way to spawn children alongside their parents in Bevy code.
</span><span>When it was introduced in </span><span style=color:#f07171;font-weight:700>**Bevy 0.16**</span><span> this was limited to 12 children, due to arbitrary limitations (Rust: please [support variadic generics!](</span><span style=color:#4cbf99;font-style:italic;text-decoration:underline>https://blog.rust-lang.org/inside-rust/2025/09/11/program-management-update-2025-08/#variadic-generics</span><span>)), and not implementing the requisite workarounds.
</span><span>When working with large UI hierarchies, this could be a real nuisance, forcing users to resort to ugly workarounds.
</span><span>
</span><span>We've rewritten the macro and lifted this unjust restriction. You are now only limited by Rust's recursion limit: around 1400 children at once.
</span><span>Rejoice!
</span><span>If you are manually spawning more than 1400 children in a single macro call, you should reconsider your strategy (such as using </span><span style=color:#ed9366;background-color:#61676c10>`SpawnIter`</span><span> or </span><span style=color:#ed9366;background-color:#61676c10>`SpawnWith`</span><span>).
</span><span>
</span><span>We've made the same change to the </span><span style=color:#ed9366;background-color:#61676c10>`related!`</span><span> macro, allowing you to spawn huge numbers of related entities in a single call.
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://danielkeep.github.io/tlborm/book/ target=_blank>Rust Macros: The Complete Guide</a> - Comprehensive resource on Rust macro system<li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/advanced-topics/entity-relationships/ target=_blank>Bevy ECS Guide: Entity Relationships</a> - Official documentation on entity relationships in Bevy<li><a rel="noopener nofollow noreferrer" href=https://github.com/rust-lang/rfcs/issues/376 target=_blank>Variadic Generics RFC Discussion</a> - Ongoing discussion about variadic generics in Rust<li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/pull/18865 target=_blank>PR #18865</a> - The original implementation that removed the child limit</ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-09/pr_21107.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>