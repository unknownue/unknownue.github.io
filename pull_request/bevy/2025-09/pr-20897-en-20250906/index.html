<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #20897 Limit bloom_3d float output to two decimal places.
        
    </title><meta content="#20897 Limit bloom_3d float output to two decimal places." property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-09/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-09-06</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-09/pr-20897-zh-cn-20250906>中文</a></div></div><div class=pr-content><h1 id=limit-bloom-3d-float-output-to-two-decimal-places>Limit bloom_3d float output to two decimal places</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Limit bloom_3d float output to two decimal places.<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/20897<li><strong>Author</strong>: Breakdown-Dog<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, A-Rendering, C-Examples, S-Ready-For-Final-Review, M-Deliberate-Rendering-Change<li><strong>Created</strong>: 2025-09-06T04:22:23Z<li><strong>Merged</strong>: 2025-09-06T05:00:48Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p>Objective Improve the readability of the float output in the bloom_3d example by formatting it to two decimal places. This makes the output cleaner and more consistent.<p>Solution Used Rust’s formatting syntax (e.g., {:.2}) to ensure floats are displayed with exactly two decimal places. Applied this to all relevant print or debug output lines in the bloom_3d example.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The bloom_3d example in Bevy’s 3D rendering examples demonstrates various bloom effect parameters that users can adjust in real-time. As developers interact with this example, they see numeric values for intensity, frequency, threshold, and other bloom parameters displayed on screen. The original implementation showed these floating-point values with full precision, which created visual clutter and made it difficult to quickly parse the current values.<p>The problem was straightforward: excessive decimal precision in the UI display reduced readability without providing meaningful additional information. For a real-time settings display where users need to quickly understand current values while adjusting parameters, two decimal places provide sufficient precision while maintaining clean visual presentation.<p>The solution implemented Rust’s built-in float formatting capabilities using the <code>{:.2}</code> syntax. This approach required minimal code changes while delivering immediate readability improvements. The developer applied consistent formatting across all seven bloom parameter displays, ensuring uniform presentation:<ul><li>Bloom intensity<li>Low-frequency boost<li>Low-frequency boost curvature<li>High-pass frequency<li>Threshold<li>Threshold softness<li>Horizontal scale</ul><p>The changes maintain full precision in the actual bloom calculations while only affecting the display formatting. This ensures no functional impact on the bloom rendering itself while significantly improving the user experience of the example.<p>From an engineering perspective, this change demonstrates good practice in UI formatting for technical displays. When presenting numeric values to users, especially in real-time debugging or configuration contexts, limiting precision to what’s actually meaningful improves usability without sacrificing functionality.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[bloom_3d Example] --> B[UI Text Display]
</span><span>    B --> C[Float Parameter Values]
</span><span>    C --> D[Formatting Applied]
</span><span>    D --> E[Two Decimal Places]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>File: examples/3d/bloom_3d.rs</strong><p>Changes: Modified the text formatting for bloom parameter displays to show two decimal places instead of full precision.<p><strong>Code Changes:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(Q/A) Intensity: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>intensity))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(W/S) Low-frequency boost: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>low_frequency_boost))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(E/D) Low-frequency boost curvature: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>low_frequency_boost_curvature))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(R/F) High-pass frequency: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>high_pass_frequency))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(Y/H) Threshold: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>prefilter</span><span style=color:#ed9366>.</span><span>threshold))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(U/J) Threshold softness: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>prefilter</span><span style=color:#ed9366>.</span><span>threshold_softness))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(I/K) Horizontal Scale: </span><span style=color:#ff8f40>{}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>scale</span><span style=color:#ed9366>.</span><span>x))</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(Q/A) Intensity: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>intensity))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(W/S) Low-frequency boost: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>low_frequency_boost))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(E/D) Low-frequency boost curvature: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>low_frequency_boost_curvature))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(R/F) High-pass frequency: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>high_pass_frequency))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(Y/H) Threshold: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>prefilter</span><span style=color:#ed9366>.</span><span>threshold))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(U/J) Threshold softness: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>prefilter</span><span style=color:#ed9366>.</span><span>threshold_softness))</span><span style=color:#61676ccc>;
</span><span>text</span><span style=color:#ed9366>.</span><span style=color:#f07171>push_str</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"(I/K) Horizontal Scale: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> bloom</span><span style=color:#ed9366>.</span><span>scale</span><span style=color:#ed9366>.</span><span>x))</span><span style=color:#61676ccc>;
</span></code></pre><p>The changes apply consistent two-decimal-place formatting to all floating-point parameter displays in the bloom example’s UI text.<h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/std/fmt/ target=_blank>Rust Formatting Syntax Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/blob/main/examples/3d/bloom_3d.rs target=_blank>Bevy Bloom Example</a><li><a rel="noopener nofollow noreferrer" href=https://www.nngroup.com/articles/numbers-and-values/ target=_blank>Floating-Point Precision in UI Design</a></ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-09/pr_20897.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>