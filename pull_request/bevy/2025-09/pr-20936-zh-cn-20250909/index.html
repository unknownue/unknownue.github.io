<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #20936 Hide some full paths in doc links
        
    </title><meta content="#20936 Hide some full paths in doc links" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-09/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-09-09</span><div class=language-switcher><a class=lang-link data-lang=en href=/pull_request/bevy/2025-09/pr-20936-en-20250909>English</a> / <span class="lang-link active" data-lang=zh-cn>中文</span></div></div><div class=pr-content><h1 id=hide-some-full-paths-in-doc-links>Hide some full paths in doc links</h1><h2 id=ji-ben-xin-xi>基本信息</h2><ul><li><strong>标题</strong>: Hide some full paths in doc links<li><strong>PR链接</strong>: https://github.com/bevyengine/bevy/pull/20936<li><strong>作者</strong>: ickshonpe<li><strong>状态</strong>: 已合并<li><strong>标签</strong>: C-Docs, D-Trivial, S-Ready-For-Final-Review<li><strong>创建时间</strong>: 2025-09-08T21:46:44Z<li><strong>合并时间</strong>: 2025-09-08T22:39:35Z<li><strong>合并者</strong>: mockersf</ul><h2 id=miao-shu-fan-yi>描述翻译</h2><p>清理更多的文档链接。<h2 id=zhe-ge-pull-requestde-gu-shi>这个Pull Request的故事</h2><p>这个PR是一个典型的文档改进任务，专注于提升Rust文档的可读性和用户体验。在Rust的文档注释中，使用Markdown链接语法可以创建到其他项的链接，但默认显示完整的路径可能会影响文档的整洁性。<p>问题的核心在于：当使用<code>[crate::some_module::SomeType]</code>这样的语法时，生成的文档会显示完整的模块路径，这对于阅读文档的开发者来说可能显得冗长且不必要。Rust提供了另一种语法<code>[SomeType](crate::some_module::SomeType)</code>，可以在保持链接功能的同时只显示类型名称本身。<p>这个PR的作者ickshonpe系统地检查了代码库，找到了多个可以使用这种优化的地方。改动涉及六个不同的文件，每个修改都是将完整的路径显示转换为更简洁的显示方式。<p>以<code>bevy_animation/src/animation_curves.rs</code>中的修改为例：<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前:
</span><span style=color:#abb0b6;font-style:italic>/// A low-level trait for use in [`crate::VariableCurve`] that provides fine
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后:
</span><span style=color:#abb0b6;font-style:italic>/// A low-level trait for use in [`VariableCurve`](`crate::VariableCurve`) that provides fine
</span></code></pre><p>这种修改虽然看似简单，但对文档的可读性有实际提升。开发者阅读文档时，看到的是简洁的<code>VariableCurve</code>而不是冗长的<code>crate::VariableCurve</code>，但同时仍然能够通过点击链接跳转到相应的定义。<p>类似的修改也出现在其他文件中：<p>在<code>bevy_animation/src/graph.rs</code>中：<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前:
</span><span style=color:#abb0b6;font-style:italic>/// [`crate::animation_curves::AnimationCurveEvaluator`] uses a stack for
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后:
</span><span style=color:#abb0b6;font-style:italic>/// [`AnimationCurveEvaluator`](`crate::animation_curves::AnimationCurveEvaluator`) uses a stack for
</span></code></pre><p>在<code>bevy_asset/src/io/web.rs</code>中：<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前:
</span><span style=color:#abb0b6;font-style:italic>/// See [`crate::io::get_meta_path`]
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后:
</span><span style=color:#abb0b6;font-style:italic>/// See [`io::get_meta_path`](`crate::io::get_meta_path`)
</span></code></pre><p>这些修改体现了对细节的关注和对文档质量的重视。虽然每个单独的修改都很小，但累积起来能够显著提升代码库的文档质量。<p>从工程角度看，这种类型的改进有几个好处：<ol><li>提升开发者体验：更简洁的文档更易于阅读和理解<li>保持一致性：统一的文档风格使代码库更专业<li>无功能影响：纯粹的文档改进不会引入任何运行时风险</ol><p>这个PR的快速合并（不到一小时）也反映了团队对文档质量的重视程度，以及这类改进在开源项目中的价值。<h2 id=guan-jian-wen-jian-geng-gai>关键文件更改</h2><p>列出本PR中更改的最重要文件：<ul><li><code>crates/bevy_animation/src/animation_curves.rs</code> (+2/-2)<li><code>crates/bevy_animation/src/graph.rs</code> (+1/-1)<li><code>crates/bevy_asset/src/io/web.rs</code> (+1/-1)<li><code>crates/bevy_color/src/color_ops.rs</code> (+1/-1)<li><code>crates/bevy_picking/src/lib.rs</code> (+1/-1)<li><code>crates/bevy_picking/src/pointer.rs</code> (+1/-1)</ul><p>对于每个重要文件，包括：<ol><li>更改内容及原因的简要说明<li>显示关键修改的代码片段<li>这些更改如何与PR的整体目的相关</ol><h3 id=crates-bevy-animation-src-animation-curves-rs><code>crates/bevy_animation/src/animation_curves.rs</code></h3><p><strong>更改说明</strong>: 将两个文档链接从完整路径显示改为简洁显示<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前:
</span><span style=color:#abb0b6;font-style:italic>/// A low-level trait for use in [`crate::VariableCurve`] that provides fine
</span><span style=color:#abb0b6;font-style:italic>/// evaluating the [`crate::graph::AnimationGraph`], while the blend register
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后:
</span><span style=color:#abb0b6;font-style:italic>/// A low-level trait for use in [`VariableCurve`](`crate::VariableCurve`) that provides fine
</span><span style=color:#abb0b6;font-style:italic>/// evaluating the [`AnimationGraph`](`crate::graph::AnimationGraph`), while the blend register
</span></code></pre><h3 id=crates-bevy-animation-src-graph-rs><code>crates/bevy_animation/src/graph.rs</code></h3><p><strong>更改说明</strong>: 优化动画曲线评估器的文档链接显示<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前:
</span><span style=color:#abb0b6;font-style:italic>/// [`crate::animation_curves::AnimationCurveEvaluator`] uses a stack for
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后:
</span><span style=color:#abb0b6;font-style:italic>/// [`AnimationCurveEvaluator`](`crate::animation_curves::AnimationCurveEvaluator`) uses a stack for
</span></code></pre><h3 id=crates-bevy-asset-src-io-web-rs><code>crates/bevy_asset/src/io/web.rs</code></h3><p><strong>更改说明</strong>: 改进元数据路径获取函数的文档链接<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前:
</span><span style=color:#abb0b6;font-style:italic>/// See [`crate::io::get_meta_path`]
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后:
</span><span style=color:#abb0b6;font-style:italic>/// See [`io::get_meta_path`](`crate::io::get_meta_path`)
</span></code></pre><h3 id=crates-bevy-color-src-color-ops-rs><code>crates/bevy_color/src/color_ops.rs</code></h3><p><strong>更改说明</strong>: 优化颜色空间操作的文档链接<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前:
</span><span style=color:#abb0b6;font-style:italic>/// the operations are performed in [`crate::Hsla`].
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后:
</span><span style=color:#abb0b6;font-style:italic>/// the operations are performed in [`Hsla`](`crate::Hsla`).
</span></code></pre><h3 id=crates-bevy-picking-src-lib-rs><code>crates/bevy_picking/src/lib.rs</code></h3><p><strong>更改说明</strong>: 改进拾取后端指针命中的文档链接<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前:
</span><span style=color:#abb0b6;font-style:italic>/// into a [`crate::backend::PointerHits`]
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后:
</span><span style=color:#abb0b6;font-style:italic>/// into a [`PointerHits`](`crate::backend::PointerHits`)
</span></code></pre><h3 id=crates-bevy-picking-src-pointer-rs><code>crates/bevy_picking/src/pointer.rs</code></h3><p><strong>更改说明</strong>: 优化输入模块的文档链接显示<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 修改前:
</span><span style=color:#abb0b6;font-style:italic>/// and touch input is provided under [`crate::input`], but you can also implement
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 修改后:
</span><span style=color:#abb0b6;font-style:italic>/// and touch input is provided under [`input`](`crate::input`), but you can also implement
</span></code></pre><h2 id=jin-yi-bu-yue-du>进一步阅读</h2><p>建议想要了解更多相关概念、技术或模式的读者参考以下资源：<ol><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/rustdoc/how-to-write-documentation.html target=_blank>Rust文档注释指南</a><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/rustdoc/linking-to-items-by-name.html target=_blank>Rustdoc链接语法</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/blob/main/CONTRIBUTING.md#documenting-code target=_blank>Bevy引擎文档标准</a></ol><h1 id=wan-zheng-dai-ma-chai-yi>完整代码差异</h1><pre style=color:#61676c;background-color:#fafafa><code><span>diff --git a/crates/bevy_animation/src/animation_curves.rs b/crates/bevy_animation/src/animation_curves.rs
</span><span>index 0e1d5866df41b..ba77ec4b5ec56 100644
</span><span>--- a/crates/bevy_animation/src/animation_curves.rs
</span><span>+++ b/crates/bevy_animation/src/animation_curves.rs
</span><span>@@ -817,7 +817,7 @@ pub enum EvaluatorId<'a> {
</span><span>     Type(TypeId),
</span><span> }
</span><span> 
</span><span>-/// A low-level trait for use in [`crate::VariableCurve`] that provides fine
</span><span>+/// A low-level trait for use in [`VariableCurve`](`crate::VariableCurve`) that provides fine
</span><span> /// control over how animations are evaluated.
</span><span> ///
</span><span> /// You can implement this trait when the generic [`AnimatableCurveEvaluator`]
</span><span>@@ -834,7 +834,7 @@ pub enum EvaluatorId<'a> {
</span><span> /// either a (value, weight) pair or empty. *Value* here refers to an instance
</span><span> /// of the value being animated: for example, [`Vec3`] in the case of
</span><span> /// translation keyframes.  The stack stores intermediate values generated while
</span><span>-/// evaluating the [`crate::graph::AnimationGraph`], while the blend register
</span><span>+/// evaluating the [`AnimationGraph`](`crate::graph::AnimationGraph`), while the blend register
</span><span> /// stores the result of a blend operation.
</span><span> ///
</span><span> /// [`Vec3`]: bevy_math::Vec3
</span><span>diff --git a/crates/bevy_animation/src/graph.rs b/crates/bevy_animation/src/graph.rs
</span><span>index adb4a7c7ac541..916e11b9056da 100644
</span><span>--- a/crates/bevy_animation/src/graph.rs
</span><span>+++ b/crates/bevy_animation/src/graph.rs
</span><span>@@ -299,7 +299,7 @@ pub struct ThreadedAnimationGraph {
</span><span>     ///
</span><span>     /// The node indices here are stored in postorder. Siblings are stored in
</span><span>     /// descending order. This is because the
</span><span>-    /// [`crate::animation_curves::AnimationCurveEvaluator`] uses a stack for
</span><span>+    /// [`AnimationCurveEvaluator`](`crate::animation_curves::AnimationCurveEvaluator`) uses a stack for
</span><span>     /// evaluation. Consider this graph:
</span><span>     ///
</span><span>     /// ```text
</span><span>diff --git a/crates/bevy_asset/src/io/web.rs b/crates/bevy_asset/src/io/web.rs
</span><span>index b0b297126bce6..50a261c8ce959 100644
</span><span>--- a/crates/bevy_asset/src/io/web.rs
</span><span>+++ b/crates/bevy_asset/src/io/web.rs
</span><span>@@ -104,7 +104,7 @@ impl WebAssetReader {
</span><span>         PathBuf::from(prefix).join(path)
</span><span>     }
</span><span> 
</span><span>-    /// See [`crate::io::get_meta_path`]
</span><span>+    /// See [`io::get_meta_path`](`crate::io::get_meta_path`)
</span><span>     fn make_meta_uri(&self, path: &Path) -> PathBuf {
</span><span>         let meta_path = crate::io::get_meta_path(path);
</span><span>         self.make_uri(&meta_path)
</span><span>diff --git a/crates/bevy_color/src/color_ops.rs b/crates/bevy_color/src/color_ops.rs
</span><span>index a3266ba2d6911..5229a8d70bb98 100644
</span><span>--- a/crates/bevy_color/src/color_ops.rs
</span><span>+++ b/crates/bevy_color/src/color_ops.rs
</span><span>@@ -112,7 +112,7 @@ pub trait Hue: Sized {
</span><span> /// Trait for manipulating the saturation of a color.
</span><span> ///
</span><span> /// When working with color spaces that do not have native saturation components
</span><span>-/// the operations are performed in [`crate::Hsla`].
</span><span>+/// the operations are performed in [`Hsla`](`crate::Hsla`).
</span><span> pub trait Saturation: Sized {
</span><span>     /// Return a new version of this color with the saturation channel set to the given value.
</span><span>     fn with_saturation(&self, saturation: f32) -> Self;
</span><span>diff --git a/crates/bevy_picking/src/lib.rs b/crates/bevy_picking/src/lib.rs
</span><span>index 266c0971822f9..58d2e96410329 100644
</span><span>--- a/crates/bevy_picking/src/lib.rs
</span><span>+++ b/crates/bevy_picking/src/lib.rs
</span><span>@@ -283,7 +283,7 @@ pub type PickSet = PickingSystems;
</span><span> /// and the [`InteractionPlugin`], this is probably the plugin that will be most used.
</span><span> ///
</span><span> /// Note: for any of these plugins to work, they require a picking backend to be active,
</span><span>-/// The picking backend is responsible to turn an input, into a [`crate::backend::PointerHits`]
</span><span>+/// The picking backend is responsible to turn an input, into a [`PointerHits`](`crate::backend::PointerHits`)
</span><span> /// that [`PickingPlugin`] and [`InteractionPlugin`] will refine into [`bevy_ecs::observer::On`]s.
</span><span> #[derive(Default)]
</span><span> pub struct DefaultPickingPlugins;
</span><span>diff --git a/crates/bevy_picking/src/pointer.rs b/crates/bevy_picking/src/pointer.rs
</span><span>index 86af877362270..efbcb1c4260a6 100644
</span><span>--- a/crates/bevy_picking/src/pointer.rs
</span><span>+++ b/crates/bevy_picking/src/pointer.rs
</span><span>@@ -2,7 +2,7 @@
</span><span> //!
</span><span> //! The picking system is built around the concept of a 'Pointer', which is an
</span><span> //! abstract representation of a user input with a specific screen location. The cursor
</span><span>-//! and touch input is provided under [`crate::input`], but you can also implement
</span><span>+//! and touch input is provided under [`input`](`crate::input`), but you can also implement
</span><span> //! your own custom pointers by supplying a unique ID.
</span><span> //!
</span><span> //! The purpose of this module is primarily to provide a common interface that can be
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-09/pr_20936.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>