<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #20836 Add coloured text to the ui testbed example's text module
        
    </title><meta content="#20836 Add coloured text to the ui testbed example's text module" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-09/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-09-02</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-09/pr-20836-zh-cn-20250902>中文</a></div></div><div class=pr-content><h1 id=add-coloured-text-to-the-ui-testbed-example-s-text-module>Add coloured text to the ui testbed example’s text module</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Add coloured text to the ui testbed example’s text module<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/20836<li><strong>Author</strong>: ickshonpe<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, C-Examples, A-UI, S-Ready-For-Final-Review, C-Testing, A-Text, M-Deliberate-Rendering-Change<li><strong>Created</strong>: 2025-09-02T19:21:04Z<li><strong>Merged</strong>: 2025-09-02T20:13:13Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>Add some coloured text to the UI testbed example.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The UI testbed example in Bevy serves as a demonstration platform for various UI components and features. While it already included basic text rendering capabilities, it lacked examples showing how to use colored text - a common UI requirement.<p>The developer identified this gap and implemented a straightforward enhancement to demonstrate text coloring capabilities. The solution involved adding a new text element with multiple colored spans, showing how different colors can be applied to individual text segments within a single UI element.<p>The implementation follows Bevy’s established patterns for UI construction. It uses the existing <code>TextSpan</code> component structure with <code>TextColor</code> and <code>TextBackgroundColor</code> components to control text and background colors. The approach demonstrates proper use of Bevy’s color system by importing from <code>bevy::color::palettes::css::*</code> to access predefined color constants.<p>This enhancement provides immediate value to developers exploring Bevy’s UI capabilities by showing:<ul><li>How to use multiple colors within a single text element<li>Proper import patterns for accessing color constants<li>The relationship between text spans and color components<li>How to combine text colors with background colors</ul><p>The changes are minimal and focused, adding only what’s necessary to demonstrate the feature without disrupting the existing example structure. This follows the principle of keeping examples clear and focused on specific capabilities.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[UI Testbed Example] --> B[Text Module]
</span><span>    B --> C[Existing Text Example]
</span><span>    B --> D[New Colored Text Example]
</span><span>    D --> E[TextSpan with Red Color]
</span><span>    D --> F[TextSpan with Green Color]
</span><span>    D --> G[TextSpan with Blue Color]
</span><span>    D --> H[TextSpan with Black Color and White Background]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><ul><li><code>examples/testbed/ui.rs</code> (+29/-1)</ul><p>The main change adds a new colored text demonstration to the UI testbed’s text module:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: examples/testbed/ui.rs
</span><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>mod </span><span style=color:#399ee6>text </span><span>{
</span><span>    </span><span style=color:#fa6e32>use </span><span>bevy</span><span style=color:#ed9366>::</span><span>prelude</span><span style=color:#ed9366>::*</span><span style=color:#61676ccc>;
</span><span>
</span><span>    </span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>setup</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>commands</span><span style=color:#61676ccc>:</span><span> Commands, </span><span style=color:#ff8f40>asset_server</span><span style=color:#61676ccc>: </span><span>Res&LTAssetServer>) {
</span><span>        commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((Camera2d</span><span style=color:#61676ccc>,</span><span> DespawnOnExitState(</span><span style=color:#fa6e32>super</span><span style=color:#ed9366>::</span><span>Scene</span><span style=color:#ed9366>::</span><span>Text)))</span><span style=color:#61676ccc>;
</span><span>        commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>            Text</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"Hello World!"</span><span>)</span><span style=color:#61676ccc>,
</span><span>            TextFont {
</span><span>                font</span><span style=color:#61676ccc>:</span><span> asset_server</span><span style=color:#ed9366>.</span><span style=color:#f07171>load</span><span>(</span><span style=color:#86b300>"fonts/FiraSans-Bold.ttf"</span><span>)</span><span style=color:#61676ccc>,
</span><span>                </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>            }</span><span style=color:#61676ccc>,
</span><span>            DespawnOnExitState(</span><span style=color:#fa6e32>super</span><span style=color:#ed9366>::</span><span>Scene</span><span style=color:#ed9366>::</span><span>Text)</span><span style=color:#61676ccc>,
</span><span>        ))</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>mod </span><span style=color:#399ee6>text </span><span>{
</span><span>    </span><span style=color:#fa6e32>use </span><span>bevy</span><span style=color:#ed9366>::</span><span>{color</span><span style=color:#ed9366>::</span><span>palettes</span><span style=color:#ed9366>::</span><span>css</span><span style=color:#ed9366>::*</span><span style=color:#61676ccc>, </span><span>prelude</span><span style=color:#ed9366>::*</span><span>}</span><span style=color:#61676ccc>;
</span><span>
</span><span>    </span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>setup</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>commands</span><span style=color:#61676ccc>:</span><span> Commands, </span><span style=color:#ff8f40>asset_server</span><span style=color:#61676ccc>: </span><span>Res&LTAssetServer>) {
</span><span>        commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((Camera2d</span><span style=color:#61676ccc>,</span><span> DespawnOnExitState(</span><span style=color:#fa6e32>super</span><span style=color:#ed9366>::</span><span>Scene</span><span style=color:#ed9366>::</span><span>Text)))</span><span style=color:#61676ccc>;
</span><span>        commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>            Text</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"Hello World!"</span><span>)</span><span style=color:#61676ccc>,
</span><span>            TextFont {
</span><span>                font</span><span style=color:#61676ccc>:</span><span> asset_server</span><span style=color:#ed9366>.</span><span style=color:#f07171>load</span><span>(</span><span style=color:#86b300>"fonts/FiraSans-Bold.ttf"</span><span>)</span><span style=color:#61676ccc>,
</span><span>                </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>            }</span><span style=color:#61676ccc>,
</span><span>            DespawnOnExitState(</span><span style=color:#fa6e32>super</span><span style=color:#ed9366>::</span><span>Scene</span><span style=color:#ed9366>::</span><span>Text)</span><span style=color:#61676ccc>,
</span><span>        ))</span><span style=color:#61676ccc>;
</span><span>
</span><span>        commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>            Node {
</span><span>                left</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>100.</span><span>)</span><span style=color:#61676ccc>,
</span><span>                top</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>250.</span><span>)</span><span style=color:#61676ccc>,
</span><span>                </span><span style=color:#ed9366>..</span><span style=color:#55b4d4;font-style:italic>Default</span><span style=color:#ed9366>::</span><span>default()
</span><span>            }</span><span style=color:#61676ccc>,
</span><span>            Text</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"white "</span><span>)</span><span style=color:#61676ccc>,
</span><span>            TextFont {
</span><span>                font</span><span style=color:#61676ccc>:</span><span> asset_server</span><span style=color:#ed9366>.</span><span style=color:#f07171>load</span><span>(</span><span style=color:#86b300>"fonts/FiraSans-Bold.ttf"</span><span>)</span><span style=color:#61676ccc>,
</span><span>                </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>            }</span><span style=color:#61676ccc>,
</span><span>            DespawnOnExitState(</span><span style=color:#fa6e32>super</span><span style=color:#ed9366>::</span><span>Scene</span><span style=color:#ed9366>::</span><span>Text)</span><span style=color:#61676ccc>,
</span><span>            </span><span style=color:#f07171>children!</span><span>[
</span><span>                (TextSpan</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"red "</span><span>)</span><span style=color:#61676ccc>,</span><span> TextColor(</span><span style=color:#ff8f40>RED</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>())</span><span style=color:#61676ccc>,</span><span>)</span><span style=color:#61676ccc>,
</span><span>                (TextSpan</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"green "</span><span>)</span><span style=color:#61676ccc>,</span><span> TextColor(</span><span style=color:#ff8f40>GREEN</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>())</span><span style=color:#61676ccc>,</span><span>)</span><span style=color:#61676ccc>,
</span><span>                (TextSpan</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"blue "</span><span>)</span><span style=color:#61676ccc>,</span><span> TextColor(</span><span style=color:#ff8f40>BLUE</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>())</span><span style=color:#61676ccc>,</span><span>)</span><span style=color:#61676ccc>,
</span><span>                (
</span><span>                    TextSpan</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"black"</span><span>)</span><span style=color:#61676ccc>,
</span><span>                    TextColor(Color</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>BLACK</span><span>)</span><span style=color:#61676ccc>,
</span><span>                    TextFont {
</span><span>                        font</span><span style=color:#61676ccc>:</span><span> asset_server</span><span style=color:#ed9366>.</span><span style=color:#f07171>load</span><span>(</span><span style=color:#86b300>"fonts/FiraSans-Bold.ttf"</span><span>)</span><span style=color:#61676ccc>,
</span><span>                        </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>                    }</span><span style=color:#61676ccc>,
</span><span>                    TextBackgroundColor(Color</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>WHITE</span><span>)
</span><span>                )</span><span style=color:#61676ccc>,
</span><span>            ]</span><span style=color:#61676ccc>,
</span><span>        ))</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span></code></pre><p>The changes add:<ol><li>Import of CSS color palette constants<li>A new text node with multiple colored spans<li>Demonstration of both text color and background color properties<li>Proper positioning of the new text element</ol><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://bevy-cheatbook.github.io/ui.html target=_blank>Bevy UI Guide</a><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy/latest/bevy/text/index.html target=_blank>Bevy Text Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/news/bevy-0-13/#colorspaces-and-more-expressive-color-types target=_blank>Bevy Color Systems</a></ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-09/pr_20836.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>