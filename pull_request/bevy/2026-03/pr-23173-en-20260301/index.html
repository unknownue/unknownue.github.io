<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #23173 fix incorrect bevy version in generate_view_layouts deprecation
        
    </title><meta content="#23173 fix incorrect bevy version in generate_view_layouts deprecation" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-03/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-03-01</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-03/pr-23173-zh-cn-20260301>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>fix incorrect bevy version in generate_view_layouts deprecation<h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: fix incorrect bevy version in generate_view_layouts deprecation<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/23173<li><strong>Author</strong>: arovge<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: None<li><strong>Created</strong>: 2026-02-28T23:03:15Z<li><strong>Merged</strong>: 2026-02-28T23:57:41Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>PR https://github.com/bevyengine/bevy/pull/17714 was created in Feb 2025 with the intention that the deprecation warning would be introduced in Bevy 0.16.<p>The PR was recently merged but a comment for updating the deprecation version was never addressed: https://github.com/bevyengine/bevy/pull/17714#discussion_r2766404523.<h2 id=solution>Solution</h2><p>Adjust deprecation warning to use 0.19 instead of 0.16 as this change will be included in 0.19.<h2 id=testing>Testing</h2><p>CI<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a straightforward but important issue with version accuracy in deprecation warnings. The problem originated with PR #17714, which was initially created in February 2025 with the intention of introducing a deprecation warning for the <code>generate_view_layouts</code> function in Bevy 0.16. However, that PR took significantly longer to merge than anticipated - it was only recently merged, well after Bevy 0.16 had been released.<p>During the review of PR #17714, a comment was made asking to update the deprecation version, but this task was never completed before the PR was merged. As a result, the codebase ended up with an incorrect deprecation notice that claimed the function was deprecated in version 0.16.0, when in reality this deprecation would only take effect in version 0.19.0.<p>The solution is technically simple but has important implications for user experience. The PR changes a single line in the <code>#[deprecated]</code> attribute, updating the <code>since</code> parameter from “0.16.0” to “0.19.0”. This ensures that when users see the deprecation warning in their builds, they receive accurate information about which version introduced the deprecation.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before the fix:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.16.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Use `layout_entries` instead"</span><span>)]
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After the fix:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.19.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Use `layout_entries` instead"</span><span>)]
</span></code></pre><p>Accurate version information in deprecation warnings is crucial for several reasons. First, it helps users understand when they need to start migrating their code. If they’re using an older version of Bevy, they need to know whether a deprecation applies to their current version or only to future versions. Second, it maintains the project’s credibility - incorrect version information can confuse users and erode trust in the project’s documentation.<p>The technical approach here demonstrates good practice in maintaining deprecation notices. When a feature is marked for deprecation, the <code>since</code> field should always reflect the actual version where the deprecation was introduced, not the version where it was initially planned to be introduced. This becomes especially important in large projects like Bevy where PRs can take significant time to review, test, and merge.<p>The impact of this change is primarily about communication accuracy rather than functional behavior. The <code>generate_view_layouts</code> function remains deprecated in favor of <code>layout_entries</code>, but now users will see the correct version information. This helps prevent confusion for developers who might be checking if they need to update their code based on the version they’re currently using.<p>This PR also highlights an important aspect of open source maintenance: following up on review comments. The original PR #17714 had a review comment specifically asking for this version update, but it was overlooked. This serves as a reminder for both contributors and maintainers to ensure all review feedback is addressed before merging, or to create follow-up issues for any outstanding items.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[PR #17714 created in Feb 2025] --> B[Marked for Bevy 0.16 deprecation]
</span><span>    B --> C[PR merged much later]
</span><span>    C --> D[Deprecation version incorrect: 0.16.0]
</span><span>    D --> E[PR #23173 created]
</span><span>    E --> F[Version corrected to 0.19.0]
</span><span>    F --> G[Accurate deprecation warnings]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>File:</strong> <code>crates/bevy_pbr/src/render/mesh_view_bindings.rs</code> (+1/-1)<p>This file contains the <code>generate_view_layouts</code> function that was deprecated in PR #17714. The change corrects the version number in the deprecation attribute to reflect when the deprecation will actually be released.<p><strong>Change details:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.16.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Use `layout_entries` instead"</span><span>)]
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.19.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Use `layout_entries` instead"</span><span>)]
</span></code></pre><p>The function <code>generate_view_layouts</code> generates all possible view layouts for the mesh pipeline based on combinations of <code>MeshPipelineViewLayoutKey</code> flags. It was deprecated in favor of the <code>layout_entries</code> method, which presumably provides a more efficient or flexible approach. The single-character change from ‘6’ to ‘9’ in the version string ensures that the deprecation warning displays the correct Bevy version.<h2 id=further-reading>Further Reading</h2><ol><li><p><strong>Rust Deprecation Attributes</strong>: The official Rust documentation on the <code>#[deprecated]</code> attribute provides details on how to properly mark items as deprecated: https://doc.rust-lang.org/reference/attributes/diagnostics.html#the-deprecated-attribute</p><li><p><strong>Bevy’s Deprecation Policy</strong>: Understanding how Bevy handles API stability and deprecations can help contributors write better deprecation notices: https://bevyengine.org/learn/book/getting-started/contributing/#api-stability</p><li><p><strong>Semantic Versioning</strong>: The Semantic Versioning specification explains how version numbers should be structured and what they communicate about API changes: https://semver.org/</p><li><p><strong>PR #17714</strong>: The original PR that introduced the deprecation, providing context for why <code>generate_view_layouts</code> was deprecated in favor of <code>layout_entries</code>: https://github.com/bevyengine/bevy/pull/17714</p></ol><h1 id=full-code-diff>Full Code Diff</h1><pre style=color:#61676c;background-color:#fafafa><code><span>diff --git a/crates/bevy_pbr/src/render/mesh_view_bindings.rs b/crates/bevy_pbr/src/render/mesh_view_bindings.rs
</span><span>index b91fbf17e566f..ed747b028efb0 100644
</span><span>--- a/crates/bevy_pbr/src/render/mesh_view_bindings.rs
</span><span>+++ b/crates/bevy_pbr/src/render/mesh_view_bindings.rs
</span><span>@@ -544,7 +544,7 @@ impl MeshPipelineViewLayouts {
</span><span> 
</span><span> /// Generates all possible view layouts for the mesh pipeline, based on all combinations of
</span><span> /// [`MeshPipelineViewLayoutKey`] flags.
</span><span>-#[deprecated(since = "0.16.0", note = "Use `layout_entries` instead")]
</span><span>+#[deprecated(since = "0.19.0", note = "Use `layout_entries` instead")]
</span><span> pub fn generate_view_layouts(
</span><span>     render_device: &RenderDevice,
</span><span>     render_adapter: &RenderAdapter,
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-03/pr_23173.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>