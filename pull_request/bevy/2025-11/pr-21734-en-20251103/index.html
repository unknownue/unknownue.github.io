<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21734 Fix gizmos_render feature typo
        
    </title><meta content="#21734 Fix gizmos_render feature typo" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-11/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-11-03</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-11/pr-21734-zh-cn-20251103>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Fix gizmos_render feature typo<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21734<li><strong>Author</strong>: dloukadakis<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Bug, D-Trivial, S-Ready-For-Final-Review, A-Gizmos<li><strong>Created</strong>: 2025-11-03T17:21:40Z<li><strong>Merged</strong>: 2025-11-03T18:08:56Z<li><strong>Merged By</strong>: mockersf</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>Fix gizmos_render feature typo<h2 id=solution>Solution</h2><p>Use bevy_gizmos_render instead of bevy_gizmos feature<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This pull request addresses a straightforward but important configuration issue in the Bevy engine’s feature system. The problem was a feature flag typo that affected conditional compilation of the <code>gizmos_render</code> module.<p>The issue occurred in the <code>bevy_internal</code> crate’s main library file, where the conditional compilation attribute for the <code>gizmos_render</code> module was incorrectly checking for the wrong feature flag. Instead of looking for the <code>bevy_gizmos_render</code> feature, it was checking for the <code>bevy_gizmos</code> feature. This meant that the <code>gizmos_render</code> module would only be compiled when the <code>bevy_gizmos</code> feature was enabled, rather than when the specific <code>bevy_gizmos_render</code> feature was enabled.<p>In Rust’s feature system, this kind of misconfiguration can lead to several problems. The most immediate issue is that the <code>gizmos_render</code> module might not be available when it should be, or conversely, it might be included when it shouldn’t be. This breaks the expected behavior of feature-based conditional compilation and can cause compilation errors or unexpected runtime behavior.<p>The fix is simple but important: change the feature flag from <code>bevy_gizmos</code> to <code>bevy_gizmos_render</code> in the conditional compilation attribute. This ensures that the <code>gizmos_render</code> module is only compiled when the correct feature is explicitly enabled by users.<p>This type of bug is common in large codebases with complex feature flag systems. While the change itself is minimal, it demonstrates the importance of careful feature flag management in Rust projects. Feature flags control which parts of the codebase are compiled, and incorrect flags can lead to broken builds, missing functionality, or unintended dependencies.<p>The fix was quickly reviewed and merged, indicating that it was clearly correct and addressed a known issue. The labeling with “C-Bug” and “D-Trivial” accurately reflects the nature of the change - it’s a bug fix that’s simple to implement but important for maintaining correct build behavior.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph LR
</span><span>    A[bevy_gizmos feature] --> B[gizmos module]
</span><span>    C[bevy_gizmos_render feature] --> D[gizmos_render module]
</span><span>    
</span><span>    style C fill:#9f9
</span><span>    style D fill:#9f9
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-internal-src-lib-rs-1-1><code>crates/bevy_internal/src/lib.rs</code> (+1/-1)</h3><p>This file contains the main library definitions for the Bevy engine, including feature-gated module exports. The change fixes a feature flag mismatch that was preventing the correct conditional compilation of the <code>gizmos_render</code> module.<p><strong>Code Change:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: crates/bevy_internal/src/lib.rs
</span><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(feature </span><span style=color:#ed9366>= </span><span style=color:#86b300>"bevy_gizmos"</span><span>)]
</span><span style=color:#fa6e32>pub use</span><span> bevy_gizmos_render </span><span style=color:#ed9366>as</span><span> gizmos_render</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(feature </span><span style=color:#ed9366>= </span><span style=color:#86b300>"bevy_gizmos_render"</span><span>)]
</span><span style=color:#fa6e32>pub use</span><span> bevy_gizmos_render </span><span style=color:#ed9366>as</span><span> gizmos_render</span><span style=color:#61676ccc>;
</span></code></pre><p>The change ensures that the <code>gizmos_render</code> module is only compiled and exported when the <code>bevy_gizmos_render</code> feature is enabled, rather than when the unrelated <code>bevy_gizmos</code> feature is enabled.<h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/reference/conditional-compilation.html target=_blank>Rust Conditional Compilation Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/cargo/reference/features.html target=_blank>Cargo Features Guide</a><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/ target=_blank>Bevy Engine Documentation</a></ul><h1 id=full-code-diff>Full Code Diff</h1><p>diff –git a/crates/bevy_internal/src/lib.rs b/crates/bevy_internal/src/lib.rs index e034b1688df7c..d1dab307fa7b6 100644 — a/crates/bevy_internal/src/lib.rs +++ b/crates/bevy_internal/src/lib.rs @@ -45,7 +45,7 @@ pub use bevy_feathers as feathers; pub use bevy_gilrs as gilrs; #[cfg(feature = “bevy_gizmos”)] pub use bevy_gizmos as gizmos; -#[cfg(feature = “bevy_gizmos”)] +#[cfg(feature = “bevy_gizmos_render”)] pub use bevy_gizmos_render as gizmos_render; #[cfg(feature = “bevy_gltf”)] pub use bevy_gltf as gltf;</div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-11/pr_21734.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>