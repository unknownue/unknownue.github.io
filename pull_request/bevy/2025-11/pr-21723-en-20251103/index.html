<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21723 remove deprecated APIs in 0.17
        
    </title><meta content="#21723 remove deprecated APIs in 0.17" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-11/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-11-03</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-11/pr-21723-zh-cn-20251103>中文</a></div></div><div class=pr-content><h1 id=remove-deprecated-apis-in-0-17>remove deprecated APIs in 0.17</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: remove deprecated APIs in 0.17<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21723<li><strong>Author</strong>: re0312<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, C-Code-Quality, S-Ready-For-Final-Review, A-Cross-Cutting<li><strong>Created</strong>: 2025-11-03T03:30:02Z<li><strong>Merged</strong>: 2025-11-03T19:26:50Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>removes all APIs that were marked as deprecated in 0.17,</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses the routine but important task of cleaning up deprecated APIs from the Bevy codebase. When Bevy 0.17 introduced breaking changes, many APIs were marked with deprecation warnings to give users time to migrate. Now that the transition period has passed, these deprecated APIs need to be removed to reduce code complexity, eliminate potential confusion, and prevent users from relying on outdated patterns.<p>The approach taken is straightforward: systematically remove all types, functions, methods, and macros that were marked as deprecated in version 0.17. This is a mechanical but essential maintenance task that follows semantic versioning principles - breaking changes are allowed in major versions, and deprecated APIs should be removed in subsequent releases.<p>Looking at the implementation, the changes span multiple areas of the codebase, reflecting the scope of the 0.17 API changes:<p><strong>Event System Migration</strong>: The most significant change involves the transition from “events” to “messages” terminology. In Bevy 0.17, the event system was renamed to message system to better reflect its purpose and avoid confusion with observer-based events. This PR removes all the deprecated event-related aliases:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before (deprecated):
</span><span style=color:#fa6e32>pub type </span><span style=color:#399ee6>EventCursor</span><span style=color:#ed9366><</span><span>E</span><span style=color:#ed9366>> = </span><span style=color:#fa6e32>crate</span><span style=color:#ed9366>::</span><span>message</span><span style=color:#ed9366>::</span><span>MessageCursor&LTE></span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>pub type </span><span style=color:#399ee6>EventReader</span><span style=color:#ed9366><</span><span style=color:#fa6e32>'w</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>'s</span><span style=color:#61676ccc>,</span><span> E</span><span style=color:#ed9366>> = </span><span style=color:#fa6e32>crate</span><span style=color:#ed9366>::</span><span>message</span><span style=color:#ed9366>::</span><span>MessageReader<</span><span style=color:#fa6e32>'w</span><span>, </span><span style=color:#fa6e32>'s</span><span>, E></span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>pub type </span><span style=color:#399ee6>EventWriter</span><span style=color:#ed9366><</span><span style=color:#fa6e32>'w</span><span style=color:#61676ccc>,</span><span> E</span><span style=color:#ed9366>> = </span><span style=color:#fa6e32>crate</span><span style=color:#ed9366>::</span><span>message</span><span style=color:#ed9366>::</span><span>MessageWriter<</span><span style=color:#fa6e32>'w</span><span>, E></span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (removed):
</span><span style=color:#abb0b6;font-style:italic>// Only MessageCursor, MessageReader, MessageWriter remain
</span></code></pre><p><strong>API Method Renaming</strong>: Many methods were renamed for consistency and clarity. The old names were kept as deprecated aliases in 0.17, and now they’re being removed:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before (deprecated):
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>send_event</span><span>&LTE</span><span style=color:#61676ccc>:</span><span> Message>(</span><span style=color:#ff8f40>event</span><span style=color:#61676ccc>:</span><span> E) </span><span style=color:#61676ccc>-></span><span> impl Command {
</span><span>    </span><span style=color:#f07171>write_message</span><span>(event)
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (removed):
</span><span style=color:#abb0b6;font-style:italic>// Only write_message remains
</span></code></pre><p><strong>System Set Naming</strong>: System sets were renamed from singular to plural forms for grammatical consistency:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before (deprecated):
</span><span style=color:#fa6e32>pub type </span><span style=color:#399ee6>CameraUpdateSystem </span><span style=color:#ed9366>=</span><span> CameraUpdateSystems</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (removed):
</span><span style=color:#abb0b6;font-style:italic>// Only CameraUpdateSystems remains
</span></code></pre><p><strong>Lifecycle Event Updates</strong>: The lifecycle event system was simplified by removing the “On” prefix from event types:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before (deprecated):
</span><span style=color:#fa6e32>pub type </span><span style=color:#399ee6>OnAdd </span><span style=color:#ed9366>=</span><span> Add</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>pub type </span><span style=color:#399ee6>OnInsert </span><span style=color:#ed9366>=</span><span> Insert</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>pub type </span><span style=color:#399ee6>OnReplace </span><span style=color:#ed9366>=</span><span> Replace</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (removed):
</span><span style=color:#abb0b6;font-style:italic>// Only Add, Insert, Replace remain
</span></code></pre><p>The technical insights from this cleanup are clear: maintaining a clean API surface is crucial for long-term code health. Deprecated APIs create maintenance burden, increase documentation complexity, and can confuse new users. By removing them, the codebase becomes more focused and easier to understand.<p>The impact of these changes is primarily on users who haven’t yet migrated from the 0.17 deprecated APIs. Their code will break, but this is expected and documented in the migration guide. For the Bevy team, this reduces the testing surface and makes future development easier by eliminating legacy code paths.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TB
</span><span>    A[Deprecated APIs] --> B[Event System Cleanup]
</span><span>    A --> C[Method Renaming Cleanup]
</span><span>    A --> D[System Set Naming Cleanup]
</span><span>    A --> E[Lifecycle Event Cleanup]
</span><span>    
</span><span>    B --> F[Message System Types]
</span><span>    C --> G[Consistent Method Names]
</span><span>    D --> H[Plural System Sets]
</span><span>    E --> I[Simplified Lifecycle Events]
</span><span>    
</span><span>    F --> J[Cleaner API Surface]
</span><span>    G --> J
</span><span>    H --> J
</span><span>    I --> J
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-ecs-src-system-function-system-rs-0-53><code>crates/bevy_ecs/src/system/function_system.rs</code> (+0/-53)</h3><p>This file removed deprecated methods from <code>SystemState</code> that were made obsolete by API simplifications. The methods were either redundant or their functionality was consolidated into other methods.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Removed deprecated methods:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.17.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"No longer has any effect. Calls may be removed."</span><span>)]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>update_archetypes</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>_world</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span>World) {}
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.17.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Call `SystemState::get` instead."</span><span>)]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>get_manual</span><span><</span><span style=color:#fa6e32>'w</span><span>, </span><span style=color:#fa6e32>'s</span><span>>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'s mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>world</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'w</span><span> World) </span><span style=color:#61676ccc>-> </span><span>SystemParamItem<</span><span style=color:#fa6e32>'w</span><span>, </span><span style=color:#fa6e32>'s</span><span>, Param>
</span></code></pre><h3 id=crates-bevy-time-src-timer-rs-1-50><code>crates/bevy_time/src/timer.rs</code> (+1/-50)</h3><p>Removed deprecated methods from the <code>Timer</code> struct that were renamed for consistency with Rust naming conventions.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before (deprecated):
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.17.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Use `is_finished` instead"</span><span>)]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>finished</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>finished
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (removed):
</span><span style=color:#abb0b6;font-style:italic>// Only is_finished() remains
</span></code></pre><h3 id=crates-bevy-ecs-src-lifecycle-rs-0-50><code>crates/bevy_ecs/src/lifecycle.rs</code> (+0/-50)</h3><p>Cleaned up lifecycle event type aliases and method names that were simplified in 0.17.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Removed deprecated type aliases:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.17.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Renamed to `Add`."</span><span>)]
</span><span style=color:#fa6e32>pub type </span><span style=color:#399ee6>OnAdd </span><span style=color:#ed9366>=</span><span> Add</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.17.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Renamed to `RemovedComponentMessages`."</span><span>)]
</span><span style=color:#fa6e32>pub type </span><span style=color:#399ee6>RemovedComponentEvents </span><span style=color:#ed9366>=</span><span> RemovedComponentMessages</span><span style=color:#61676ccc>;
</span></code></pre><h3 id=crates-bevy-ecs-src-schedule-condition-rs-0-41><code>crates/bevy_ecs/src/schedule/condition.rs</code> (+0/-41)</h3><p>Removed deprecated condition functions that were renamed as part of the event-to-message migration.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Removed deprecated function:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.17.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Use `on_message` instead."</span><span>)]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>on_event</span><span>&LTT</span><span style=color:#61676ccc>:</span><span> Message>(</span><span style=color:#ff8f40>reader</span><span style=color:#61676ccc>: </span><span>MessageReader&LTT>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#f07171>on_message</span><span>(reader)
</span><span>}
</span></code></pre><h3 id=crates-bevy-ecs-src-world-deferred-world-rs-0-36><code>crates/bevy_ecs/src/world/deferred_world.rs</code> (+0/-36)</h3><p>Removed deprecated event-sending methods that were renamed to use the new message terminology.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Removed deprecated methods:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>deprecated</span><span>(since </span><span style=color:#ed9366>= </span><span style=color:#86b300>"0.17.0"</span><span style=color:#61676ccc>,</span><span> note </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Use `DeferredWorld::write_message` instead."</span><span>)]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>send_event</span><span>&LTE</span><span style=color:#61676ccc>:</span><span> Message>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>event</span><span style=color:#61676ccc>:</span><span> E) </span><span style=color:#61676ccc>-> </span><span style=color:#55b4d4;font-style:italic>Option</span><span>&LTMessageId&LTE>> {
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>write_message</span><span>(event)
</span><span>}
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/news/bevy-0-17/ target=_blank>Bevy 0.17 Release Notes</a> - Details the original deprecations and migration path<li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/migration-guides/ target=_blank>Bevy Migration Guide</a> - Comprehensive guide for updating code between versions<li><a rel="noopener nofollow noreferrer" href=https://semver.org/ target=_blank>Semantic Versioning</a> - Understanding how version numbers communicate API stability<li><a rel="noopener nofollow noreferrer" href=https://rust-lang.github.io/api-guidelines/ target=_blank>Rust API Guidelines</a> - Best practices for Rust API design and deprecation</ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-11/pr_21723.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>