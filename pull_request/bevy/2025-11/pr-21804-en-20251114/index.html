<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21804 Remove `viewport_debug` from web examples
        
    </title><meta content="#21804 Remove `viewport_debug` from web examples" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-11/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-11-14</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-11/pr-21804-zh-cn-20251114>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Remove <code>viewport_debug</code> from web examples<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21804<li><strong>Author</strong>: ickshonpe<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Bug, D-Trivial, C-Examples, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-11-10T22:40:11Z<li><strong>Merged</strong>: 2025-11-14T00:09:41Z<li><strong>Merged By</strong>: mockersf</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>Fixes #21803<h2 id=solution>Solution</h2><p>Set <code>wasm = false</code> for the example.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This pull request addresses a straightforward but important configuration issue in the Bevy engine’s example system. The problem was that the <code>viewport_debug</code> example was incorrectly configured to be available for WebAssembly (WASM) builds when it shouldn’t have been.<p>The issue originated from the example’s metadata configuration in Cargo.toml. Bevy uses a custom metadata system to organize and categorize examples, with the <code>wasm</code> flag controlling whether an example should be included in web builds. When this flag is set to <code>true</code>, the example becomes available for WASM compilation and can be run in web browsers.<p>The problem manifested as issue #21803, though the exact symptoms aren’t detailed in the PR description. Typically, when an example isn’t properly configured for web deployment, it can cause build failures, runtime errors, or unexpected behavior when users try to run the example in a web environment.<p>The solution implemented by ickshonpe was minimal and surgical: changing a single configuration flag from <code>wasm = true</code> to <code>wasm = false</code>. This change effectively removes the <code>viewport_debug</code> example from the set of examples available for web compilation while preserving its availability for native builds.<p>This type of configuration fix is common in cross-platform game engines like Bevy, where different examples may have varying levels of web compatibility. Some examples might rely on platform-specific features, system APIs, or performance characteristics that aren’t available or don’t work well in web environments.<p>The implementation follows Bevy’s established pattern for example configuration. Each example in the Bevy codebase has metadata that controls its behavior across different platforms, and the <code>wasm</code> flag is a standard part of this configuration system.<p>From an engineering perspective, this change demonstrates the importance of proper platform targeting in cross-platform development. Even though the fix was simple, it prevents potential issues for users trying to run this example in web environments and maintains the overall quality of the web example ecosystem.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Example Configuration] --> B[wasm = true]
</span><span>    A --> C[wasm = false]
</span><span>    B --> D[Available in Web Builds]
</span><span>    C --> E[Excluded from Web Builds]
</span><span>    D --> F[Potential Build/Runtime Issues]
</span><span>    E --> G[Clean Web Example Set]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p>The only file modified in this PR was the project’s Cargo.toml, specifically the metadata configuration for the <code>viewport_debug</code> example:<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># File: Cargo.toml
</span><span style=color:#abb0b6;font-style:italic># Before:
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"Viewport Debug"
</span><span style=color:#399ee6>description </span><span>= </span><span style=color:#86b300>"An example for debugging viewport coordinates"
</span><span style=color:#399ee6>category </span><span>= </span><span style=color:#86b300>"UI (User Interface)"
</span><span style=color:#399ee6>wasm </span><span>= </span><span style=color:#ff8f40>true
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"Viewport Debug"
</span><span style=color:#399ee6>description </span><span>= </span><span style=color:#86b300>"An example for debugging viewport coordinates"
</span><span style=color:#399ee6>category </span><span>= </span><span style=color:#86b300>"UI (User Interface)"
</span><span style=color:#399ee6>wasm </span><span>= </span><span style=color:#ff8f40>false
</span></code></pre><p>This change affects how the example is processed during build configuration. When <code>wasm = false</code>, the example is excluded from web compilation targets, preventing potential compatibility issues while maintaining its availability for native desktop builds.<h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/book/getting-started/examples/ target=_blank>Bevy Examples Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://rustwasm.github.io/docs/book/ target=_blank>Rust and WebAssembly Guide</a><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/cargo/reference/workspaces.html target=_blank>Cargo Workspace Configuration</a></ul><h1 id=full-code-diff>Full Code Diff</h1><p>diff –git a/Cargo.toml b/Cargo.toml index 55b5f4a459753..83fc686e331ed 100644 — a/Cargo.toml +++ b/Cargo.toml @@ -3801,7 +3801,7 @@ doc-scrape-examples = true name = “Viewport Debug” description = “An example for debugging viewport coordinates” category = “UI (User Interface)” -wasm = true +wasm = false<p>[[example]] name = “viewport_node”</div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-11/pr_21804.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>