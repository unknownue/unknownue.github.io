<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22151 `LayoutContext` doc comment fix
        
    </title><meta content="#22151 `LayoutContext` doc comment fix" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-12/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-12-16</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-12/pr-22151-zh-cn-20251216>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: <code>LayoutContext</code> doc comment fix<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22151<li><strong>Author</strong>: ickshonpe<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Docs, D-Trivial, A-UI, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-12-16T11:26:37Z<li><strong>Merged</strong>: 2025-12-16T20:39:19Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>“create a new”, not “create new a”.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a small but noticeable grammatical error in the Bevy UI module’s documentation. The issue was in a doc comment for the <code>LayoutContext::new</code> function, which had the phrase “create new a” instead of the correct grammatical form “create a new”. While this type of error doesn’t affect the code’s functionality, it does impact the readability and professionalism of the documentation.<p>In any software project, but particularly in a widely-used engine like Bevy, documentation quality matters. Developers reading the API documentation rely on clear, correct explanations to understand how to use the framework. Grammatical errors can create confusion or undermine confidence in the codebase’s quality. For new contributors, seeing well-maintained documentation sets a standard for attention to detail throughout the project.<p>The fix is straightforward: a one-line change to the doc comment. The developer corrected the word order and also fixed the capitalization of the first word (“Create” instead of “create”), bringing it in line with standard Rust documentation conventions where doc comments typically start with a capital letter when they’re complete sentences.<p>This change demonstrates the value of careful code review, even for small documentation fixes. The error was in a const function’s doc comment in the UI layout module, which might not be the most frequently visited part of the codebase, but maintaining consistency across all documentation helps create a cohesive developer experience.<p>The technical implementation shows how Bevy’s UI system handles layout calculations. The <code>LayoutContext</code> struct stores a scale factor and physical size, which are essential for converting between logical and physical pixels in responsive UI layouts. While the fix doesn’t change any functional code, it ensures that developers reading the documentation for this context object receive clear, grammatically correct information about its purpose.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[LayoutContext Struct] --> B[new function]
</span><span>    B --> C[Doc Comment]
</span><span>    C --> D[Grammatical Fix]
</span><span>    D --> E[Improved Documentation]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><ul><li><code>crates/bevy_ui/src/layout/mod.rs</code> (+1/-1)</ul><p>This file contains the layout system implementation for Bevy’s UI framework. The only change is in the doc comment for the <code>LayoutContext::new</code> constructor function.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: crates/bevy_ui/src/layout/mod.rs
</span><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>/// create new a [`LayoutContext`] from the window's physical size and scale factor
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>/// Create a new [`LayoutContext`] from the window's physical size and scale factor
</span></code></pre><p>The change fixes the grammatical error in the documentation string and follows Rust convention by capitalizing the first word of the doc comment. The function itself remains unchanged, as this is purely a documentation improvement.<h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/rustdoc/how-to-write-documentation.html target=_blank>Rust Documentation Guidelines</a> - Official Rust documentation on writing effective doc comments<li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/quick-start/ui/ target=_blank>Bevy UI Documentation</a> - Bevy’s official UI tutorial and documentation<li><a rel="noopener nofollow noreferrer" href=https://rust-lang.github.io/api-guidelines/documentation.html target=_blank>Rust API Guidelines - Documentation</a> - Comprehensive guidelines for Rust documentation</ul><h1 id=full-code-diff>Full Code Diff</h1><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_ui/src/layout/mod.rs b/crates/bevy_ui/src/layout/mod.rs
</span><span>index 68b8c69dbd9e9..a3982ea2d5a4b 100644
</span><span style=color:#c594c5>--- a/crates/bevy_ui/src/layout/mod.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_ui/src/layout/mod.rs
</span><span style=color:#c594c5>@@ -37,7 +37,7 @@ </span><span style=color:#399ee6>impl LayoutContext {
</span><span>         scale_factor: 1.0,
</span><span>         physical_size: Vec2::ZERO,
</span><span>     };
</span><span style=color:#f07171>-    /// create new a [`LayoutContext`] from the window's physical size and scale factor
</span><span style=color:#86b300>+    /// Create a new [`LayoutContext`] from the window's physical size and scale factor
</span><span>     #[inline]
</span><span>     const fn new(scale_factor: f32, physical_size: Vec2) -> Self {
</span><span>         Self {
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-12/pr_22151.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>