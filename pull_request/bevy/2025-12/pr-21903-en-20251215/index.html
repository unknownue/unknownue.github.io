<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21903 `ComputedNode` box model helper functions
        
    </title><meta content="#21903 `ComputedNode` box model helper functions" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-12/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-12-15</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-12/pr-21903-zh-cn-20251215>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: <code>ComputedNode</code> box model helper functions<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/21903<li><strong>Author</strong>: ickshonpe<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: A-UI, S-Ready-For-Final-Review, D-Straightforward<li><strong>Created</strong>: 2025-11-21T15:43:02Z<li><strong>Merged</strong>: 2025-12-15T02:24:32Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>Add helper functions to <code>ComputedNode</code> that return the bounds of the node’s border, padding, and content areas.<h2 id=solution>Solution</h2><p>Add helper functions <code>border_box</code>, <code>padding_box</code>, and <code>content_box</code> to <code>ComputedNode</code>.<h1></h1><p>Included a release note. These changes are very trivial and don’t really need one, but I’ve got quite a few more less trivial changes to <code>ComputedNode</code> that I want to add later.<h2 id=testing>Testing</h2><p>This PR also includes a couple of trivial tests.<h1 id=the-story-of-this-pull-request>The Story of This Pull Request</h1><p>This pull request addresses a common usability issue when working with UI nodes in Bevy’s layout system. The <code>ComputedNode</code> struct, which represents the final computed layout properties of a UI node after all constraints and styles have been applied, previously lacked convenient methods for accessing the standard CSS box model regions.<p>When developers need to work with the various regions of a UI element - the full outer bounds (border box), the area inside the borders (padding box), or the innermost content area - they previously had to manually calculate these rectangles. This required understanding the node’s size, border properties, and padding properties, and then performing the appropriate arithmetic. While this calculation is straightforward, it’s repetitive and error-prone, especially when dealing with different sides of the box having different thicknesses.<p>The solution implemented in this PR is clean and minimal: add three helper methods to <code>ComputedNode</code> that return <code>Rect</code> values representing each box region. These methods follow standard CSS box model terminology and conventions:<ol><li><strong><code>border_box()</code></strong> returns the full rectangle enclosing the node, which is simply a rectangle centered at the origin (object-centered coordinates) with the node’s overall size.<li><strong><code>padding_box()</code></strong> returns the region inside the borders, calculated by subtracting the border thickness from each side of the border box.<li><strong><code>content_box()</code></strong> returns the innermost content region, calculated by subtracting both border and padding (via the existing <code>content_inset()</code> method) from the border box.</ol><p>All three methods are marked as <code>#[inline]</code>, which is appropriate since they’re simple calculations that will likely be called frequently in layout and rendering code. The inline hint suggests to the compiler that these functions are good candidates for inlining, potentially reducing function call overhead.<p>The implementation takes advantage of existing code structure - <code>content_box()</code> uses the existing <code>content_inset()</code> method, which already correctly calculates the total inset from borders and padding. This demonstrates good code reuse and maintains consistency with existing calculations.<p>The PR also includes unit tests for each new method, which is important even for “trivial” code. The tests verify the calculations are correct for various border and padding configurations. Interestingly, the tests reveal the coordinate system being used: object-centered coordinates where (0,0) is the center of the node. This is consistent with Bevy’s transform system but important to document for developers using these methods.<p>The author mentions that a release note is included despite the changes being trivial, noting that more significant changes to <code>ComputedNode</code> are planned for the future. This suggests this PR is part of a larger effort to improve the UI layout API, making it more ergonomic and complete. By starting with these simple helper functions, the foundation is laid for more complex layout operations that will need to work with these box regions.<p>From an architectural perspective, these helper methods improve the encapsulation of <code>ComputedNode</code>. Instead of exposing raw fields (size, border, padding) and requiring callers to understand how to combine them correctly, the struct now provides a clean interface for accessing computed geometric properties. This reduces cognitive load for developers and decreases the likelihood of calculation errors in client code.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[ComputedNode] --> B[border_box]
</span><span>    A --> C[padding_box]
</span><span>    A --> D[content_box]
</span><span>    
</span><span>    B --> E[Rect with node size]
</span><span>    C --> F[Rect minus border thickness]
</span><span>    D --> G[Rect minus content_inset]
</span><span>    
</span><span>    H[border] --> C
</span><span>    I[padding] --> D
</span><span>    J[size] --> B
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-ui-src-ui-node-rs-82-3><code>crates/bevy_ui/src/ui_node.rs</code> (+82/-3)</h3><p>This file contains the main implementation changes. Three new methods were added to the <code>ComputedNode</code> struct, and corresponding unit tests were added.<p>Key changes:<ol><li><strong>Added helper methods to ComputedNode</strong>:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>/// Returns the node's border-box in object-centered physical coordinates.
</span><span style=color:#abb0b6;font-style:italic>/// This is the full rectangle enclosing the node.
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>inline</span><span>]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>border_box</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-></span><span> Rect {
</span><span>    Rect</span><span style=color:#ed9366>::</span><span>from_center_size(Vec2</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>ZERO</span><span style=color:#61676ccc>, </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>size)
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// Returns the node's padding-box in object-centered physical coordinates.
</span><span style=color:#abb0b6;font-style:italic>/// This is the region inside the border containing the node's padding and content areas.
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>inline</span><span>]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>padding_box</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-></span><span> Rect {
</span><span>    </span><span style=color:#fa6e32>let mut</span><span> out </span><span style=color:#ed9366>= </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>border_box</span><span>()</span><span style=color:#61676ccc>;
</span><span>    out</span><span style=color:#ed9366>.</span><span>min</span><span style=color:#ed9366>.</span><span>x </span><span style=color:#ed9366>+= </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>border</span><span style=color:#ed9366>.</span><span>left</span><span style=color:#61676ccc>;
</span><span>    out</span><span style=color:#ed9366>.</span><span>max</span><span style=color:#ed9366>.</span><span>x </span><span style=color:#ed9366>-= </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>border</span><span style=color:#ed9366>.</span><span>right</span><span style=color:#61676ccc>;
</span><span>    out</span><span style=color:#ed9366>.</span><span>min</span><span style=color:#ed9366>.</span><span>y </span><span style=color:#ed9366>+= </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>border</span><span style=color:#ed9366>.</span><span>top</span><span style=color:#61676ccc>;
</span><span>    out</span><span style=color:#ed9366>.</span><span>max</span><span style=color:#ed9366>.</span><span>y </span><span style=color:#ed9366>-= </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>border</span><span style=color:#ed9366>.</span><span>bottom</span><span style=color:#61676ccc>;
</span><span>    out
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// Returns the node's content-box in object-centered physical coordinates.
</span><span style=color:#abb0b6;font-style:italic>/// This is the innermost region of the node, where its content is placed.
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>inline</span><span>]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>content_box</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-></span><span> Rect {
</span><span>    </span><span style=color:#fa6e32>let mut</span><span> out </span><span style=color:#ed9366>= </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>border_box</span><span>()</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>let</span><span> content_inset </span><span style=color:#ed9366>= </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>content_inset</span><span>()</span><span style=color:#61676ccc>;
</span><span>    out</span><span style=color:#ed9366>.</span><span>min</span><span style=color:#ed9366>.</span><span>x </span><span style=color:#ed9366>+=</span><span> content_inset</span><span style=color:#ed9366>.</span><span>left</span><span style=color:#61676ccc>;
</span><span>    out</span><span style=color:#ed9366>.</span><span>max</span><span style=color:#ed9366>.</span><span>x </span><span style=color:#ed9366>-=</span><span> content_inset</span><span style=color:#ed9366>.</span><span>right</span><span style=color:#61676ccc>;
</span><span>    out</span><span style=color:#ed9366>.</span><span>min</span><span style=color:#ed9366>.</span><span>y </span><span style=color:#ed9366>+=</span><span> content_inset</span><span style=color:#ed9366>.</span><span>top</span><span style=color:#61676ccc>;
</span><span>    out</span><span style=color:#ed9366>.</span><span>max</span><span style=color:#ed9366>.</span><span>y </span><span style=color:#ed9366>-=</span><span> content_inset</span><span style=color:#ed9366>.</span><span>bottom</span><span style=color:#61676ccc>;
</span><span>    out
</span><span>}
</span></code></pre><ol start=2><li><strong>Added unit tests</strong>:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>test</span><span>]
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>border_box_is_centered_rect_of_node_size</span><span>() {
</span><span>    </span><span style=color:#fa6e32>let</span><span> node </span><span style=color:#ed9366>=</span><span> ComputedNode {
</span><span>        size</span><span style=color:#61676ccc>: </span><span>Vec2</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>100.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>50.0</span><span>)</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#ed9366>..</span><span style=color:#55b4d4;font-style:italic>Default</span><span style=color:#ed9366>::</span><span>default()
</span><span>    }</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>let</span><span> border_box </span><span style=color:#ed9366>=</span><span> node</span><span style=color:#ed9366>.</span><span style=color:#f07171>border_box</span><span>()</span><span style=color:#61676ccc>;
</span><span>    
</span><span>    </span><span style=color:#f07171>assert_eq!</span><span>(border_box</span><span style=color:#ed9366>.</span><span>min</span><span style=color:#61676ccc>, </span><span>Vec2</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>50.0</span><span style=color:#61676ccc>, </span><span style=color:#ed9366>-</span><span style=color:#ff8f40>25.0</span><span>))</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#f07171>assert_eq!</span><span>(border_box</span><span style=color:#ed9366>.</span><span>max</span><span style=color:#61676ccc>, </span><span>Vec2</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>50.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>25.0</span><span>))</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>test</span><span>]
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>padding_box_subtracts_border_thickness</span><span>() {
</span><span>    </span><span style=color:#fa6e32>let</span><span> node </span><span style=color:#ed9366>=</span><span> ComputedNode {
</span><span>        size</span><span style=color:#61676ccc>: </span><span>Vec2</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>100.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>60.0</span><span>)</span><span style=color:#61676ccc>,
</span><span>        border</span><span style=color:#61676ccc>:</span><span> BorderRect {
</span><span>            left</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>5.0</span><span style=color:#61676ccc>,
</span><span>            right</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>7.0</span><span style=color:#61676ccc>,
</span><span>            top</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>3.0</span><span style=color:#61676ccc>,
</span><span>            bottom</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>9.0</span><span style=color:#61676ccc>,
</span><span>        }</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#ed9366>..</span><span style=color:#55b4d4;font-style:italic>Default</span><span style=color:#ed9366>::</span><span>default()
</span><span>    }</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>let</span><span> padding_box </span><span style=color:#ed9366>=</span><span> node</span><span style=color:#ed9366>.</span><span style=color:#f07171>padding_box</span><span>()</span><span style=color:#61676ccc>;
</span><span>    
</span><span>    </span><span style=color:#f07171>assert_eq!</span><span>(padding_box</span><span style=color:#ed9366>.</span><span>min</span><span style=color:#61676ccc>, </span><span>Vec2</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>50.0 </span><span style=color:#ed9366>+ </span><span style=color:#ff8f40>5.0</span><span style=color:#61676ccc>, </span><span style=color:#ed9366>-</span><span style=color:#ff8f40>30.0 </span><span style=color:#ed9366>+ </span><span style=color:#ff8f40>3.0</span><span>))</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#f07171>assert_eq!</span><span>(padding_box</span><span style=color:#ed9366>.</span><span>max</span><span style=color:#61676ccc>, </span><span>Vec2</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>50.0 </span><span style=color:#ed9366>- </span><span style=color:#ff8f40>7.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>30.0 </span><span style=color:#ed9366>- </span><span style=color:#ff8f40>9.0</span><span>))</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>test</span><span>]
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>content_box_uses_content_inset</span><span>() {
</span><span>    </span><span style=color:#fa6e32>let</span><span> node </span><span style=color:#ed9366>=</span><span> ComputedNode {
</span><span>        size</span><span style=color:#61676ccc>: </span><span>Vec2</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>80.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>40.0</span><span>)</span><span style=color:#61676ccc>,
</span><span>        padding</span><span style=color:#61676ccc>:</span><span> BorderRect {
</span><span>            left</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>4.0</span><span style=color:#61676ccc>,
</span><span>            right</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>6.0</span><span style=color:#61676ccc>,
</span><span>            top</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>2.0</span><span style=color:#61676ccc>,
</span><span>            bottom</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>8.0</span><span style=color:#61676ccc>,
</span><span>        }</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#ed9366>..</span><span style=color:#55b4d4;font-style:italic>Default</span><span style=color:#ed9366>::</span><span>default()
</span><span>    }</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>let</span><span> content_box </span><span style=color:#ed9366>=</span><span> node</span><span style=color:#ed9366>.</span><span style=color:#f07171>content_box</span><span>()</span><span style=color:#61676ccc>;
</span><span>    
</span><span>    </span><span style=color:#f07171>assert_eq!</span><span>(content_box</span><span style=color:#ed9366>.</span><span>min</span><span style=color:#61676ccc>, </span><span>Vec2</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>40.0 </span><span style=color:#ed9366>+ </span><span style=color:#ff8f40>4.0</span><span style=color:#61676ccc>, </span><span style=color:#ed9366>-</span><span style=color:#ff8f40>20.0 </span><span style=color:#ed9366>+ </span><span style=color:#ff8f40>2.0</span><span>))</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#f07171>assert_eq!</span><span>(content_box</span><span style=color:#ed9366>.</span><span>max</span><span style=color:#61676ccc>, </span><span>Vec2</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>40.0 </span><span style=color:#ed9366>- </span><span style=color:#ff8f40>6.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>20.0 </span><span style=color:#ed9366>- </span><span style=color:#ff8f40>8.0</span><span>))</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><h3 id=release-content-release-notes-computed-node-helper-functions-md-7-0><code>release-content/release-notes/computed_node_helper_functions.md</code> (+7/-0)</h3><p>A simple release note was added to document the new helper functions:<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#abb0b6;background-color:#61676c10;font-weight:700>---
</span><span>title: "</span><span style=color:#ed9366;background-color:#61676c10>`ComputedNode`</span><span> helper functions"
</span><span>authors: ["@ickshonpe"]
</span><span>pull_requests: [21903]
</span><span style=color:#fa6e32;font-weight:700>---
</span><span>
</span><span>Helper functions </span><span style=color:#ed9366;background-color:#61676c10>`border_box`</span><span>, </span><span style=color:#ed9366;background-color:#61676c10>`padding_box`</span><span>, and </span><span style=color:#ed9366;background-color:#61676c10>`content_box`</span><span> that return a node's object-centered border, padding, and content boxes have been added to </span><span style=color:#ed9366;background-color:#61676c10>`ComputedNode`</span><span>.
</span></code></pre><h2 id=further-reading>Further Reading</h2><ol><li><p><strong>CSS Box Model</strong>: The concepts of border-box, padding-box, and content-box originate from the CSS box model. Understanding this model is helpful when working with UI layout systems. <a rel="noopener nofollow noreferrer" href=https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Introduction_to_the_CSS_box_model target=_blank>MDN: CSS Box Model</a></p><li><p><strong>Bevy UI System</strong>: For more context on how <code>ComputedNode</code> fits into Bevy’s UI system, see the Bevy UI documentation and source code. These helper functions are part of making the UI layout system more ergonomic.</p><li><p><strong>Inlining in Rust</strong>: The use of <code>#[inline]</code> on these methods is a performance consideration. For small, frequently called functions, inlining can eliminate function call overhead. <a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/reference/attributes/codegen.html#the-inline-attribute target=_blank>Rust Reference: Inline Attributes</a></p><li><p><strong>Test-Driven Development</strong>: Even simple functions benefit from tests, as demonstrated in this PR. Tests ensure correctness and prevent regressions when the codebase evolves.</p></ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-12/pr_21903.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>