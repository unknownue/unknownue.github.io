<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22247 Virtual geometry 0.18 migration guide
        
    </title><meta content="#22247 Virtual geometry 0.18 migration guide" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-12/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-12-29</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-12/pr-22247-zh-cn-20251229>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Virtual geometry 0.18 migration guide<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22247<li><strong>Author</strong>: JMS55<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: A-Rendering, S-Ready-For-Final-Review, M-Migration-Guide<li><strong>Created</strong>: 2025-12-23T17:26:01Z<li><strong>Merged</strong>: 2025-12-29T04:51:30Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p>Closes #22170<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a straightforward but essential task in software development: providing migration guidance for breaking changes. The context is Bevy 0.18, which introduced changes to the virtual geometry system. Specifically, PR #21301 modified the underlying asset format for <code>MeshletMesh</code>. When a game engine like Bevy updates its data formats, existing assets created with the old format become incompatible. This breaks existing projects unless users know how to update their assets.<p>The solution implemented here is minimal and direct: create a migration guide. Migration guides are a standard practice in software maintenance, especially for game engines and frameworks where user projects depend on specific data formats. They serve as clear, actionable documentation that helps users transition between versions without confusion or data loss.<p>The implementation consists of creating a single Markdown file in the repository’s migration guide section. The file follows the established pattern for Bevy migration guides, using frontmatter to specify the title and the pull request that introduced the change. The guide’s content is concise, stating the core fact: the asset format changed and assets must be regenerated. This brevity is effective because it directly answers the user’s most critical question: “What do I need to do to make my project work again?”<p>From a technical perspective, this change highlights an important engineering practice. Breaking changes in data serialization formats are a common source of upgrade friction. By explicitly documenting the need to regenerate <code>MeshletMesh</code> assets, the guide prevents users from encountering cryptic errors when loading old assets. This is particularly important for <code>MeshletMesh</code>, which is part of Bevy’s meshlet-based rendering pipeline—a performance-oriented feature where incorrect asset data could lead to rendering artifacts or crashes.<p>The impact of this PR is purely on documentation and user experience. It doesn’t change any runtime code, but it significantly improves the upgrade process for developers using the virtual geometry features. The lesson here is that even small, non-code changes are crucial for maintaining a healthy ecosystem. Good documentation reduces support burden and helps users adopt new versions successfully.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    PR_21301[PR #21301: Changes MeshletMesh format] --> BC[Breaking Change]
</span><span>    BC --> Need[Migration Guide Needed]
</span><span>    Need --> PR_22247[PR #22247: Creates Migration Guide]
</span><span>    PR_22247 --> User[User Regenerates Assets]
</span><span>    User --> Success[Project Works in 0.18]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=release-content-migration-guides-virtual-geometry-md-6-0><code>release-content/migration-guides/virtual_geometry.md</code> (+6/-0)</h3><p>This is a new file created to document the migration required for the virtual geometry changes in Bevy 0.18. The file is a Markdown document with YAML frontmatter and a single line of content.<ol><li><p><strong>What changed and why</strong>: A new migration guide was added. The guide informs users that the asset format for virtual geometry (<code>MeshletMesh</code>) has changed and that they must regenerate these assets to use them with Bevy 0.18. This is necessary because PR #21301 introduced a breaking change to the format.</p><li><p><strong>Code snippet</strong>:</p></ol><pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#abb0b6;background-color:#61676c10;font-weight:700>---
</span><span>title: Virtual Geometry
</span><span>pull_requests: [21301]
</span><span style=color:#fa6e32;font-weight:700>---
</span><span>
</span><span>Virtual geometry's asset format has changed. You must regenerate </span><span style=color:#ed9366;background-color:#61676c10>`MeshletMesh`</span><span> assets.
</span></code></pre><ol start=3><li><strong>How it relates to the PR</strong>: This file is the entire content of the PR. It fulfills the requirement to document the migration steps for the breaking change introduced in PR #21301.</ol><h2 id=further-reading>Further Reading</h2><ol><li><strong>Bevy Migration Guides</strong>: The broader collection of migration guides in the Bevy repository provides context for how breaking changes are documented.<li><strong>Meshlets and Virtual Geometry</strong>: For technical details on the meshlet rendering system and why asset format changes might be necessary, refer to the Bevy documentation on meshlets and the original PR #21301.<li><strong>Semantic Versioning and Breaking Changes</strong>: Understanding semantic versioning (SemVer) helps explain why major version releases (like 0.17 to 0.18) can include breaking changes that require migration guides.</ol><h1 id=full-code-diff>Full Code Diff</h1><p>diff –git a/release-content/migration-guides/virtual_geometry.md b/release-content/migration-guides/virtual_geometry.md new file mode 100644 index 0000000000000..bdc873f66edbe — /dev/null +++ b/release-content/migration-guides/virtual_geometry.md @@ -0,0 +1,6 @@ +— +title: Virtual Geometry +pull_requests: [21301] +— + +Virtual geometry’s asset format has changed. You must regenerate <code>MeshletMesh</code> assets.</div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-12/pr_22247.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>