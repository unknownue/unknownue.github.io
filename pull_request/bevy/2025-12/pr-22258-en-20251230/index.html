<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22258 Add toggle function for virtual time
        
    </title><meta content="#22258 Add toggle function for virtual time" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-12/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-12-30</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-12/pr-22258-zh-cn-20251230>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Add toggle function for virtual time<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22258<li><strong>Author</strong>: GitGhillie<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Usability, S-Ready-For-Final-Review, A-Time<li><strong>Created</strong>: 2025-12-24T14:33:00Z<li><strong>Merged</strong>: 2025-12-30T01:23:41Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>I was looking at the diff of https://github.com/bevyengine/bevy/pull/22207 and noticed there is a bit of code duplication.<h2 id=solution>Solution</h2><p>Move the toggle functionality into a function, update the examples.<h2 id=testing>Testing</h2><ul><li>Tested by running the examples and toggling time.</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a straightforward but common pattern in time management: toggling between paused and unpaused states. The author was reviewing PR #22207 and noticed repeated code patterns where developers manually checked the paused state and then called either <code>pause()</code> or <code>unpause()</code>. This pattern appeared in multiple places, creating unnecessary duplication.<p>The solution is simple and practical: add a <code>toggle()</code> method to the <code>Time&LTVirtual></code> struct. This method uses a boolean XOR operation (<code>^= true</code>) to invert the paused state. The implementation is minimal - just one line of code - but it significantly improves API ergonomics by providing a single method call for the common toggle operation.<p>The developer updated the existing examples to use this new method. In both <code>examples/3d/solari.rs</code> and <code>examples/time/virtual_time.rs</code>, the manual toggle logic was replaced with a single call to <code>time.toggle()</code>. This reduces the code from 4-5 lines down to 1 line in each case, making the examples cleaner and demonstrating the proper use of the new API.<p>The documentation was also updated to reflect this new functionality. The Rustdoc comment for the <code>Time&LTVirtual></code> struct now mentions the <code>toggle()</code> method alongside <code>pause()</code> and <code>unpause()</code>, and the method itself has a clear documentation string explaining its behavior.<p>This change follows good API design principles. By providing a dedicated toggle method, the Bevy engine reduces boilerplate code for users and prevents potential bugs from incorrect manual implementations. The use of a bitwise XOR operation is an efficient way to toggle a boolean value, and the inline attribute ensures there’s no performance penalty for using this convenience method.<p>The impact is primarily on developer experience and code maintainability. Existing code continues to work unchanged, but developers can now opt into the cleaner toggle API. The examples serve as documentation for this new feature, showing best practices for time management in Bevy applications.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Time&amplt;Virtual&ampgt; struct] --> B[pause() method]
</span><span>    A --> C[unpause() method]
</span><span>    A --> D[toggle() method]
</span><span>    D --> E[Uses boolean XOR]
</span><span>    B --> F[Examples updated]
</span><span>    C --> F
</span><span>    D --> F
</span><span>    F --> G[solari.rs example]
</span><span>    F --> H[virtual_time.rs example]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-time-src-virt-rs-10-3><code>crates/bevy_time/src/virt.rs</code> (+10/-3)</h3><p>This is the main implementation file where the <code>toggle()</code> method was added to the <code>Time&LTVirtual></code> struct.<p><strong>Key changes:</strong><ol><li>Updated the struct documentation to mention the new <code>toggle()</code> method<li>Added the <code>toggle()</code> method implementation<li>Added documentation for the <code>unpause()</code> method</ol><p><strong>Code snippets:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: crates/bevy_time/src/virt.rs
</span><span style=color:#abb0b6;font-style:italic>// Before (documentation):
</span><span style=color:#abb0b6;font-style:italic>// The virtual clock can be paused by calling [`pause()`](Time::pause) and
</span><span style=color:#abb0b6;font-style:italic>// unpaused by calling [`unpause()`](Time::unpause). When the game clock is
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (documentation):
</span><span style=color:#abb0b6;font-style:italic>// The virtual clock can be paused by calling [`pause()`](Time::pause),
</span><span style=color:#abb0b6;font-style:italic>// unpaused by calling [`unpause()`](Time::unpause), or toggled by calling
</span><span style=color:#abb0b6;font-style:italic>// [`toggle()`](Time::toggle). When the game clock is
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// New method added:
</span><span style=color:#abb0b6;font-style:italic>/// Stops the clock if it is running, otherwise resumes the clock.
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>inline</span><span>]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>toggle</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>) {
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>context_mut</span><span>()</span><span style=color:#ed9366>.</span><span>paused </span><span style=color:#ed9366>^= </span><span style=color:#ff8f40>true</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Before (unpause documentation):
</span><span style=color:#abb0b6;font-style:italic>/// Resumes the clock if paused.
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (unpause documentation):
</span><span style=color:#abb0b6;font-style:italic>/// Resumes the clock.
</span></code></pre><h3 id=examples-3d-solari-rs-1-5><code>examples/3d/solari.rs</code> (+1/-5)</h3><p>This example demonstrates 3D rendering with ray tracing and includes time control functionality.<p><strong>Key change:</strong><ol><li>Replaced manual pause/unpause logic with a single <code>toggle()</code> call</ol><p><strong>Code snippets:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: examples/3d/solari.rs
</span><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>pause_scene</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>time</span><span style=color:#61676ccc>: </span><span>ResMut&LTTime&LTVirtual>>, </span><span style=color:#ff8f40>key_input</span><span style=color:#61676ccc>: </span><span>Res&LTButtonInput&LTKeyCode>>) {
</span><span>    </span><span style=color:#fa6e32>if</span><span> key_input</span><span style=color:#ed9366>.</span><span style=color:#f07171>just_pressed</span><span>(KeyCode</span><span style=color:#ed9366>::</span><span>Space) {
</span><span>        </span><span style=color:#fa6e32>if</span><span> time</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_paused</span><span>() {
</span><span>            time</span><span style=color:#ed9366>.</span><span style=color:#f07171>unpause</span><span>()</span><span style=color:#61676ccc>;
</span><span>        } </span><span style=color:#fa6e32>else </span><span>{
</span><span>            time</span><span style=color:#ed9366>.</span><span style=color:#f07171>pause</span><span>()</span><span style=color:#61676ccc>;
</span><span>        }
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>pause_scene</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>time</span><span style=color:#61676ccc>: </span><span>ResMut&LTTime&LTVirtual>>, </span><span style=color:#ff8f40>key_input</span><span style=color:#61676ccc>: </span><span>Res&LTButtonInput&LTKeyCode>>) {
</span><span>    </span><span style=color:#fa6e32>if</span><span> key_input</span><span style=color:#ed9366>.</span><span style=color:#f07171>just_pressed</span><span>(KeyCode</span><span style=color:#ed9366>::</span><span>Space) {
</span><span>        time</span><span style=color:#ed9366>.</span><span style=color:#f07171>toggle</span><span>()</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span></code></pre><h3 id=examples-time-virtual-time-rs-4-8><code>examples/time/virtual_time.rs</code> (+4/-8)</h3><p>This example specifically demonstrates virtual time functionality and serves as documentation for the time system.<p><strong>Key changes:</strong><ol><li>Replaced manual toggle logic with <code>toggle()</code> method<li>Updated control text from “Un/Pause” to “(Un)pause” for clarity<li>Fixed a comment punctuation issue</ol><p><strong>Code snippets:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: examples/time/virtual_time.rs
</span><span style=color:#abb0b6;font-style:italic>// Before (control text):
</span><span>Text</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"CONTROLS</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>Un/Pause: Space</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>Speed+: Up</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>Speed-: Down"</span><span>)</span><span style=color:#61676ccc>,
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (control text):
</span><span>Text</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"CONTROLS</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>(Un)pause: Space</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>Speed+: Up</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>Speed-: Down"</span><span>)</span><span style=color:#61676ccc>,
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Before (comment):
</span><span style=color:#abb0b6;font-style:italic>// update the texts on a timer to make them more readable
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (comment):
</span><span style=color:#abb0b6;font-style:italic>// update the texts on a timer to make them more readable.
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Before (toggle function):
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>toggle_pause</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>time</span><span style=color:#61676ccc>: </span><span>ResMut&LTTime&LTVirtual>>) {
</span><span>    </span><span style=color:#fa6e32>if</span><span> time</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_paused</span><span>() {
</span><span>        time</span><span style=color:#ed9366>.</span><span style=color:#f07171>unpause</span><span>()</span><span style=color:#61676ccc>;
</span><span>    } </span><span style=color:#fa6e32>else </span><span>{
</span><span>        time</span><span style=color:#ed9366>.</span><span style=color:#f07171>pause</span><span>()</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (toggle function):
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>toggle_pause</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>time</span><span style=color:#61676ccc>: </span><span>ResMut&LTTime&LTVirtual>>) {
</span><span>    time</span><span style=color:#ed9366>.</span><span style=color:#f07171>toggle</span><span>()</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><h2 id=further-reading>Further Reading</h2><ol><li><strong>Bevy Time System Documentation</strong>: For more information on Bevy’s time management, see the <a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_time/latest/bevy_time/ target=_blank>Bevy Time API documentation</a><li><strong>Bitwise Operations in Rust</strong>: The XOR operator (<code>^</code>) used in the toggle implementation is explained in the <a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/book/appendix-02-operators.html target=_blank>Rust Book chapter on operators</a><li><strong>API Design Principles</strong>: For background on API design patterns that motivated this change, see Joshua Bloch’s “Effective Java” (principles apply to API design in any language)<li><strong>Previous PR #22207</strong>: The PR that inspired this refactoring, which can provide context for the code duplication that was observed</ol><h1 id=full-code-diff>Full Code Diff</h1><pre style=color:#61676c;background-color:#fafafa><code><span>diff --git a/crates/bevy_time/src/virt.rs b/crates/bevy_time/src/virt.rs
</span><span>index 146c754891859..45fa4c23eb987 100644
</span><span>--- a/crates/bevy_time/src/virt.rs
</span><span>+++ b/crates/bevy_time/src/virt.rs
</span><span>@@ -20,8 +20,9 @@ use crate::{real::Real, time::Time};
</span><span> /// in order to prevent unexpected behavior in cases where updates do not happen
</span><span> /// at regular intervals (e.g. coming back after the program was suspended a long time).
</span><span> ///
</span><span>-/// The virtual clock can be paused by calling [`pause()`](Time::pause) and
</span><span>-/// unpaused by calling [`unpause()`](Time::unpause). When the game clock is
</span><span>+/// The virtual clock can be paused by calling [`pause()`](Time::pause),
</span><span>+/// unpaused by calling [`unpause()`](Time::unpause), or toggled by calling
</span><span>+/// [`toggle()`](Time::toggle). When the game clock is
</span><span> /// paused [`delta()`](Time::delta) will be zero on each update, and
</span><span> /// [`elapsed()`](Time::elapsed) will not grow.
</span><span> /// [`effective_speed()`](Time::effective_speed) will return `0.0`. Calling
</span><span>@@ -203,13 +204,19 @@ impl Time&LTVirtual> {
</span><span>         self.context_mut().relative_speed = ratio;
</span><span>     }
</span><span> 
</span><span>+    /// Stops the clock if it is running, otherwise resumes the clock.
</span><span>+    #[inline]
</span><span>+    pub fn toggle(&mut self) {
</span><span>+        self.context_mut().paused ^= true;
</span><span>+    }
</span><span>+
</span><span>     /// Stops the clock, preventing it from advancing until resumed.
</span><span>     #[inline]
</span><span>     pub fn pause(&mut self) {
</span><span>         self.context_mut().paused = true;
</span><span>     }
</span><span> 
</span><span>-    /// Resumes the clock if paused.
</span><span>+    /// Resumes the clock.
</span><span>     #[inline]
</span><span>     pub fn unpause(&mut self) {
</span><span>         self.context_mut().paused = false;
</span><span>diff --git a/examples/3d/solari.rs b/examples/3d/solari.rs
</span><span>index 6449b40d2bb66..0eb6aa0514abd 100644
</span><span>--- a/examples/3d/solari.rs
</span><span>+++ b/examples/3d/solari.rs
</span><span>@@ -224,11 +224,7 @@ fn add_raytracing_meshes_on_scene_load(
</span><span> 
</span><span> fn pause_scene(mut time: ResMut&LTTime&LTVirtual>>, key_input: Res&LTButtonInput&LTKeyCode>>) {
</span><span>     if key_input.just_pressed(KeyCode::Space) {
</span><span>-        if time.is_paused() {
</span><span>-            time.unpause();
</span><span>-        } else {
</span><span>-            time.pause();
</span><span>-        }
</span><span>+        time.toggle();
</span><span>     }
</span><span> }
</span><span> 
</span><span>diff --git a/examples/time/virtual_time.rs b/examples/time/virtual_time.rs
</span><span>index c9c6bd112b65a..55343cfe9ee5a 100644
</span><span>--- a/examples/time/virtual_time.rs
</span><span>+++ b/examples/time/virtual_time.rs
</span><span>@@ -21,7 +21,7 @@ fn main() {
</span><span>                 change_time_speed::&LT1>.run_if(input_just_pressed(KeyCode::ArrowUp)),
</span><span>                 change_time_speed::&LT-1>.run_if(input_just_pressed(KeyCode::ArrowDown)),
</span><span>                 (update_virtual_time_info_text, update_real_time_info_text)
</span><span>-                    // update the texts on a timer to make them more readable
</span><span>+                    // update the texts on a timer to make them more readable.
</span><span>                     // `on_timer` run condition uses `Virtual` time meaning it's scaled
</span><span>                     // and would result in the UI updating at different intervals based
</span><span>                     // on `Time&LTVirtual>::relative_speed` and `Time&LTVirtual>::is_paused()`
</span><span>@@ -96,7 +96,7 @@ fn setup(mut commands: Commands, asset_server: Res&LTAssetServer>, mut time: ResMu
</span><span>                 RealTime,
</span><span>             ),
</span><span>             (
</span><span>-                Text::new("CONTROLS\nUn/Pause: Space\nSpeed+: Up\nSpeed-: Down"),
</span><span>+                Text::new("CONTROLS\n(Un)pause: Space\nSpeed+: Up\nSpeed-: Down"),
</span><span>                 TextFont {
</span><span>                     font_size,
</span><span>                     ..default()
</span><span>@@ -163,13 +163,9 @@ fn change_time_speed&LTconst DELTA: i8>(mut time: ResMut&LTTime&LTVirtual>>) {
</span><span>     time.set_relative_speed(time_speed);
</span><span> }
</span><span> 
</span><span>-/// pause or resume `Relative` time
</span><span>+/// Pause or resume `Relative` time
</span><span> fn toggle_pause(mut time: ResMut&LTTime&LTVirtual>>) {
</span><span>-    if time.is_paused() {
</span><span>-        time.unpause();
</span><span>-    } else {
</span><span>-        time.pause();
</span><span>-    }
</span><span>+    time.toggle();
</span><span> }
</span><span> 
</span><span> /// Update the `Real` time info text
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-12/pr_22258.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>