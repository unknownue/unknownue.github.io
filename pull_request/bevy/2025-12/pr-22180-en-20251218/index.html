<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22180 Fix AABB in Mesh::take_gpu_data
        
    </title><meta content="#22180 Fix AABB in Mesh::take_gpu_data" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-12/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-12-18</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-12/pr-22180-zh-cn-20251218>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>Fix AABB in Mesh::take_gpu_data<h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Fix AABB in Mesh::take_gpu_data<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22180<li><strong>Author</strong>: oliver-dew<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Bug, S-Ready-For-Final-Review, A-Math, D-Straightforward<li><strong>Created</strong>: 2025-12-17T23:32:08Z<li><strong>Merged</strong>: 2025-12-18T19:10:03Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>Fixes #22169</ul><h2 id=solution>Solution</h2><ul><li><code>Mesh::take_gpu_data</code> was calling <code>Aabb3d::new</code> and passing it min and max, but the constructor expected center and half size. This caused a panic for meshes where the vertices are all negative on any of the axes. And also means the aabb is incorrect, maybe causing issues like incorrect frustum culling? This PR adds a new constructor <code>Aabb::from_min_max</code>. <code>Mesh::take_gpu_data</code> now calls <code>from_min_max</code>, fixing the AABB calculation bug.</ul><h2 id=testing>Testing</h2><ul><li>I hit this bug with a model where all the vertices were negative in one dimension (so the max is all negative, and when it was wrongly passed as the half size, fails the assertion that half size is >= 0). Confirmed that this change fixes the issue.<li>This PR adds a unit test mimicking the above scenario, that panics without the fix<li>How can other people (reviewers) test your changes? They could test it with a model whose max is less than zero in one dimension, or run the unit test<li>Tested on macOS</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a subtle but critical bug in Bevy’s mesh processing pipeline. The issue occurred in the <code>Mesh::take_gpu_data</code> method, which is responsible for preparing mesh data for GPU rendering. When this method computes the axis-aligned bounding box (AABB) for a mesh, it was incorrectly using the <code>Aabb3d::new</code> constructor.<p>The problem was a straightforward API misunderstanding. The <code>Aabb3d::new</code> constructor expects two parameters: <code>center</code> and <code>half_size</code>. However, the code in <code>Mesh::take_gpu_data</code> was passing <code>min</code> and <code>max</code> extents instead. This mismatch led to two distinct problems:<ol><li><p><strong>Incorrect AABB calculation</strong>: Since <code>min</code> and <code>max</code> were being interpreted as <code>center</code> and <code>half_size</code>, the resulting bounding box was mathematically wrong. This could cause issues like incorrect frustum culling, where objects might be incorrectly included or excluded from rendering.</p><li><p><strong>Runtime panics</strong>: When all mesh vertices were negative on any axis, the <code>max</code> value would be negative. When this negative value was incorrectly interpreted as <code>half_size</code>, it triggered a debug assertion that requires <code>half_size</code> to be non-negative (<code>half_size >= 0</code>).</p></ol><p>The developer discovered this bug when working with a model where all vertices had negative coordinates in one dimension. The panic occurred because the negative <code>max</code> value failed the half-size validation check in the <code>Aabb3d::new</code> constructor.<p>The solution implemented in this PR is clean and minimal. Instead of trying to adapt the existing <code>Aabb3d::new</code> constructor, the developer added a new, appropriately named constructor: <code>Aabb3d::from_min_max</code>. This constructor explicitly takes minimum and maximum extent vectors and constructs an AABB from them. The implementation is straightforward:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>from_min_max</span><span>(</span><span style=color:#ff8f40>min</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTVec3A>, </span><span style=color:#ff8f40>max</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTVec3A>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>    </span><span style=color:#fa6e32>let </span><span>(min</span><span style=color:#61676ccc>,</span><span> max) </span><span style=color:#ed9366>= </span><span>(min</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>()</span><span style=color:#61676ccc>,</span><span> max</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>())</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#f07171>debug_assert!</span><span>(min</span><span style=color:#ed9366>.</span><span>x </span><span style=color:#ed9366><=</span><span> max</span><span style=color:#ed9366>.</span><span>x </span><span style=color:#ed9366>&&</span><span> min</span><span style=color:#ed9366>.</span><span>y </span><span style=color:#ed9366><=</span><span> max</span><span style=color:#ed9366>.</span><span>y </span><span style=color:#ed9366>&&</span><span> min</span><span style=color:#ed9366>.</span><span>z </span><span style=color:#ed9366><=</span><span> max</span><span style=color:#ed9366>.</span><span>z)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>Self </span><span>{ min</span><span style=color:#61676ccc>,</span><span> max }
</span><span>}
</span></code></pre><p>The constructor includes a debug assertion that validates the input - ensuring the minimum coordinates are less than or equal to the maximum coordinates in all dimensions. This provides an early check for invalid input data.<p>In the <code>Mesh::take_gpu_data</code> method, the fix was a simple one-line change:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>final_aabb </span><span style=color:#ed9366>= </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(Aabb3d</span><span style=color:#ed9366>::</span><span>new(min</span><span style=color:#61676ccc>,</span><span> max))</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>final_aabb </span><span style=color:#ed9366>= </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(Aabb3d</span><span style=color:#ed9366>::</span><span>from_min_max(min</span><span style=color:#61676ccc>,</span><span> max))</span><span style=color:#61676ccc>;
</span></code></pre><p>This change ensures that the AABB is computed correctly from the actual min/max extents of the mesh vertices.<p>The PR also includes a comprehensive unit test that reproduces the exact scenario that caused the original bug. The test creates a mesh with vertices that are all negative in the X and Y dimensions, then verifies that <code>take_gpu_data</code> correctly computes the AABB without panicking. This test serves two purposes: it verifies the fix works correctly, and it prevents regression by ensuring future changes don’t reintroduce the same bug.<p>From an engineering perspective, this fix demonstrates several good practices:<ol><li><p><strong>Clear API design</strong>: The new <code>from_min_max</code> constructor has an intuitive name that clearly communicates its purpose, reducing the likelihood of similar API misuse in the future.</p><li><p><strong>Defensive programming</strong>: The debug assertion in the new constructor helps catch invalid input during development.</p><li><p><strong>Minimal changes</strong>: The fix doesn’t rewrite large portions of code or introduce complex workarounds. It addresses the root cause directly.</p><li><p><strong>Comprehensive testing</strong>: The added unit test covers the specific edge case that triggered the bug, providing confidence in the fix and preventing regression.</p></ol><p>The impact of this fix is significant for users working with models that have negative coordinates. Previously, such models would cause runtime panics in debug builds and incorrect AABB calculations in release builds. After this fix, these models will work correctly, with proper bounding box calculations that enable accurate frustum culling and other spatial optimizations.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Mesh Vertex Processing] --> B[Calculate min/max extents]
</span><span>    B --> C{Construct AABB}
</span><span>    C -->|Before: Wrong API call| D[Aabb3d::new(min, max)] --> E[Panic or Incorrect AABB]
</span><span>    C -->|After: Correct API call| F[Aabb3d::from_min_max(min, max)] --> G[Correct AABB]
</span><span>    F --> H[New Constructor]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-math-src-bounding-bounded3d-mod-rs-8-0><code>crates/bevy_math/src/bounding/bounded3d/mod.rs</code> (+8/-0)</h3><p>This file received a new constructor for the <code>Aabb3d</code> struct. The addition provides a clear, intention-revealing way to create an AABB from minimum and maximum extents.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// New constructor added:
</span><span style=color:#abb0b6;font-style:italic>/// Constructs an AABB from its minimum and maximum extent.
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>inline</span><span>]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>from_min_max</span><span>(</span><span style=color:#ff8f40>min</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTVec3A>, </span><span style=color:#ff8f40>max</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTVec3A>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>    </span><span style=color:#fa6e32>let </span><span>(min</span><span style=color:#61676ccc>,</span><span> max) </span><span style=color:#ed9366>= </span><span>(min</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>()</span><span style=color:#61676ccc>,</span><span> max</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>())</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#f07171>debug_assert!</span><span>(min</span><span style=color:#ed9366>.</span><span>x </span><span style=color:#ed9366><=</span><span> max</span><span style=color:#ed9366>.</span><span>x </span><span style=color:#ed9366>&&</span><span> min</span><span style=color:#ed9366>.</span><span>y </span><span style=color:#ed9366><=</span><span> max</span><span style=color:#ed9366>.</span><span>y </span><span style=color:#ed9366>&&</span><span> min</span><span style=color:#ed9366>.</span><span>z </span><span style=color:#ed9366><=</span><span> max</span><span style=color:#ed9366>.</span><span>z)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>Self </span><span>{ min</span><span style=color:#61676ccc>,</span><span> max }
</span><span>}
</span></code></pre><p>The constructor includes a debug assertion to validate that the minimum coordinates are less than or equal to the maximum coordinates, catching potential logic errors during development.<h3 id=crates-bevy-mesh-src-mesh-rs-25-1><code>crates/bevy_mesh/src/mesh.rs</code> (+25/-1)</h3><p>This file contains two key changes:<ol><li><strong>Bug fix in <code>take_gpu_data</code> method</strong>:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>final_aabb </span><span style=color:#ed9366>= </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(Aabb3d</span><span style=color:#ed9366>::</span><span>new(min</span><span style=color:#61676ccc>,</span><span> max))</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>final_aabb </span><span style=color:#ed9366>= </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(Aabb3d</span><span style=color:#ed9366>::</span><span>from_min_max(min</span><span style=color:#61676ccc>,</span><span> max))</span><span style=color:#61676ccc>;
</span></code></pre><ol start=2><li><strong>Unit test to prevent regression</strong>:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>test</span><span>]
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>take_gpu_data_calculates_aabb</span><span>() {
</span><span>    </span><span style=color:#fa6e32>let mut</span><span> mesh </span><span style=color:#ed9366>= </span><span>Mesh</span><span style=color:#ed9366>::</span><span>new(
</span><span>        PrimitiveTopology</span><span style=color:#ed9366>::</span><span>TriangleList</span><span style=color:#61676ccc>,
</span><span>        RenderAssetUsages</span><span style=color:#ed9366>::</span><span>default()</span><span style=color:#61676ccc>,
</span><span>    )</span><span style=color:#61676ccc>;
</span><span>    mesh</span><span style=color:#ed9366>.</span><span style=color:#f07171>insert_attribute</span><span>(
</span><span>        Mesh</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>ATTRIBUTE_POSITION</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#f07171>vec!</span><span>[
</span><span>            [</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>0.5</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span>]</span><span style=color:#61676ccc>,
</span><span>            [</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>1.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span>]</span><span style=color:#61676ccc>,
</span><span>            [</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>1.</span><span style=color:#61676ccc>, </span><span style=color:#ed9366>-</span><span style=color:#ff8f40>1.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span>]</span><span style=color:#61676ccc>,
</span><span>            [</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>0.5</span><span style=color:#61676ccc>, </span><span style=color:#ed9366>-</span><span style=color:#ff8f40>1.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span>]</span><span style=color:#61676ccc>,
</span><span>        ]</span><span style=color:#61676ccc>,
</span><span>    )</span><span style=color:#61676ccc>;
</span><span>    mesh</span><span style=color:#ed9366>.</span><span style=color:#f07171>insert_indices</span><span>(Indices</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>U32</span><span>(</span><span style=color:#f07171>vec!</span><span>[</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>2</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>2</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>3</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0</span><span>]))</span><span style=color:#61676ccc>;
</span><span>    mesh </span><span style=color:#ed9366>=</span><span> mesh</span><span style=color:#ed9366>.</span><span style=color:#f07171>take_gpu_data</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#f07171>unwrap</span><span>()</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#f07171>assert_eq!</span><span>(
</span><span>        mesh</span><span style=color:#ed9366>.</span><span>final_aabb</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(Aabb3d</span><span style=color:#ed9366>::</span><span>from_min_max([</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>1.</span><span style=color:#61676ccc>, </span><span style=color:#ed9366>-</span><span style=color:#ff8f40>1.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span>]</span><span style=color:#61676ccc>, </span><span>[</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>0.5</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span>]))
</span><span>    )</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><p>The test creates a mesh with vertices that are all negative in the X and Y dimensions (specifically, X coordinates range from -1.0 to -0.5, Y coordinates from -1.0 to 0.0). This reproduces the exact scenario that caused the original panic. The test verifies that the AABB is computed correctly and that the operation doesn’t panic.<h2 id=further-reading>Further Reading</h2><ol><li><p><strong>Bevy AABB Documentation</strong>: <a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_math/latest/bevy_math/ target=_blank>Bevy Math Module</a> for more information on bounding volumes and spatial mathematics in Bevy.</p><li><p><strong>Axis-Aligned Bounding Boxes</strong>: For a deeper understanding of AABBs and their use in computer graphics, see resources on spatial partitioning and frustum culling.</p><li><p><strong>API Design Principles</strong>: The book “API Design for C++” by Martin Reddy provides excellent guidance on creating clear, intuitive APIs that minimize misuse.</p><li><p><strong>Rust Debug Assertions</strong>: The Rust documentation on <a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/std/macro.debug_assert.html target=_blank>debug_assert!</a> explains how to use assertions that are only active in debug builds for performance-critical code.</p><li><p><strong>Mesh Processing in Bevy</strong>: The <a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_render/latest/bevy_render/mesh/struct.Mesh.html target=_blank>Bevy Mesh Module Documentation</a> provides comprehensive information on mesh handling in the Bevy engine.</p></ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-12/pr_22180.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>