<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22122 Update wesl requirement from 0.2.0 to 0.3.1
        
    </title><meta content="#22122 Update wesl requirement from 0.2.0 to 0.3.1" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-12/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-12-17</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-12/pr-22122-zh-cn-20251217>中文</a></div></div><div class=pr-content><h1 id=update-wesl-requirement-from-0-2-0-to-0-3-1>Update wesl requirement from 0.2.0 to 0.3.1</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Update wesl requirement from 0.2.0 to 0.3.1<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22122<li><strong>Author</strong>: app/dependabot<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: A-Rendering, C-Dependencies, S-Ready-For-Final-Review<li><strong>Created</strong>: 2025-12-15T06:33:11Z<li><strong>Merged</strong>: 2025-12-17T19:44:54Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p>Updates the requirements on <a rel="noopener nofollow noreferrer" href=https://github.com/wgsl-tooling-wg/wesl-rs target=_blank>wesl</a> to permit the latest version.<details><summary>Commits</summary> <ul><li>See full diff in <a href=https://github.com/wgsl-tooling-wg/wesl-rs/commits>compare view</a></ul></details><br><p>Dependabot will resolve any conflicts with this PR as long as you don’t alter it yourself. You can also trigger a rebase manually by commenting <code>@dependabot rebase</code>.<hr><details><summary>Dependabot commands and options</summary> <br> <p>You can trigger Dependabot actions by commenting on this PR:</p> <ul><li><code>@dependabot rebase</code> will rebase this PR<li><code>@dependabot recreate</code> will recreate this PR, overwriting any edits that have been made to it<li><code>@dependabot merge</code> will merge this PR after your CI passes on it<li><code>@dependabot squash and merge</code> will squash and merge this PR after your CI passes on it<li><code>@dependabot cancel merge</code> will cancel a previously requested merge and block automerging<li><code>@dependabot reopen</code> will reopen this PR if it is closed<li><code>@dependabot close</code> will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually<li><code>@dependabot show &LTdependency name> ignore conditions</code> will show all of the ignore conditions of the specified dependency<li><code>@dependabot ignore this major version</code> will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)<li><code>@dependabot ignore this minor version</code> will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)<li><code>@dependabot ignore this dependency</code> will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)</ul></details><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This pull request represents a routine but essential maintenance task in the Bevy game engine’s dependency management. The change updates the version constraint for the <code>wesl</code> crate from 0.2.0 to 0.3.1 in the <code>bevy_shader</code> crate’s manifest file. While seemingly simple, this update is part of a larger strategy to maintain a healthy, secure, and modern dependency graph.<p>The <code>wesl</code> crate is a WGSL (WebGPU Shading Language) parsing library developed by the WGSL Tooling Working Group. In Bevy, it’s used as an optional dependency (<code>optional = true</code>) for the <code>bevy_shader</code> crate, which handles shader compilation and processing. This optional nature means that the crate isn’t required for all Bevy builds but provides additional functionality when enabled.<p>The update from version 0.2.0 to 0.3.1 follows semantic versioning principles. Since it’s a minor version bump (0.2.x to 0.3.x), we expect new features and potentially some backward-compatible improvements. The specific patch version 0.3.1 suggests there were bug fixes or minor improvements after the initial 0.3.0 release.<p>Automated dependency management systems like Dependabot, which created this PR, are crucial for large projects like Bevy. They help maintain security by ensuring vulnerabilities in dependencies are addressed, provide access to new features and performance improvements, and prevent the codebase from accumulating technical debt through outdated dependencies. The PR description includes standard Dependabot commands that allow maintainers to manage the update process efficiently - triggering rebases, merges, or ignoring specific versions as needed.<p>For the Bevy project, updating the <code>wesl</code> dependency is particularly relevant because it’s a shader parsing tool. As WGSL evolves and new language features are added, keeping the parsing library current ensures that Bevy can support the latest shader capabilities. This is reflected in the PR’s labels: <code>A-Rendering</code> (since it affects the rendering pipeline) and <code>C-Dependencies</code> (since it’s a dependency update).<p>The PR follows a straightforward process: Dependabot detects the outdated dependency, creates a PR with the version bump, and the Bevy maintainers review and merge it after CI passes. The merging was done by alice-i-cecile, a core contributor, which suggests the change was reviewed and deemed safe. The two-day turnaround from creation to merge indicates a typical workflow for non-breaking dependency updates.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Bevy Engine] --> B[bevy_shader crate]
</span><span>    B --> C[Optional Dependency]
</span><span>    C --> D[wesl crate v0.3.1]
</span><span>    D --> E[WGSL Parsing]
</span><span>    E --> F[Shader Compilation]
</span><span>    F --> G[Rendering Pipeline]
</span><span>    
</span><span>    H[Dependabot] --> I[Detects Outdated Dependency]
</span><span>    I --> J[Creates PR #22122]
</span><span>    J --> K[Version Bump in Cargo.toml]
</span><span>    K --> L[CI Pipeline Runs]
</span><span>    L --> M[Maintainer Review]
</span><span>    M --> N[Merge to Main]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p>Only one file was modified in this PR:<p><strong>File</strong>: <code>crates/bevy_shader/Cargo.toml</code><p>This is the manifest file for the <code>bevy_shader</code> crate, which defines its dependencies, metadata, and build configuration. The change updates the version constraint for the <code>wesl</code> dependency from 0.2.0 to 0.3.1.<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#399ee6>wesl </span><span>= { </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"0.2.0"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>optional </span><span>= </span><span style=color:#ff8f40>true </span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>wesl </span><span>= { </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"0.3.1"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>optional </span><span>= </span><span style=color:#ff8f40>true </span><span>}
</span></code></pre><p>The change is minimal but significant:<ol><li><strong>Version update</strong>: Changes from 0.2.0 to 0.3.1<li><strong>Dependency remains optional</strong>: The <code>optional = true</code> flag is preserved, meaning this dependency isn’t required for all Bevy builds<li><strong>Semantic versioning</strong>: The update follows semver, allowing access to new features and bug fixes in the 0.3.x series<li><strong>Compatibility</strong>: The version constraint uses the caret operator (implied by <code>version = "0.3.1"</code>), which allows any version compatible with 0.3.1 (>=0.3.1, &LT0.4.0)</ol><p>This change allows the <code>bevy_shader</code> crate to use the latest features and fixes from the <code>wesl</code> crate while maintaining the same optional dependency structure. Since it’s a minor version update, it shouldn’t introduce breaking changes that would affect Bevy’s shader compilation pipeline.<h2 id=further-reading>Further Reading</h2><ol><li><strong>Dependabot Documentation</strong>: https://docs.github.com/en/code-security/dependabot<li><strong>Semantic Versioning (Semver)</strong>: https://semver.org/<li><strong>WGSL Specification</strong>: https://www.w3.org/TR/WGSL/<li><strong>wesl-rs GitHub Repository</strong>: https://github.com/wgsl-tooling-wg/wesl-rs<li><strong>Cargo.toml Reference</strong>: https://doc.rust-lang.org/cargo/reference/manifest.html<li><strong>Bevy’s Shader System</strong>: https://bevyengine.org/learn/book/next/features/shader/</ol><h1 id=full-code-diff>Full Code Diff</h1><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_shader/Cargo.toml b/crates/bevy_shader/Cargo.toml
</span><span>index f7f0ef3ba75c0..3dec1d1eb6a5f 100644
</span><span style=color:#c594c5>--- a/crates/bevy_shader/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_shader/Cargo.toml
</span><span style=color:#c594c5>@@ -19,7 +19,7 @@ </span><span style=color:#399ee6>wgpu-types = { version = "27", default-features = false }
</span><span> naga = { version = "27", features = ["wgsl-in"] }
</span><span> serde = { version = "1", features = ["derive"] }
</span><span> thiserror = { version = "2", default-features = false }
</span><span style=color:#f07171>-wesl = { version = "0.2.0", optional = true }
</span><span style=color:#86b300>+wesl = { version = "0.3.1", optional = true }
</span><span> tracing = { version = "0.1", default-features = false, features = ["std"] }
</span><span> 
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-12/pr_22122.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>