<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22089 Add sprite slicing scene to testbed_2d example
        
    </title><meta content="#22089 Add sprite slicing scene to testbed_2d example" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-12/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-12-14</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-12/pr-22089-zh-cn-20251214>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=add-sprite-slicing-scene-to-testbed-2d-example>Add sprite slicing scene to testbed_2d example</h2><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Add sprite slicing scene to testbed_2d example<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22089<li><strong>Author</strong>: snk-git-hub<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: A-Rendering, S-Ready-For-Final-Review, C-Testing, X-Uncontroversial, D-Straightforward<li><strong>Created</strong>: 2025-12-11T10:25:07Z<li><strong>Merged</strong>: 2025-12-14T22:04:11Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>Sprite slicing doesn’t have any example with the screenshot CI.<li>Fixes #22083</ul><h2 id=solution>Solution</h2><ul><li>Added a new <code>sprite_slicing</code> module to <code>examples/testbed/2d.rs</code></ul><h2 id=testing>Testing</h2><ul><li>Ran the testbed with <code>cargo run --example testbed_2d</code><li>Cycled through all scenes using spacebar<li>Verified the sprite slicing scene displays correctly with both original and sliced sprites<li>Confirmed labels and positioning are correct</ul><hr><h2 id=showcase>Showcase</h2><img alt="Screenshot From 2025-12-11 15-41-23" height=755 src=https://github.com/user-attachments/assets/8f5a6223-78bb-4670-b23e-280e003df324 width=1372><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a gap in Bevy’s example coverage for sprite slicing functionality. While Bevy already had sprite slicing implemented, it lacked a scene in the 2D testbed example that demonstrated this feature. This omission was identified in issue #22083, which noted that sprite slicing didn’t have any example integrated with the screenshot CI system.<p>The solution was straightforward but important: add a new scene to the existing <code>testbed_2d</code> example that showcases sprite slicing alongside the original sprite for visual comparison. This approach leverages the existing example infrastructure, which already handles multiple 2D rendering scenes that users can cycle through using the spacebar.<p>The implementation centers around three main changes to the <code>examples/testbed/2d.rs</code> file:<ol><li><p><strong>System registration</strong>: The new <code>sprite_slicing::setup</code> system is registered to run when entering the <code>SpriteSlicing</code> scene state.</p><li><p><strong>Scene enumeration</strong>: A new <code>SpriteSlicing</code> variant is added to the <code>Scene</code> enum, and the <code>Next</code> trait implementation is updated to include this scene in the cycling order.</p><li><p><strong>Scene implementation</strong>: A new <code>sprite_slicing</code> module is created with a <code>setup</code> function that spawns the necessary entities.</p></ol><p>The technical implementation demonstrates several Bevy sprite slicing concepts. The setup function loads a test texture (<code>slice_square_2.png</code>) and creates two sprites side by side. The left sprite displays the original texture scaled up by a factor of 2, while the right sprite uses <code>SpriteImageMode::Sliced</code> with a <code>TextureSlicer</code> configuration. This slicer defines a 20-pixel border around all edges and uses the <code>Stretch</code> scaling mode for the center region. The sliced sprite also has a fixed custom size of 200x200 pixels, which causes the borders to maintain their thickness while the center region stretches to fill the remaining space.<p>This approach effectively shows the practical application of sprite slicing - creating UI elements or game assets that can scale without distorting their borders. The example includes text labels (“Original” and “Sliced”) positioned below each sprite for clarity, using the same font loading pattern as other scenes in the testbed.<p>From an architectural perspective, this PR follows established patterns in the codebase. It uses <code>DespawnOnExit</code> components to ensure entities are properly cleaned up when leaving the scene, and it leverages the existing state management system for scene transitions. The implementation is minimal and focused, adding only what’s necessary to demonstrate the feature without overcomplicating the example.<p>The screenshot CI integration mentioned in the PR description is particularly valuable for Bevy’s development workflow. By having this example scene, automated testing can capture screenshots to verify that sprite slicing continues to work correctly across changes to the rendering system. This provides a visual regression test that complements unit tests.<p>This PR represents a typical enhancement to an example system: identifying missing feature coverage and implementing a clear, focused demonstration that follows existing patterns while providing immediate value to both users exploring Bevy’s capabilities and developers maintaining the codebase.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[testbed_2d Example] --> B[Scene Enum]
</span><span>    B --> C[Scene Switching System]
</span><span>    B --> D[Scene Setup Systems]
</span><span>    
</span><span>    D --> E[Shapes Setup]
</span><span>    D --> F[Bloom Setup]
</span><span>    D --> G[Text Setup]
</span><span>    D --> H[Sprite Setup]
</span><span>    D --> I[SpriteSlicing Setup]
</span><span>    D --> J[Gizmos Setup]
</span><span>    
</span><span>    I --> K[Load Texture/Font]
</span><span>    I --> L[Create Original Sprite]
</span><span>    I --> M[Create Sliced Sprite]
</span><span>    I --> N[Add Text Labels]
</span><span>    
</span><span>    M --> O[TextureSlicer Configuration]
</span><span>    O --> P[BorderRect: 20px all sides]
</span><span>    O --> Q[SliceScaleMode: Stretch]
</span><span>    O --> R[Custom Size: 200x200]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=examples-testbed-2d-rs-62-1><code>examples/testbed/2d.rs</code> (+62/-1)</h3><p>This file was modified to add a new sprite slicing demonstration scene to the existing 2D testbed example. The changes integrate seamlessly with the existing scene management system.<p><strong>Key modifications:</strong><ol><li><strong>Scene registration and state management:</strong></ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before: Scene enum and Next trait implementation
</span><span style=color:#fa6e32>enum </span><span style=color:#399ee6>Scene </span><span>{
</span><span>    Shapes</span><span style=color:#61676ccc>,
</span><span>    Bloom</span><span style=color:#61676ccc>,
</span><span>    Text</span><span style=color:#61676ccc>,
</span><span>    Sprite</span><span style=color:#61676ccc>,
</span><span>    Gizmos</span><span style=color:#61676ccc>,
</span><span>}
</span><span>
</span><span style=color:#fa6e32>impl </span><span>Next </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>Scene </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>next</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>        </span><span style=color:#fa6e32>match </span><span style=color:#55b4d4;font-style:italic>self </span><span>{
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>Shapes </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>Bloom</span><span style=color:#61676ccc>,
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>Bloom </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>Text</span><span style=color:#61676ccc>,
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>Text </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>Sprite</span><span style=color:#61676ccc>,
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>Sprite </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>Gizmos</span><span style=color:#61676ccc>,
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>Gizmos </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>Shapes</span><span style=color:#61676ccc>,
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// After: Added SpriteSlicing variant
</span><span style=color:#fa6e32>enum </span><span style=color:#399ee6>Scene </span><span>{
</span><span>    Shapes</span><span style=color:#61676ccc>,
</span><span>    Bloom</span><span style=color:#61676ccc>,
</span><span>    Text</span><span style=color:#61676ccc>,
</span><span>    Sprite</span><span style=color:#61676ccc>,
</span><span>    SpriteSlicing</span><span style=color:#61676ccc>,  </span><span style=color:#abb0b6;font-style:italic>// New variant added
</span><span>    Gizmos</span><span style=color:#61676ccc>,
</span><span>}
</span><span>
</span><span style=color:#fa6e32>impl </span><span>Next </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>Scene </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>next</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>        </span><span style=color:#fa6e32>match </span><span style=color:#55b4d4;font-style:italic>self </span><span>{
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>Shapes </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>Bloom</span><span style=color:#61676ccc>,
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>Bloom </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>Text</span><span style=color:#61676ccc>,
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>Text </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>Sprite</span><span style=color:#61676ccc>,
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>Sprite </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>SpriteSlicing</span><span style=color:#61676ccc>,  </span><span style=color:#abb0b6;font-style:italic>// Updated to include new scene
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>SpriteSlicing </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>Gizmos</span><span style=color:#61676ccc>,  </span><span style=color:#abb0b6;font-style:italic>// New transition added
</span><span>            Scene</span><span style=color:#ed9366>::</span><span>Gizmos </span><span style=color:#ed9366>=> </span><span>Scene</span><span style=color:#ed9366>::</span><span>Shapes</span><span style=color:#61676ccc>,
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre><ol start=2><li><strong>System registration:</strong></ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before: Existing system registration
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>add_systems</span><span>(OnEnter(Scene</span><span style=color:#ed9366>::</span><span>Bloom)</span><span style=color:#61676ccc>, </span><span>bloom</span><span style=color:#ed9366>::</span><span>setup)
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>add_systems</span><span>(OnEnter(Scene</span><span style=color:#ed9366>::</span><span>Text)</span><span style=color:#61676ccc>, </span><span>text</span><span style=color:#ed9366>::</span><span>setup)
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>add_systems</span><span>(OnEnter(Scene</span><span style=color:#ed9366>::</span><span>Sprite)</span><span style=color:#61676ccc>, </span><span>sprite</span><span style=color:#ed9366>::</span><span>setup)
</span></code></pre><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// After: Added sprite_slicing system registration
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>add_systems</span><span>(OnEnter(Scene</span><span style=color:#ed9366>::</span><span>Bloom)</span><span style=color:#61676ccc>, </span><span>bloom</span><span style=color:#ed9366>::</span><span>setup)
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>add_systems</span><span>(OnEnter(Scene</span><span style=color:#ed9366>::</span><span>Text)</span><span style=color:#61676ccc>, </span><span>text</span><span style=color:#ed9366>::</span><span>setup)
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>add_systems</span><span>(OnEnter(Scene</span><span style=color:#ed9366>::</span><span>Sprite)</span><span style=color:#61676ccc>, </span><span>sprite</span><span style=color:#ed9366>::</span><span>setup)
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>add_systems</span><span>(OnEnter(Scene</span><span style=color:#ed9366>::</span><span>SpriteSlicing)</span><span style=color:#61676ccc>, </span><span>sprite_slicing</span><span style=color:#ed9366>::</span><span>setup)  </span><span style=color:#abb0b6;font-style:italic>// New system added
</span></code></pre><ol start=3><li><strong>New sprite_slicing module implementation:</strong></ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>mod </span><span style=color:#399ee6>sprite_slicing </span><span>{
</span><span>    </span><span style=color:#fa6e32>use </span><span>bevy</span><span style=color:#ed9366>::</span><span>prelude</span><span style=color:#ed9366>::*</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>use </span><span>bevy</span><span style=color:#ed9366>::</span><span>sprite</span><span style=color:#ed9366>::</span><span>{BorderRect</span><span style=color:#61676ccc>,</span><span> SliceScaleMode</span><span style=color:#61676ccc>,</span><span> SpriteImageMode</span><span style=color:#61676ccc>,</span><span> TextureSlicer}</span><span style=color:#61676ccc>;
</span><span>
</span><span>    </span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>setup</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>commands</span><span style=color:#61676ccc>:</span><span> Commands, </span><span style=color:#ff8f40>asset_server</span><span style=color:#61676ccc>: </span><span>Res&LTAssetServer>) {
</span><span>        commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((Camera2d</span><span style=color:#61676ccc>,</span><span> DespawnOnExit(</span><span style=color:#fa6e32>super</span><span style=color:#ed9366>::</span><span>Scene</span><span style=color:#ed9366>::</span><span>SpriteSlicing)))</span><span style=color:#61676ccc>;
</span><span>
</span><span>        </span><span style=color:#fa6e32>let</span><span> texture </span><span style=color:#ed9366>=</span><span> asset_server</span><span style=color:#ed9366>.</span><span style=color:#f07171>load</span><span>(</span><span style=color:#86b300>"textures/slice_square_2.png"</span><span>)</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>let</span><span> font </span><span style=color:#ed9366>=</span><span> asset_server</span><span style=color:#ed9366>.</span><span style=color:#f07171>load</span><span>(</span><span style=color:#86b300>"fonts/FiraSans-Bold.ttf"</span><span>)</span><span style=color:#61676ccc>;
</span><span>
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// Original sprite (left side)
</span><span>        commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>            Sprite {
</span><span>                image</span><span style=color:#61676ccc>:</span><span> texture</span><span style=color:#ed9366>.</span><span style=color:#f07171>clone</span><span>()</span><span style=color:#61676ccc>,
</span><span>                </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>            }</span><span style=color:#61676ccc>,
</span><span>            Transform</span><span style=color:#ed9366>::</span><span>from_translation(Vec3</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>150.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>50.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.0</span><span>))</span><span style=color:#ed9366>.</span><span style=color:#f07171>with_scale</span><span>(Vec3</span><span style=color:#ed9366>::</span><span>splat(</span><span style=color:#ff8f40>2.0</span><span>))</span><span style=color:#61676ccc>,
</span><span>            DespawnOnExit(</span><span style=color:#fa6e32>super</span><span style=color:#ed9366>::</span><span>Scene</span><span style=color:#ed9366>::</span><span>SpriteSlicing)</span><span style=color:#61676ccc>,
</span><span>        ))</span><span style=color:#61676ccc>;
</span><span>
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// Sliced sprite (right side)
</span><span>        commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>            Sprite {
</span><span>                image</span><span style=color:#61676ccc>:</span><span> texture</span><span style=color:#61676ccc>,
</span><span>                image_mode</span><span style=color:#61676ccc>: </span><span>SpriteImageMode</span><span style=color:#ed9366>::</span><span>Sliced(TextureSlicer {
</span><span>                    border</span><span style=color:#61676ccc>: </span><span>BorderRect</span><span style=color:#ed9366>::</span><span>all(</span><span style=color:#ff8f40>20.0</span><span>)</span><span style=color:#61676ccc>,
</span><span>                    center_scale_mode</span><span style=color:#61676ccc>: </span><span>SliceScaleMode</span><span style=color:#ed9366>::</span><span>Stretch</span><span style=color:#61676ccc>,
</span><span>                    </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>                })</span><span style=color:#61676ccc>,
</span><span>                custom_size</span><span style=color:#61676ccc>: </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(Vec2</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>200.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>200.0</span><span>))</span><span style=color:#61676ccc>,
</span><span>                </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>            }</span><span style=color:#61676ccc>,
</span><span>            Transform</span><span style=color:#ed9366>::</span><span>from_translation(Vec3</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>150.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>50.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.0</span><span>))</span><span style=color:#61676ccc>,
</span><span>            DespawnOnExit(</span><span style=color:#fa6e32>super</span><span style=color:#ed9366>::</span><span>Scene</span><span style=color:#ed9366>::</span><span>SpriteSlicing)</span><span style=color:#61676ccc>,
</span><span>        ))</span><span style=color:#61676ccc>;
</span><span>
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// Text labels
</span><span>        commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>            Text2d</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"Original"</span><span>)</span><span style=color:#61676ccc>,
</span><span>            TextFont {
</span><span>                font</span><span style=color:#61676ccc>:</span><span> font</span><span style=color:#ed9366>.</span><span style=color:#f07171>clone</span><span>()</span><span style=color:#61676ccc>,
</span><span>                font_size</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>20.0</span><span style=color:#61676ccc>,
</span><span>                </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>            }</span><span style=color:#61676ccc>,
</span><span>            Transform</span><span style=color:#ed9366>::</span><span>from_translation(Vec3</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>150.0</span><span style=color:#61676ccc>, </span><span style=color:#ed9366>-</span><span style=color:#ff8f40>80.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.0</span><span>))</span><span style=color:#61676ccc>,
</span><span>            DespawnOnExit(</span><span style=color:#fa6e32>super</span><span style=color:#ed9366>::</span><span>Scene</span><span style=color:#ed9366>::</span><span>SpriteSlicing)</span><span style=color:#61676ccc>,
</span><span>        ))</span><span style=color:#61676ccc>;
</span><span>
</span><span>        commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>            Text2d</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"Sliced"</span><span>)</span><span style=color:#61676ccc>,
</span><span>            TextFont {
</span><span>                font</span><span style=color:#61676ccc>,
</span><span>                font_size</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>20.0</span><span style=color:#61676ccc>,
</span><span>                </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>            }</span><span style=color:#61676ccc>,
</span><span>            Transform</span><span style=color:#ed9366>::</span><span>from_translation(Vec3</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>150.0</span><span style=color:#61676ccc>, </span><span style=color:#ed9366>-</span><span style=color:#ff8f40>80.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.0</span><span>))</span><span style=color:#61676ccc>,
</span><span>            DespawnOnExit(</span><span style=color:#fa6e32>super</span><span style=color:#ed9366>::</span><span>Scene</span><span style=color:#ed9366>::</span><span>SpriteSlicing)</span><span style=color:#61676ccc>,
</span><span>        ))</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy/latest/bevy/sprite/struct.TextureSlicer.html target=_blank>Bevy Sprite Slicing Documentation</a> - Official documentation for the TextureSlicer struct<li><a rel="noopener nofollow noreferrer" href=https://en.wikipedia.org/wiki/9-slice_scaling target=_blank>9-Slice Scaling on Wikipedia</a> - Background on the sprite slicing technique<li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/tree/main/examples target=_blank>Bevy Examples Repository</a> - Other example implementations in Bevy<li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/issues/22083 target=_blank>Issue #22083</a> - The original issue that this PR addresses</ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-12/pr_22089.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>