<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #20137 Documentation of Timer Behavior in Bevy's Time Module
        
    </title><meta content="#20137 Documentation of Timer Behavior in Bevy's Time Module" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-07/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-07-14</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-07/pr-20137-zh-cn-20250714>中文</a></div></div><div class=pr-content><h2 id=title-documentation-of-timer-behavior-in-bevy-s-time-module>Title: Documentation of Timer Behavior in Bevy’s Time Module</h2><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Document repeating timer tick behavior<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/20137<li><strong>Author</strong>: onbjerg<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Docs, S-Ready-For-Final-Review, A-Time, D-Straightforward<li><strong>Created</strong>: 2025-07-14T16:06:15Z<li><strong>Merged</strong>: 2025-07-14T23:02:02Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description>Description</h2><h1 id=objective>Objective</h1><p>Closes #20132<h2 id=solution>Solution</h2><p>I found docs describing the behavior elsewhere in Bevy, which I pulled in to the main <code>Timer</code> docs: https://github.com/bevyengine/bevy/blob/b01de70bdd927bcc9cdc5d0b8c677f480e54f4b1/crates/bevy_time/src/common_conditions.rs#L27-L35<p>I also restructured the docs a little bit.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The PR addresses a documentation gap in Bevy’s time module regarding timer behavior. Developers needed clearer documentation about how repeating timers handle multiple elapses within a single frame and how pausing affects timer progression. Without this documentation, users might misunderstand timer behavior, leading to incorrect implementations in game logic and systems.<p>The solution approach involved consolidating existing documentation scattered across the codebase. The author identified relevant documentation in <code>common_conditions.rs</code> that described timer ticking behavior and integrated it into the main <code>Timer</code> struct documentation. This centralized approach improves discoverability and consistency.<p>The implementation restructured the documentation using Markdown sections to organize information logically. The author moved the note about requiring <code>tick()</code> to advance timers higher in the documentation for better visibility. They then organized the content into three clear sections: timer modes, pausing behavior, and frame-based elapsing. The most significant addition was documenting how repeating timers can elapse multiple times per frame and how to access this information through <code>times_finished_this_tick</code>.<p>The technical insight here is that repeating timers don’t just fire once per duration period - they can trigger multiple times if the frame duration exceeds the timer duration. This behavior is important for game systems that need to process accumulated timer events. The documentation now explicitly states that for non-repeating timers, <code>times_finished_this_tick</code> will only be 0 or 1.<p>These changes improve developer experience by clarifying edge case behavior without modifying any functional code. The documentation now accurately reflects the existing timer implementation, helping users correctly utilize timer features in their Bevy projects.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Timer Documentation] --> B[Timer Modes]
</span><span>    A --> C[Pausing Behavior]
</span><span>    A --> D[Frame-Based Elapsing]
</span><span>    B --> E[Non-repeating]
</span><span>    B --> F[Repeating]
</span><span>    D --> G[times_finished_this_tick]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-time-src-timer-rs-17-5><code>crates/bevy_time/src/timer.rs</code> (+17/-5)</h3><p>The changes restructure and enhance the documentation for the <code>Timer</code> struct. The documentation now better explains timer modes, pausing behavior, and frame-based elapsing.<p><strong>Key modifications:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#abb0b6;font-style:italic>/// Tracks elapsed time. Enters the finished state once `duration` is reached.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// Non repeating timers will stop tracking and stay in the finished state until reset.
</span><span style=color:#abb0b6;font-style:italic>/// Repeating timers will only be in the finished state on each tick `duration` is reached or
</span><span style=color:#abb0b6;font-style:italic>/// exceeded, and can still be reset at any given point.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// Paused timers will not have elapsed time increased.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// Note that in order to advance the timer [`tick`](Timer::tick) **MUST** be called.
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>/// Tracks elapsed time. Enters the finished state once `duration` is reached.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// Note that in order to advance the timer [`tick`](Timer::tick) **MUST** be called.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// # Timer modes
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// There are two timer modes ([`TimerMode`]):
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// - Non repeating timers will stop tracking and stay in the finished state until reset.
</span><span style=color:#abb0b6;font-style:italic>/// - Repeating timers will only be in the finished state on each tick `duration` is reached or
</span><span style=color:#abb0b6;font-style:italic>///   exceeded, and can still be reset at any given point.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// # Pausing timers
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// You can pause a timer using [`Timer::pause`]. Paused timers will not have elapsed time increased.
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// # Elapsing multiple times a frame
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// Repeating timers might elapse multiple times per frame if the time is advanced by more than the timer duration.
</span><span style=color:#abb0b6;font-style:italic>/// You can check how many times a timer elapsed each tick with [`Timer::times_finished_this_tick`].
</span><span style=color:#abb0b6;font-style:italic>/// For non-repeating timers, this will always be 0 or 1.
</span></code></pre><p>The changes:<ol><li>Move the <code>tick()</code> requirement note higher for visibility<li>Add section headers for better organization<li>Include new documentation about multiple elapses per frame<li>Add links to related types and methods (<code>TimerMode</code>, <code>Timer::pause</code>, <code>times_finished_this_tick</code>)</ol><h2 id=further-reading>Further Reading</h2><ol><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_time/latest/bevy_time/ target=_blank>Bevy Time Module Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_time/latest/bevy_time/struct.Timer.html target=_blank>Timer API Reference</a><li><a rel="noopener nofollow noreferrer" href=https://gameprogrammingpatterns.com/game-loop.html target=_blank>Game Timing Concepts</a></ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-07/pr_20137.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>