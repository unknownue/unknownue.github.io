<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #19992 HSL and HSV interpolation for UI gradients
        
    </title><meta content="#19992 HSL and HSV interpolation for UI gradients" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-07/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-07-07</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-07/pr-19992-zh-cn-20250707>中文</a></div></div><div class=pr-content><h1 id=technical-analysis-hsl-and-hsv-interpolation-for-ui-gradients>Technical Analysis: HSL and HSV Interpolation for UI Gradients</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: HSL and HSV interpolation for UI gradients<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/19992<li><strong>Author</strong>: ickshonpe<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Feature, A-Rendering, A-UI, S-Ready-For-Final-Review, D-Shaders, A-Color<li><strong>Created</strong>: 2025-07-06T21:16:33Z<li><strong>Merged</strong>: 2025-07-07T20:44:31Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h3 id=objective>Objective</h3><p>Add interpolation in HSL and HSV colour spaces for UI gradients.<h3 id=solution>Solution</h3><p>Added new variants to <code>InterpolationColorSpace</code>: <code>Hsl</code>, <code>HslLong</code>, <code>Hsv</code>, and <code>HsvLong</code>, along with mix functions to the <code>gradients</code> shader for each of them.<h4 id=limitations>Limitations</h4><ul><li><p>Didn’t include increasing and decreasing path support, it’s not essential and can be done in a follow up if someone feels like it.</p><li><p>The colour conversions should really be performed before the colours are sent to the shader but it would need more changes and performance is good enough for now.</p></ul><h3 id=testing>Testing</h3><p><code>cargo run --example gradients</code><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The PR addresses a need for more flexible color interpolation options in Bevy’s UI gradients. Previously, gradients supported interpolation in sRGB, linear RGB, OKLab, and OKLCH color spaces. While these options work well for many cases, designers often prefer working with HSL (Hue-Saturation-Lightness) and HSV (Hue-Saturation-Value) color models for their perceptual uniformity and intuitive parameters.<p>The implementation adds four new interpolation variants to the <code>InterpolationColorSpace</code> enum:<ul><li><code>Hsl</code> and <code>HslLong</code> for HSL space with short/long hue paths<li><code>Hsv</code> and <code>HsvLong</code> for HSV space with short/long hue paths</ul><p>The core work happens in the shader (<code>gradient.wgsl</code>), where new conversion functions were implemented:<ul><li><code>linear_rgba_to_hsla()</code> and <code>hsla_to_linear_rgba()</code> for HSL conversions<li><code>linear_rgba_to_hsva()</code> and <code>hsva_to_linear_rgba()</code> for HSV conversions</ul><p>For hue interpolation, the implementation provides both short and long path options. The short path (<code>lerp_hue()</code>) takes the most direct route between hues, while the long path (<code>lerp_hue_long()</code>) goes the long way around the color wheel:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>fn </span><span style=color:#f29718>lerp_hue</span><span>(</span><span style=color:#ff8f40>a</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>, </span><span style=color:#ff8f40>b</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>, </span><span style=color:#ff8f40>t</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>f32 </span><span>{
</span><span>    </span><span style=color:#fa6e32>let</span><span> diff </span><span style=color:#ed9366>= </span><span>((b </span><span style=color:#ed9366>-</span><span> a) </span><span style=color:#ed9366>% </span><span style=color:#ff8f40>TAU </span><span style=color:#ed9366>+ </span><span style=color:#ff8f40>TAU</span><span>) </span><span style=color:#ed9366>% </span><span style=color:#ff8f40>TAU</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>return</span><span> a </span><span style=color:#ed9366>+ </span><span style=color:#f07171>select</span><span>(diff</span><span style=color:#61676ccc>,</span><span> diff </span><span style=color:#ed9366>- </span><span style=color:#ff8f40>TAU</span><span style=color:#61676ccc>,</span><span> diff </span><span style=color:#ed9366>> </span><span style=color:#ff8f40>PI</span><span>) </span><span style=color:#ed9366>*</span><span> t</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>lerp_hue_long</span><span>(</span><span style=color:#ff8f40>a</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>, </span><span style=color:#ff8f40>b</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>, </span><span style=color:#ff8f40>t</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>f32 </span><span>{
</span><span>    </span><span style=color:#fa6e32>let</span><span> diff </span><span style=color:#ed9366>= </span><span style=color:#f07171>rem_euclid</span><span>(b </span><span style=color:#ed9366>-</span><span> a</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>TAU</span><span>)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f07171>rem_euclid</span><span>(a </span><span style=color:#ed9366>+ </span><span style=color:#f07171>select</span><span>(diff </span><span style=color:#ed9366>- </span><span style=color:#ff8f40>TAU</span><span style=color:#61676ccc>,</span><span> diff </span><span style=color:#ed9366>+ </span><span style=color:#ff8f40>TAU</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0. </span><span style=color:#ed9366><</span><span> diff) </span><span style=color:#ed9366>*</span><span> t</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>TAU</span><span>)</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><p>The new mixing functions handle the complete interpolation process:<ol><li>Convert both colors to the target color space (HSL or HSV)<li>Interpolate components with special handling for hue<li>Convert back to linear RGB</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>fn </span><span style=color:#f29718>mix_linear_rgba_in_hsva_space</span><span>(</span><span style=color:#ff8f40>a</span><span style=color:#61676ccc>: </span><span>vec4<</span><span style=color:#fa6e32>f32</span><span>>, </span><span style=color:#ff8f40>b</span><span style=color:#61676ccc>: </span><span>vec4<</span><span style=color:#fa6e32>f32</span><span>>, </span><span style=color:#ff8f40>t</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>) </span><span style=color:#61676ccc>-> </span><span>vec4<</span><span style=color:#fa6e32>f32</span><span>> {
</span><span>    </span><span style=color:#fa6e32>let</span><span> ha </span><span style=color:#ed9366>= </span><span style=color:#f07171>linear_rgba_to_hsva</span><span>(a)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>let</span><span> hb </span><span style=color:#ed9366>= </span><span style=color:#f07171>linear_rgba_to_hsva</span><span>(b)</span><span style=color:#61676ccc>;
</span><span>    var h</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>if</span><span> ha</span><span style=color:#ed9366>.</span><span>y </span><span style=color:#ed9366>== </span><span style=color:#ff8f40>0. </span><span>{
</span><span>        h </span><span style=color:#ed9366>=</span><span> hb</span><span style=color:#ed9366>.</span><span>x</span><span style=color:#61676ccc>;
</span><span>    } </span><span style=color:#fa6e32>else if</span><span> hb</span><span style=color:#ed9366>.</span><span>y </span><span style=color:#ed9366>== </span><span style=color:#ff8f40>0. </span><span>{
</span><span>        h </span><span style=color:#ed9366>=</span><span> ha</span><span style=color:#ed9366>.</span><span>x</span><span style=color:#61676ccc>;
</span><span>    } </span><span style=color:#fa6e32>else </span><span>{
</span><span>        h </span><span style=color:#ed9366>= </span><span style=color:#f07171>lerp_hue</span><span>(ha</span><span style=color:#ed9366>.</span><span>x </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>TAU</span><span style=color:#61676ccc>,</span><span> hb</span><span style=color:#ed9366>.</span><span>x </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>TAU</span><span style=color:#61676ccc>,</span><span> t) </span><span style=color:#ed9366>/ </span><span style=color:#ff8f40>TAU</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>    </span><span style=color:#fa6e32>let</span><span> s </span><span style=color:#ed9366>= </span><span style=color:#f07171>mix</span><span>(ha</span><span style=color:#ed9366>.</span><span>y</span><span style=color:#61676ccc>,</span><span> hb</span><span style=color:#ed9366>.</span><span>y</span><span style=color:#61676ccc>,</span><span> t)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>let</span><span> v </span><span style=color:#ed9366>= </span><span style=color:#f07171>mix</span><span>(ha</span><span style=color:#ed9366>.</span><span>z</span><span style=color:#61676ccc>,</span><span> hb</span><span style=color:#ed9366>.</span><span>z</span><span style=color:#61676ccc>,</span><span> t)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>let</span><span> a_alpha </span><span style=color:#ed9366>= </span><span style=color:#f07171>mix</span><span>(ha</span><span style=color:#ed9366>.</span><span>a</span><span style=color:#61676ccc>,</span><span> hb</span><span style=color:#ed9366>.</span><span>a</span><span style=color:#61676ccc>,</span><span> t)</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f07171>hsva_to_linear_rgba</span><span>(vec4<</span><span style=color:#fa6e32>f32</span><span>>(h</span><span style=color:#61676ccc>,</span><span> s</span><span style=color:#61676ccc>,</span><span> v</span><span style=color:#61676ccc>,</span><span> a_alpha))</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><p>The <code>interpolate_gradient</code> function was extended with new conditional branches to handle the new color spaces:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#ed9366>#</span><span>ifdef </span><span style=color:#ff8f40>IN_HSV
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f07171>mix_linear_rgba_in_hsva_space</span><span>(start_color</span><span style=color:#61676ccc>,</span><span> end_color</span><span style=color:#61676ccc>,</span><span> t)</span><span style=color:#61676ccc>;
</span><span style=color:#ed9366>#</span><span style=color:#fa6e32>else</span><span> ifdef </span><span style=color:#ff8f40>IN_HSV_LONG
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f07171>mix_linear_rgba_in_hsva_space_long</span><span>(start_color</span><span style=color:#61676ccc>,</span><span> end_color</span><span style=color:#61676ccc>,</span><span> t)</span><span style=color:#61676ccc>;
</span><span style=color:#ed9366>#</span><span style=color:#fa6e32>else</span><span> ifdef </span><span style=color:#ff8f40>IN_HSL
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f07171>mix_linear_rgba_in_hsla_space</span><span>(start_color</span><span style=color:#61676ccc>,</span><span> end_color</span><span style=color:#61676ccc>,</span><span> t)</span><span style=color:#61676ccc>;
</span><span style=color:#ed9366>#</span><span style=color:#fa6e32>else</span><span> ifdef </span><span style=color:#ff8f40>IN_HSL_LONG
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f07171>mix_linear_rgba_in_hsla_space_long</span><span>(start_color</span><span style=color:#61676ccc>,</span><span> end_color</span><span style=color:#61676ccc>,</span><span> t)</span><span style=color:#61676ccc>;
</span><span style=color:#ed9366>#</span><span>endif
</span></code></pre><p>The example code was updated to cycle through the new color spaces when clicking gradients, providing immediate visual verification of the new functionality. The release notes were also updated to reflect the expanded color space support.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[InterpolationColorSpace Enum] --> B[Shader Defines]
</span><span>    B --> C[gradient.wgsl]
</span><span>    C --> D[Color Conversion Functions]
</span><span>    C --> E[Mix Functions]
</span><span>    D --> F[HSL Conversion]
</span><span>    D --> G[HSV Conversion]
</span><span>    E --> H[Short Path Interpolation]
</span><span>    E --> I[Long Path Interpolation]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-ui-render-src-gradient-wgsl-183-27><code>crates/bevy_ui_render/src/gradient.wgsl</code> (+183/-27)</h3><p>Added HSL/HSV conversion functions and interpolation logic. Key changes include:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// New conversion functions
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>linear_rgba_to_hsla</span><span>(</span><span style=color:#ff8f40>c</span><span style=color:#61676ccc>: </span><span>vec4<</span><span style=color:#fa6e32>f32</span><span>>) </span><span style=color:#61676ccc>-> </span><span>vec4<</span><span style=color:#fa6e32>f32</span><span>> {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Implementation details
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>hsla_to_linear_rgba</span><span>(</span><span style=color:#ff8f40>hsl</span><span style=color:#61676ccc>: </span><span>vec4<</span><span style=color:#fa6e32>f32</span><span>>) </span><span style=color:#61676ccc>-> </span><span>vec4<</span><span style=color:#fa6e32>f32</span><span>> {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Implementation details
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// New mix functions
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>mix_linear_rgba_in_hsva_space</span><span>(</span><span style=color:#ff8f40>a</span><span style=color:#61676ccc>: </span><span>vec4<</span><span style=color:#fa6e32>f32</span><span>>, </span><span style=color:#ff8f40>b</span><span style=color:#61676ccc>: </span><span>vec4<</span><span style=color:#fa6e32>f32</span><span>>, </span><span style=color:#ff8f40>t</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>) </span><span style=color:#61676ccc>-> </span><span>vec4<</span><span style=color:#fa6e32>f32</span><span>> {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Implementation details
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Updated interpolation logic
</span><span style=color:#ed9366>#</span><span>ifdef </span><span style=color:#ff8f40>IN_HSV
</span><span>    </span><span style=color:#fa6e32>return </span><span style=color:#f07171>mix_linear_rgba_in_hsva_space</span><span>(start_color</span><span style=color:#61676ccc>,</span><span> end_color</span><span style=color:#61676ccc>,</span><span> t)</span><span style=color:#61676ccc>;
</span><span style=color:#ed9366>#</span><span>endif
</span></code></pre><h3 id=examples-ui-gradients-rs-12-0><code>examples/ui/gradients.rs</code> (+12/-0)</h3><p>Extended the gradient example to cycle through new color spaces:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span>InterpolationColorSpace</span><span style=color:#ed9366>::</span><span>LinearRgb </span><span style=color:#ed9366>=> </span><span>{
</span><span>    InterpolationColorSpace</span><span style=color:#ed9366>::</span><span>Hsl
</span><span>}
</span><span>InterpolationColorSpace</span><span style=color:#ed9366>::</span><span>Hsl </span><span style=color:#ed9366>=> </span><span>{
</span><span>    InterpolationColorSpace</span><span style=color:#ed9366>::</span><span>HslLong
</span><span>}
</span><span style=color:#abb0b6;font-style:italic>// Additional cases for Hsv and HsvLong
</span></code></pre><h3 id=crates-bevy-ui-src-gradients-rs-8-0><code>crates/bevy_ui/src/gradients.rs</code> (+8/-0)</h3><p>Added new enum variants for HSL/HSV interpolation:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>pub enum </span><span style=color:#399ee6>InterpolationColorSpace </span><span>{
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>    Hsl</span><span style=color:#61676ccc>,
</span><span>    HslLong</span><span style=color:#61676ccc>,
</span><span>    Hsv</span><span style=color:#61676ccc>,
</span><span>    HsvLong</span><span style=color:#61676ccc>,
</span><span>}
</span></code></pre><h3 id=crates-bevy-ui-render-src-gradient-rs-4-0><code>crates/bevy_ui_render/src/gradient.rs</code> (+4/-0)</h3><p>Mapped new enum variants to shader defines:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span>InterpolationColorSpace</span><span style=color:#ed9366>::</span><span>Hsl </span><span style=color:#ed9366>=> </span><span style=color:#86b300>"IN_HSL"</span><span style=color:#61676ccc>,
</span><span>InterpolationColorSpace</span><span style=color:#ed9366>::</span><span>HslLong </span><span style=color:#ed9366>=> </span><span style=color:#86b300>"IN_HSL_LONG"</span><span style=color:#61676ccc>,
</span><span>InterpolationColorSpace</span><span style=color:#ed9366>::</span><span>Hsv </span><span style=color:#ed9366>=> </span><span style=color:#86b300>"IN_HSV"</span><span style=color:#61676ccc>,
</span><span>InterpolationColorSpace</span><span style=color:#ed9366>::</span><span>HsvLong </span><span style=color:#ed9366>=> </span><span style=color:#86b300>"IN_HSV_LONG"</span><span style=color:#61676ccc>,
</span></code></pre><h3 id=release-content-release-notes-ui-gradients-md-3-3><code>release-content/release-notes/ui_gradients.md</code> (+3/-3)</h3><p>Updated documentation to mention new color spaces:<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span>-Colors can be interpolated between the stops in OKLab, OKLCH, SRGB and linear RGB color spaces.
</span><span>+Colors can be interpolated between the stops in OKLab, OKLCH, SRGB, HSL, HSV and linear RGB color spaces.
</span></code></pre><h2 id=further-reading>Further Reading</h2><ol><li><a rel="noopener nofollow noreferrer" href=https://en.wikipedia.org/wiki/HSL_and_HSV target=_blank>HSL and HSV color models</a><li><a rel="noopener nofollow noreferrer" href=https://www.vis4.net/blog/posts/mastering-multi-hued-color-scales/ target=_blank>Color Interpolation Techniques</a><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_ui/latest/bevy_ui/gradients/index.html target=_blank>Bevy Gradient Documentation</a></ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-07/pr_19992.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>