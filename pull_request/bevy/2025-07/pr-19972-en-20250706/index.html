<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #19972 consistently dont use smallvec default features
        
    </title><meta content="#19972 consistently dont use smallvec default features" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2025-07/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2025-07-06</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2025-07/pr-19972-zh-cn-20250706>中文</a></div></div><div class=pr-content><h1 id=analysis-of-pr-19972-consistently-dont-use-smallvec-default-features>Analysis of PR #19972: consistently dont use smallvec default features</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: consistently dont use smallvec default features<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/19972<li><strong>Author</strong>: atlv24<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, C-Dependencies, S-Ready-For-Final-Review, A-Cross-Cutting<li><strong>Created</strong>: 2025-07-05T21:26:20Z<li><strong>Merged</strong>: 2025-07-06T04:45:17Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>For smallvec, some crates specify default features as false, others don’t. Turns out we don’t need them</ul><h2 id=solution>Solution</h2><ul><li>Remove</ul><h2 id=testing>Testing</h2><ul><li>3d_scene</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>During routine dependency analysis, we identified inconsistent usage of the smallvec crate across Bevy’s codebase. Some crates explicitly disabled default features while others didn’t, creating unnecessary variation in dependency handling. This inconsistency could potentially lead to bloated dependencies and longer compile times since smallvec’s default features include the “std” feature, which pulls in Rust’s standard library support.<p>The solution was straightforward: uniformly disable smallvec’s default features across all Bevy crates. This approach maintains functionality while eliminating unnecessary dependencies. The change required modifying 12 Cargo.toml files to explicitly set <code>default-features = false</code> for smallvec dependencies. Where specific features were needed (like <code>const_new</code> or <code>union</code>), those were explicitly listed alongside the default-features flag.<p>The implementation is technically simple but has meaningful impact. By disabling default features, we avoid including smallvec’s std feature, which is redundant since Bevy always uses the standard library. This reduces dependency bloat and compile times without affecting functionality. The changes were validated by testing the 3d_scene example, confirming that all smallvec usage continued working as expected.<p>This cleanup improves build efficiency and maintains consistency across the codebase. It demonstrates good dependency hygiene - explicitly declaring only needed features avoids pulling in unnecessary code. The changes also make smallvec usage more consistent and easier to audit in the future.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[smallvec crate] --> B[Disable default features]
</span><span>    B --> C1[bevy_ecs]
</span><span>    B --> C2[bevy_animation]
</span><span>    B --> C3[bevy_camera]
</span><span>    B --> C4[bevy_core_pipeline]
</span><span>    B --> C5[Other Bevy crates]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-ecs-cargo-toml>crates/bevy_ecs/Cargo.toml</h3><p>Modified to disable smallvec default features while preserving required features:<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#399ee6>smallvec </span><span>= { </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"1"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>features </span><span>= [</span><span style=color:#86b300>"union"</span><span style=color:#61676ccc>, </span><span style=color:#86b300>"const_generics"</span><span>] }
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>smallvec </span><span>= { </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"1"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>default-features </span><span>= </span><span style=color:#ff8f40>false</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>features </span><span>= [
</span><span>  </span><span style=color:#86b300>"union"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"const_generics"</span><span style=color:#61676ccc>,
</span><span>] }
</span></code></pre><h3 id=crates-bevy-animation-cargo-toml>crates/bevy_animation/Cargo.toml</h3><p>Updated dependency declaration:<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#399ee6>smallvec </span><span>= </span><span style=color:#86b300>"1"
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>smallvec </span><span>= { </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"1"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>default-features </span><span>= </span><span style=color:#ff8f40>false </span><span>}
</span></code></pre><h3 id=crates-bevy-camera-cargo-toml>crates/bevy_camera/Cargo.toml</h3><p>Maintained const_new feature while disabling defaults:<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#399ee6>smallvec </span><span>= { </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"1.11"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>features </span><span>= [</span><span style=color:#86b300>"const_new"</span><span>] }
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>smallvec </span><span>= { </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"1"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>default-features </span><span>= </span><span style=color:#ff8f40>false</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>features </span><span>= [</span><span style=color:#86b300>"const_new"</span><span>] }
</span></code></pre><h3 id=crates-bevy-core-pipeline-cargo-toml>crates/bevy_core_pipeline/Cargo.toml</h3><p>Simplified declaration with disabled defaults:<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#399ee6>smallvec </span><span>= </span><span style=color:#86b300>"1"
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>smallvec </span><span>= { </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"1"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>default-features </span><span>= </span><span style=color:#ff8f40>false </span><span>}
</span></code></pre><h3 id=crates-bevy-gltf-cargo-toml>crates/bevy_gltf/Cargo.toml</h3><p>Updated dependency specification:<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#399ee6>smallvec </span><span>= </span><span style=color:#86b300>"1.11"
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>smallvec </span><span>= { </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"1"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>default-features </span><span>= </span><span style=color:#ff8f40>false </span><span>}
</span></code></pre><h2 id=further-reading>Further Reading</h2><ol><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/smallvec/latest/smallvec/ target=_blank>smallvec crate documentation</a><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/cargo/reference/features.html target=_blank>Cargo features guide</a><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/cargo/guide/dependencies.html target=_blank>Rust dependency management best practices</a></ol><h2 id=full-code-diff>Full Code Diff</h2><details><summary>View full diff (12 files modified)</summary> <pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_animation/Cargo.toml b/crates/bevy_animation/Cargo.toml
</span><span>index 380c276539398..a5de22f1a4cbd 100644
</span><span style=color:#c594c5>--- a/crates/bevy_animation/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_animation/Cargo.toml
</span><span style=color:#c594c5>@@ -41,7 +41,7 @@ </span><span style=color:#399ee6>derive_more = { version = "2", default-features = false, features = ["from"] }
</span><span> either = "1.13"
</span><span> thread_local = "1"
</span><span> uuid = { version = "1.13.1", features = ["v4"] }
</span><span style=color:#f07171>-smallvec = "1"
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false }
</span><span> tracing = { version = "0.1", default-features = false, features = ["std"] }
</span><span> 
</span><span> [target.'cfg(target_arch = "wasm32")'.dependencies]
</span><span>diff --git a/crates/bevy_camera/Cargo.toml b/crates/bevy_camera/Cargo.toml
</span><span>index 65aadce0eb416..6ed3998a82165 100644
</span><span style=color:#c594c5>--- a/crates/bevy_camera/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_camera/Cargo.toml
</span><span style=color:#c594c5>@@ -31,7 +31,7 @@ </span><span style=color:#399ee6>serde = { version = "1", default-features = false, features = ["derive"] }
</span><span> thiserror = { version = "2", default-features = false }
</span><span> downcast-rs = { version = "2", default-features = false, features = ["std"] }
</span><span> derive_more = { version = "2", default-features = false, features = ["from"] }
</span><span style=color:#f07171>-smallvec = { version = "1.11", features = ["const_new"] }
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false, features = ["const_new"] }
</span><span> 
</span><span> [features]
</span><span> default = []
</span><span>diff --git a/crates/bevy_core_pipeline/Cargo.toml b/crates/bevy_core_pipeline/Cargo.toml
</span><span>index 680d57efa1db9..837869bc072d0 100644
</span><span style=color:#c594c5>--- a/crates/bevy_core_pipeline/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_core_pipeline/Cargo.toml
</span><span style=color:#c594c5>@@ -43,7 +43,7 @@ </span><span style=color:#399ee6>serde = { version = "1", features = ["derive"] }
</span><span> bitflags = "2.3"
</span><span> radsort = "0.1"
</span><span> nonmax = "0.5"
</span><span style=color:#f07171>-smallvec = "1"
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false }
</span><span> thiserror = { version = "2", default-features = false }
</span><span> tracing = { version = "0.1", default-features = false, features = ["std"] }
</span><span> bytemuck = { version = "1" }
</span><span>diff --git a/crates/bevy_ecs/Cargo.toml b/crates/bevy_ecs/Cargo.toml
</span><span>index 8fd5f6eb9cbda..f0f9b782afff2 100644
</span><span style=color:#c594c5>--- a/crates/bevy_ecs/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_ecs/Cargo.toml
</span><span style=color:#c594c5>@@ -112,7 +112,10 @@ </span><span style=color:#399ee6>derive_more = { version = "2", default-features = false, features = [
</span><span> ] }
</span><span> nonmax = { version = "0.5", default-features = false }
</span><span> arrayvec = { version = "0.7.4", default-features = false, optional = true }
</span><span style=color:#f07171>-smallvec = { version = "1", features = ["union", "const_generics"] }
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false, features = [
</span><span style=color:#86b300>+  "union",
</span><span style=color:#86b300>+  "const_generics",
</span><span style=color:#86b300>+] }
</span><span> indexmap = { version = "2.5.0", default-features = false }
</span><span> variadics_please = { version = "1.1", default-features = false }
</span><span> tracing = { version = "0.1", default-features = false, optional = true }
</span><span>diff --git a/crates/bevy_gltf/Cargo.toml b/crates/bevy_gltf/Cargo.toml
</span><span>index 36e9508f4c9e4..e35d7771f5b75 100644
</span><span style=color:#c594c5>--- a/crates/bevy_gltf/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_gltf/Cargo.toml
</span><span style=color:#c594c5>@@ -63,7 +63,7 @@ </span><span style=color:#399ee6>itertools = "0.14"
</span><span> percent-encoding = "2.1"
</span><span> serde = { version = "1.0", features = ["derive"] }
</span><span> serde_json = "1.0.140"
</span><span style=color:#f07171>-smallvec = "1.11"
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false }
</span><span> tracing = { version = "0.1", default-features = false, features = ["std"] }
</span><span> bevy_log = { path = "../bevy_log", version = "0.17.0-dev" }
</span><span> 
</span><span>diff --git a/crates/bevy_math/Cargo.toml b/crates/bevy_math/Cargo.toml
</span><span>index 3fad8e620953e..459ff6e90a545 100644
</span><span style=color:#c594c5>--- a/crates/bevy_math/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_math/Cargo.toml
</span><span style=color:#c594c5>@@ -24,7 +24,7 @@ </span><span style=color:#399ee6>libm = { version = "0.2", optional = true }
</span><span> approx = { version = "0.5", default-features = false, optional = true }
</span><span> rand = { version = "0.8", default-features = false, optional = true }
</span><span> rand_distr = { version = "0.4.3", optional = true }
</span><span style=color:#f07171>-smallvec = { version = "1.11" }
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false }
</span><span> bevy_reflect = { path = "../bevy_reflect", version = "0.17.0-dev", default-features = false, features = [
</span><span>   "glam",
</span><span> ], optional = true }
</span><span>diff --git a/crates/bevy_pbr/Cargo.toml b/crates/bevy_pbr/Cargo.toml
</span><span>index 754627558cfd7..f183e4e0442b4 100644
</span><span style=color:#c594c5>--- a/crates/bevy_pbr/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_pbr/Cargo.toml
</span><span style=color:#c594c5>@@ -71,7 +71,7 @@ </span><span style=color:#399ee6>bitvec = { version = "1", optional = true }
</span><span> # direct dependency required for derive macro
</span><span> bytemuck = { version = "1", features = ["derive", "must_cast"] }
</span><span> radsort = "0.1"
</span><span style=color:#f07171>-smallvec = "1.6"
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false }
</span><span> nonmax = "0.5"
</span><span> static_assertions = "1"
</span><span> tracing = { version = "0.1", default-features = false, features = ["std"] }
</span><span>diff --git a/crates/bevy_reflect/Cargo.toml b/crates/bevy_reflect/Cargo.toml
</span><span>index aba26258b68b0..8e2d4d0f38c4b 100644
</span><span style=color:#c594c5>--- a/crates/bevy_reflect/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_reflect/Cargo.toml
</span><span style=color:#c594c5>@@ -96,7 +96,7 @@ </span><span style=color:#399ee6>thiserror = { version = "2", default-features = false }
</span><span> derive_more = { version = "2", default-features = false, features = ["from"] }
</span><span> serde = { version = "1", default-features = false, features = ["alloc"] }
</span><span> assert_type_match = "0.1.1"
</span><span style=color:#f07171>-smallvec = { version = "1.11", default-features = false, optional = true }
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false, optional = true }
</span><span> glam = { version = "0.29.3", default-features = false, features = [
</span><span>   "serde",
</span><span> ], optional = true }
</span><span>diff --git a/crates/bevy_render/Cargo.toml b/crates/bevy_render/Cargo.toml
</span><span>index e8f076f014af9..27463b9272feb 100644
</span><span style=color:#c594c5>--- a/crates/bevy_render/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_render/Cargo.toml
</span><span style=color:#c594c5>@@ -114,7 +114,7 @@ </span><span style=color:#399ee6>profiling = { version = "1", features = [
</span><span> ], optional = true }
</span><span> async-channel = "2.3.0"
</span><span> nonmax = "0.5"
</span><span style=color:#f07171>-smallvec = { version = "1.11", features = ["const_new"] }
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false, features = ["const_new"] }
</span><span> offset-allocator = "0.2"
</span><span> variadics_please = "1.1"
</span><span> tracing = { version = "0.1", default-features = false, features = ["std"] }
</span><span>diff --git a/crates/bevy_text/Cargo.toml b/crates/bevy_text/Cargo.toml
</span><span>index c71fb5ce0c1bd..58bcfb1c5b7b2 100644
</span><span style=color:#c594c5>--- a/crates/bevy_text/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_text/Cargo.toml
</span><span style=color:#c594c5>@@ -36,7 +36,7 @@ </span><span style=color:#399ee6>bevy_platform = { path = "../bevy_platform", version = "0.17.0-dev", default-fea
</span><span> cosmic-text = { version = "0.14", features = ["shape-run-cache"] }
</span><span> thiserror = { version = "2", default-features = false }
</span><span> serde = { version = "1", features = ["derive"] }
</span><span style=color:#f07171>-smallvec = "1.13"
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false }
</span><span> unicode-bidi = "0.3.13"
</span><span> sys-locale = "0.3.0"
</span><span> tracing = { version = "0.1", default-features = false, features = ["std"] }
</span><span>diff --git a/crates/bevy_ui/Cargo.toml b/crates/bevy_ui/Cargo.toml
</span><span>index d26226eb2ef0a..86297f6df6b4e 100644
</span><span style=color:#c594c5>--- a/crates/bevy_ui/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_ui/Cargo.toml
</span><span style=color:#c594c5>@@ -40,7 +40,7 @@ </span><span style=color:#399ee6>bytemuck = { version = "1.5", features = ["derive"] }
</span><span> thiserror = { version = "2", default-features = false }
</span><span> derive_more = { version = "2", default-features = false, features = ["from"] }
</span><span> nonmax = "0.5"
</span><span style=color:#f07171>-smallvec = "1.11"
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false }
</span><span> accesskit = "0.19"
</span><span> tracing = { version = "0.1", default-features = false, features = ["std"] }
</span><span> 
</span><span>diff --git a/crates/bevy_ui_render/Cargo.toml b/crates/bevy_ui_render/Cargo.toml
</span><span>index 4f01fdf57097c..249372c7f039a 100644
</span><span style=color:#c594c5>--- a/crates/bevy_ui_render/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_ui_render/Cargo.toml
</span><span style=color:#c594c5>@@ -37,7 +37,7 @@ </span><span style=color:#399ee6>bytemuck = { version = "1.5", features = ["derive"] }
</span><span> thiserror = { version = "2", default-features = false }
</span><span> derive_more = { version = "1", default-features = false, features = ["from"] }
</span><span> nonmax = "0.5"
</span><span style=color:#f07171>-smallvec = "1.11"
</span><span style=color:#86b300>+smallvec = { version = "1", default-features = false }
</span><span> accesskit = "0.18"
</span><span> tracing = { version = "0.1", default-features = false, features = ["std"] }
</span><span> 
</span></code></pre></details></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2025-07/pr_19972.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>