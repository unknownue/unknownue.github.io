<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22820 Add glTF scene name loading
        
    </title><meta content="#22820 Add glTF scene name loading" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-09</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-22820-zh-cn-20260209>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>Add glTF scene name loading<h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Add glTF scene name loading<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22820<li><strong>Author</strong>: ChristopherBiscardi<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Feature, A-Assets, S-Ready-For-Final-Review, A-glTF<li><strong>Created</strong>: 2026-02-05T20:01:09Z<li><strong>Merged</strong>: 2026-02-09T22:24:31Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>glTF scenes often have names. Our loader code does not insert them. This results in tools like bevy_inspector_egui showing <code>Entity</code> on the scene’s root entity instead of “MyPlayerScene” or whatever it was named in blender, etc.<h2 id=solution>Solution</h2><p>Use names if they exist, otherwise use a default name based on the glTF index of the scene which mirrors other usage.<h2 id=testing>Testing</h2><p>I loaded <code>models/FlightHelmet/FlightHelmet.gltf</code> and <code>models/cube/cube.gltf</code> into the <code>3d_scene</code> example and wrote a small system to check for the existence of <code>Name</code> components. With this patch, the <code>Scene</code> and <code>Scene0</code> names will log out (<code>FlightHelmet</code> doesn’t have a name, so will print <code>Scene0</code> while <code>cube</code> has a name, which is <code>Scene</code> without the index).<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>fn </span><span style=color:#f29718>update</span><span>(</span><span style=color:#ff8f40>query</span><span style=color:#61676ccc>: </span><span>Query<</span><span style=color:#ed9366>&</span><span>Name>) {
</span><span>    </span><span style=color:#fa6e32>for</span><span> item </span><span style=color:#ed9366>in &</span><span>query {
</span><span>        </span><span style=color:#f07171>dbg!</span><span>(item)</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span></code></pre><hr><p><code>GltfSceneName</code> is now also inserted to mirror <code>GltfMeshName</code> and <code>GltfMaterialName</code>.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a usability issue in Bevy’s glTF loader where scene names from glTF files weren’t being applied to the spawned entities. When importing glTF assets created in tools like Blender, developers would see generic <code>Entity</code> labels in debugging tools like <code>bevy_inspector_egui</code> instead of meaningful scene names like “MyPlayerScene” or “Environment.”<p>The core problem was that while Bevy’s glTF loader already handled names for individual components like meshes and materials through dedicated components (<code>GltfMeshName</code> and <code>GltfMaterialName</code>), it didn’t provide the same treatment for entire scenes. This made scene hierarchy debugging and entity identification more difficult than necessary.<p>The solution follows a pattern already established elsewhere in the glTF loader. When spawning the root entity for a glTF scene, the code now checks if the glTF scene has a name field. If it does, that name is used for the entity’s <code>Name</code> component. If not, it falls back to a default naming convention using the scene’s index (e.g., “Scene0”, “Scene1”), which matches how unnamed meshes and materials are handled.<p>The implementation adds a new component type <code>GltfSceneName</code> to store the original glTF scene name, maintaining consistency with the existing <code>GltfMeshName</code> and <code>GltfMaterialName</code> components. This allows developers to access the original glTF metadata if needed, separate from the entity’s display name.<p>The changes are minimal and focused. In the scene loading code, when creating the root entity, a <code>Name</code> component is now always inserted with either the scene’s name or a generated default. Additionally, if the scene has a name in the glTF file, a <code>GltfSceneName</code> component is added containing that original name. This dual approach provides both usability (entities have readable names in tools) and data preservation (the original glTF metadata is accessible).<p>From an engineering perspective, this change improves the developer experience without introducing breaking changes. The fallback naming ensures backward compatibility for unnamed scenes, and the new component follows the same pattern as existing glTF metadata components. The implementation also properly handles the coordinate conversion step by placing the naming logic after the world root transform is created but before children are spawned.<p>The testing approach described by the author is practical - loading existing glTF models and verifying the name components appear as expected. The two test cases (a scene with a name and one without) cover both code paths and ensure the fallback mechanism works correctly.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[glTF Scene Loading] --> B{Scene has name?}
</span><span>    B -->|Yes| C[Insert Name component with scene name]
</span><span>    B -->|No| D[Insert Name component with "Scene{index}"]
</span><span>    C --> E[Insert GltfSceneName component]
</span><span>    D --> F[Skip GltfSceneName component]
</span><span>    
</span><span>    G[Existing Pattern] --> H[GltfMeshName component]
</span><span>    G --> I[GltfMaterialName component]
</span><span>    E --> J[New: GltfSceneName component]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>File: <code>crates/bevy_gltf/src/assets.rs</code> (+15/-0)</strong><p>This file defines the new <code>GltfSceneName</code> component that stores the original glTF scene name. The component follows the same pattern as existing glTF metadata components with <code>Deref</code> implementation for string access and proper reflection setup.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Added component definition
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Clone</span><span style=color:#61676ccc>,</span><span> Debug</span><span style=color:#61676ccc>,</span><span> Reflect</span><span style=color:#61676ccc>,</span><span> Default</span><span style=color:#61676ccc>,</span><span> Component)]
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>reflect</span><span>(Component</span><span style=color:#61676ccc>,</span><span> Clone)]
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>GltfSceneName</span><span>(pub String)</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#fa6e32>impl </span><span>Deref </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>GltfSceneName </span><span>{
</span><span>    </span><span style=color:#fa6e32>type </span><span style=color:#399ee6>Target </span><span style=color:#ed9366>= </span><span style=color:#fa6e32>str</span><span style=color:#61676ccc>;
</span><span>
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>deref</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Target {
</span><span>        </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0.</span><span style=color:#f07171>as_ref</span><span>()
</span><span>    }
</span><span>}
</span></code></pre><p><strong>File: <code>crates/bevy_gltf/src/loader/mod.rs</code> (+17/-2)</strong><p>This file contains the loader logic that was modified to include scene names. The changes occur in the scene spawning code where the root entity is created.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before: (simplified)
</span><span style=color:#fa6e32>let</span><span> world_root_id </span><span style=color:#ed9366>=</span><span> world
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((world_root_transform</span><span style=color:#61676ccc>, </span><span>Visibility</span><span style=color:#ed9366>::</span><span>default()))
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>with_children</span><span>(|</span><span style=color:#ff8f40>parent</span><span>| {
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// ... spawn child nodes
</span><span>    })
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>id</span><span>()</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>let</span><span> world_root_id </span><span style=color:#ed9366>=</span><span> world
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>        world_root_transform</span><span style=color:#61676ccc>,
</span><span>        Visibility</span><span style=color:#ed9366>::</span><span>default()</span><span style=color:#61676ccc>,
</span><span>        Name</span><span style=color:#ed9366>::</span><span>new(
</span><span>            scene
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>name</span><span>()
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>map</span><span>(</span><span style=color:#55b4d4;font-style:italic>ToOwned</span><span style=color:#ed9366>::</span><span>to_owned)
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>unwrap_or_else</span><span>(|| </span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"Scene</span><span style=color:#ff8f40>{}</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> scene</span><span style=color:#ed9366>.</span><span style=color:#f07171>index</span><span>()))</span><span style=color:#61676ccc>,
</span><span>        )</span><span style=color:#61676ccc>,
</span><span>    ))
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>with_children</span><span>(|</span><span style=color:#ff8f40>parent</span><span>| {
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// ... spawn child nodes
</span><span>    })
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>id</span><span>()</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Additional code to insert GltfSceneName if the scene has a name
</span><span style=color:#fa6e32>if let </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(scene_name) </span><span style=color:#ed9366>=</span><span> scene</span><span style=color:#ed9366>.</span><span style=color:#f07171>name</span><span>() {
</span><span>    world
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>entity_mut</span><span>(world_root_id)
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>insert</span><span>(GltfSceneName(scene_name</span><span style=color:#ed9366>.</span><span style=color:#f07171>to_owned</span><span>()))</span><span style=color:#61676ccc>;
</span><span>}</span><span style=color:#61676ccc>;
</span></code></pre><p>The key changes are:<ol><li>Always inserting a <code>Name</code> component with either the scene’s name or a generated default<li>Conditionally inserting a <code>GltfSceneName</code> component when the scene has a name in the glTF file<li>Importing the new <code>GltfSceneName</code> type at the top of the file</ol><h2 id=further-reading>Further Reading</h2><ol><li><a rel="noopener nofollow noreferrer" href=https://registry.khronos.org/glTF/specs/2.0/glTF-2.0.html#reference-scene target=_blank>glTF 2.0 Specification - Scene Reference</a><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_ecs/latest/bevy_ecs/component/trait.Component.html target=_blank>Bevy ECS Components Documentation</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/tree/main/crates/bevy_gltf target=_blank>Bevy glTF Loader Source Code</a><li><a rel="noopener nofollow noreferrer" href=https://github.com/jakobhellermann/bevy-inspector-egui target=_blank>Bevy Inspector Egui - Entity Inspector</a></ol><h1 id=full-code-diff>Full Code Diff</h1><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_gltf/src/assets.rs b/crates/bevy_gltf/src/assets.rs
</span><span>index 62cea475f226f..07eebcc552003 100644
</span><span style=color:#c594c5>--- a/crates/bevy_gltf/src/assets.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_gltf/src/assets.rs
</span><span style=color:#c594c5>@@ -288,6 +288,21 @@ </span><span style=color:#399ee6>pub struct GltfSceneExtras {
</span><span>     pub value: String,
</span><span> }
</span><span> 
</span><span style=color:#86b300>+/// The name of a glTF scene.
</span><span style=color:#86b300>+///
</span><span style=color:#86b300>+/// See [the relevant glTF specification section](https://registry.khronos.org/glTF/specs/2.0/glTF-2.0.html#reference-scene).
</span><span style=color:#86b300>+#[derive(Clone, Debug, Reflect, Default, Component)]
</span><span style=color:#86b300>+#[reflect(Component, Clone)]
</span><span style=color:#86b300>+pub struct GltfSceneName(pub String);
</span><span style=color:#86b300>+
</span><span style=color:#86b300>+impl Deref for GltfSceneName {
</span><span style=color:#86b300>+    type Target = str;
</span><span style=color:#86b300>+
</span><span style=color:#86b300>+    fn deref(&self) -> &Self::Target {
</span><span style=color:#86b300>+        self.0.as_ref()
</span><span style=color:#86b300>+    }
</span><span style=color:#86b300>+}
</span><span style=color:#86b300>+
</span><span> /// Additional untyped data that can be present on most glTF types at the mesh level.
</span><span> ///
</span><span> /// See [the relevant glTF specification section](https://registry.khronos.org/glTF/specs/2.0/glTF-2.0.html#reference-extras).
</span><span>diff --git a/crates/bevy_gltf/src/loader/mod.rs b/crates/bevy_gltf/src/loader/mod.rs
</span><span>index ac9af452a6e0e..d764d38f10c78 100644
</span><span style=color:#c594c5>--- a/crates/bevy_gltf/src/loader/mod.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_gltf/src/loader/mod.rs
</span><span style=color:#c594c5>@@ -57,7 +57,7 @@ </span><span style=color:#399ee6>use tracing::{error, info_span, warn};
</span><span> use crate::{
</span><span>     convert_coordinates::ConvertCoordinates as _, vertex_attributes::convert_attribute, Gltf,
</span><span>     GltfAssetLabel, GltfExtras, GltfMaterial, GltfMaterialExtras, GltfMaterialName, GltfMeshExtras,
</span><span style=color:#f07171>-    GltfMeshName, GltfNode, GltfSceneExtras, GltfSkin, GltfSkinnedMeshBoundsPolicy,
</span><span style=color:#86b300>+    GltfMeshName, GltfNode, GltfSceneExtras, GltfSceneName, GltfSkin, GltfSkinnedMeshBoundsPolicy,
</span><span> };
</span><span> 
</span><span> #[cfg(feature = "bevy_animation")]
</span><span style=color:#c594c5>@@ -999,7 +999,16 @@ </span><span style=color:#399ee6>impl GltfLoader {
</span><span>             let world_root_transform = convert_coordinates.scene_conversion_transform();
</span><span> 
</span><span>             let world_root_id = world
</span><span style=color:#f07171>-                .spawn((world_root_transform, Visibility::default()))
</span><span style=color:#86b300>+                .spawn((
</span><span style=color:#86b300>+                    world_root_transform,
</span><span style=color:#86b300>+                    Visibility::default(),
</span><span style=color:#86b300>+                    Name::new(
</span><span style=color:#86b300>+                        scene
</span><span style=color:#86b300>+                            .name()
</span><span style=color:#86b300>+                            .map(ToOwned::to_owned)
</span><span style=color:#86b300>+                            .unwrap_or_else(|| format!("Scene{}", scene.index())),
</span><span style=color:#86b300>+                    ),
</span><span style=color:#86b300>+                ))
</span><span>                 .with_children(|parent| {
</span><span>                     for node in scene.nodes() {
</span><span>                         let result = load_node(
</span><span style=color:#c594c5>@@ -1029,6 +1038,12 @@ </span><span style=color:#399ee6>impl GltfLoader {
</span><span>                 })
</span><span>                 .id();
</span><span> 
</span><span style=color:#86b300>+            if let Some(scene_name) = scene.name() {
</span><span style=color:#86b300>+                world
</span><span style=color:#86b300>+                    .entity_mut(world_root_id)
</span><span style=color:#86b300>+                    .insert(GltfSceneName(scene_name.to_owned()));
</span><span style=color:#86b300>+            };
</span><span style=color:#86b300>+
</span><span>             if let Some(extras) = scene.extras().as_ref() {
</span><span>                 world.entity_mut(world_root_id).insert(GltfSceneExtras {
</span><span>                     value: extras.get().to_string(),
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22820.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>