<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22813 Batch prepasses that use depth only
        
    </title><meta content="#22813 Batch prepasses that use depth only" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-06</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-22813-zh-cn-20260206>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=batch-prepasses-that-use-depth-only>Batch prepasses that use depth only</h2><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Batch prepasses that use depth only<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22813<li><strong>Author</strong>: tychedelia<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: A-Rendering, C-Performance, S-Ready-For-Final-Review<li><strong>Created</strong>: 2026-02-05T08:15:58Z<li><strong>Merged</strong>: 2026-02-06T19:45:59Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p>For prepasses that don’t need to access material data or write normals/motion vectors, we can batch them together. To do so, we store a new draw command that binds an empty bind group in place of the material bindings and add <code>None</code> for the material id to the batch set key.<p>Testing:<pre class=language-sh data-lang=sh style=color:#61676c;background-color:#fafafa><code class=language-sh data-lang=sh><span style=color:#f29718>cargo</span><span> run</span><span style=color:#ff8f40> --example</span><span> many_cubes</span><span style=color:#ff8f40> --release</span><span style=color:#ed9366> --</span><span> --shadows --material-texture-count 10
</span></code></pre><p>main: <img alt=image height=174 src=https://github.com/user-attachments/assets/bafdb7a2-e119-423e-a7a8-e527dbcfa81a width=368><p>this: <img alt=image height=174 src=https://github.com/user-attachments/assets/c852e879-1801-450e-a1ed-207871544b83 width=368><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a performance optimization opportunity in Bevy’s rendering pipeline. The core problem was that prepass rendering couldn’t efficiently batch draw calls when only depth information was needed, particularly for shadow mapping and simple depth prepasses.<p>In Bevy’s renderer, prepasses are specialized rendering phases that generate intermediate data like depth buffers, normals, and motion vectors before the main render. The existing implementation treated all prepasses similarly, requiring material bind groups even when they weren’t actually used. This prevented batching across different materials because each material had a unique bind group, forcing separate draw calls.<p>The solution introduces a distinction between “full” prepasses that need material data (for normals, motion vectors, etc.) and “depth-only” prepasses that only require depth information. For depth-only cases, the implementation now uses an empty bind group instead of material-specific ones, allowing multiple meshes with different materials to be batched together in a single draw call.<p>The implementation started by adding new draw function labels for depth-only prepasses. In <code>material.rs</code>, two new labels were defined: <code>PrepassOpaqueDepthOnlyDrawFunction</code> and <code>ShadowsDepthOnlyDrawFunction</code>. These labels are registered in their respective plugins and integrated into the draw function lookup system.<p>The key technical insight was modifying the pipeline specialization logic in <code>prepass/mod.rs</code>. A new helper function <code>is_depth_only_opaque_prepass()</code> determines when a prepass only needs depth by checking if the mesh key contains only the <code>DEPTH_PREPASS</code> flag. When this condition is met and unclipped depth emulation isn’t required, the pipeline specialization uses an empty bind group layout instead of the material-specific layout.<p>The cache system was extended to store draw function IDs alongside pipeline IDs. Previously, <code>SpecializedPrepassMaterialViewPipelineCache</code> only stored <code>(Tick, CachedRenderPipelineId)</code>. Now it stores <code>(Tick, CachedRenderPipelineId, DrawFunctionId)</code>, allowing the queueing system to know which draw function (depth-only or regular) to use for each cached pipeline.<p>The queueing logic in <code>queue_prepass_material_meshes()</code> and <code>queue_shadows()</code> was updated to handle the depth-only case. When a depth-only draw function is detected, the material bind group index is set to <code>None</code> in the batch key, allowing batching across different materials. This is a significant optimization because it reduces the number of draw calls when rendering shadows or depth prepasses for scenes with many different materials.<p>A similar approach was applied to shadow rendering in <code>render/light.rs</code>. The shadow specialization logic now checks if the prepass is depth-only (no material reads, no discard operations, no unclipped depth emulation) and selects the appropriate draw function. The shadow queueing then uses <code>None</code> for the material bind group index when using the depth-only draw function.<p>The <code>MeshPipelineKey</code> was extended with a <code>PREPASS_READS_MATERIAL</code> flag and an <code>ALL_PREPASS_BITS</code> mask to properly identify which prepass bits are relevant for determining if material data is needed.<p>Performance improvements are demonstrated in the PR’s example images. The “many_cubes” example with shadows and multiple material textures shows reduced draw call counts and improved batching efficiency. This optimization is particularly valuable for scenes with many objects using different materials but sharing the same depth-only rendering requirements, such as shadow map generation.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Material Plugin] --> B[Register Draw Commands]
</span><span>    B --> C[Add Depth-Only Draw Functions]
</span><span>    C --> D[Prepass Pipeline Specialization]
</span><span>    D --> E{Depth-Only Prepass?}
</span><span>    E -->|Yes| F[Use Empty Bind Group]
</span><span>    E -->|No| G[Use Material Bind Group]
</span><span>    F --> H[Batch Across Materials]
</span><span>    G --> I[Separate Batches per Material]
</span><span>    H --> J[Queue Prepass Meshes]
</span><span>    I --> J
</span><span>    D --> K[Shadow Pipeline Specialization]
</span><span>    K --> L{Depth-Only Shadow?}
</span><span>    L -->|Yes| M[Use Empty Bind Group]
</span><span>    L -->|No| N[Use Material Bind Group]
</span><span>    M --> O[Batch Across Materials]
</span><span>    N --> P[Separate Batches per Material]
</span><span>    O --> Q[Queue Shadow Meshes]
</span><span>    P --> Q
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-pbr-src-prepass-mod-rs-134-85><code>crates/bevy_pbr/src/prepass/mod.rs</code> (+134/-85)</h3><p>This file contains the core implementation changes for depth-only prepass batching.<p><strong>Key changes:</strong><ol><li>Added <code>is_depth_only_opaque_prepass()</code> helper function to identify depth-only prepasses<li>Modified pipeline specialization to use empty bind group for depth-only prepasses<li>Added new draw command <code>DrawDepthOnlyPrepass</code> with empty material bind group<li>Updated cache to store draw function IDs alongside pipeline IDs<li>Enhanced queueing logic to handle depth-only batching</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// New helper function
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_depth_only_opaque_prepass</span><span>(</span><span style=color:#ff8f40>mesh_key</span><span style=color:#61676ccc>:</span><span> MeshPipelineKey) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    mesh_key</span><span style=color:#ed9366>.</span><span style=color:#f07171>intersection</span><span>(MeshPipelineKey</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>ALL_PREPASS_BITS</span><span>) </span><span style=color:#ed9366>== </span><span>MeshPipelineKey</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>DEPTH_PREPASS
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Modified pipeline specialization
</span><span style=color:#fa6e32>if </span><span style=color:#f07171>is_depth_only_opaque_prepass</span><span>(mesh_key) </span><span style=color:#ed9366>&& !</span><span>emulate_unclipped_depth {
</span><span>    bind_group_layouts</span><span style=color:#ed9366>.</span><span style=color:#f07171>push</span><span>(</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>empty_layout</span><span style=color:#ed9366>.</span><span style=color:#f07171>clone</span><span>())</span><span style=color:#61676ccc>;
</span><span>} </span><span style=color:#fa6e32>else </span><span>{
</span><span>    bind_group_layouts</span><span style=color:#ed9366>.</span><span style=color:#f07171>push</span><span>(
</span><span>        material_properties
</span><span>            </span><span style=color:#ed9366>.</span><span>material_layout
</span><span>            </span><span style=color:#ed9366>.</span><span style=color:#f07171>as_ref</span><span>()
</span><span>            </span><span style=color:#ed9366>.</span><span style=color:#f07171>unwrap</span><span>()
</span><span>            </span><span style=color:#ed9366>.</span><span style=color:#f07171>clone</span><span>()</span><span style=color:#61676ccc>,
</span><span>    )</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// New draw command
</span><span style=color:#fa6e32>pub type </span><span style=color:#399ee6>DrawDepthOnlyPrepass </span><span style=color:#ed9366>= </span><span>(
</span><span>    SetItemPipeline</span><span style=color:#61676ccc>,
</span><span>    SetPrepassViewBindGroup&LT0></span><span style=color:#61676ccc>,
</span><span>    SetPrepassViewEmptyBindGroup&LT1></span><span style=color:#61676ccc>,
</span><span>    SetMeshBindGroup&LT2></span><span style=color:#61676ccc>,
</span><span>    SetPrepassEmptyMaterialBindGroup&LT3></span><span style=color:#61676ccc>,
</span><span>    DrawMesh</span><span style=color:#61676ccc>,
</span><span>)</span><span style=color:#61676ccc>;
</span></code></pre><h3 id=crates-bevy-pbr-src-render-light-rs-39-12><code>crates/bevy_pbr/src/render/light.rs</code> (+39/-12)</h3><p>This file applies similar optimizations to shadow rendering.<p><strong>Key changes:</strong><ol><li>Updated shadow cache to store draw function IDs<li>Added logic to select depth-only draw function for shadows<li>Modified shadow queueing to use empty bind groups for depth-only cases</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Determine if shadow is depth-only
</span><span style=color:#fa6e32>let</span><span> is_depth_only_opaque </span><span style=color:#ed9366>= !</span><span>item
</span><span>    </span><span style=color:#ed9366>.</span><span>mesh_key
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>intersects</span><span>(MeshPipelineKey</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>MAY_DISCARD </span><span style=color:#ed9366>| </span><span>MeshPipelineKey</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>PREPASS_READS_MATERIAL</span><span>)
</span><span>    </span><span style=color:#ed9366>&& !</span><span>emulate_unclipped_depth</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>let</span><span> draw_function </span><span style=color:#ed9366>= </span><span style=color:#fa6e32>if</span><span> is_depth_only_opaque {
</span><span>    item</span><span style=color:#ed9366>.</span><span>properties
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>get_draw_function</span><span>(ShadowsDepthOnlyDrawFunction)
</span><span>} </span><span style=color:#fa6e32>else </span><span>{
</span><span>    item</span><span style=color:#ed9366>.</span><span>properties</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_draw_function</span><span>(ShadowsDrawFunction)
</span><span>}</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// In queueing, conditionally use material bind group
</span><span style=color:#fa6e32>let</span><span> depth_only_draw_function </span><span style=color:#ed9366>=</span><span> material
</span><span>    </span><span style=color:#ed9366>.</span><span>properties
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>get_draw_function</span><span>(ShadowsDepthOnlyDrawFunction)</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>let</span><span> material_bind_group_index </span><span style=color:#ed9366>= </span><span style=color:#fa6e32>if </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(draw_function) </span><span style=color:#ed9366>==</span><span> depth_only_draw_function {
</span><span>    </span><span style=color:#55b4d4;font-style:italic>None
</span><span>} </span><span style=color:#fa6e32>else </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(material</span><span style=color:#ed9366>.</span><span>binding</span><span style=color:#ed9366>.</span><span>group</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span>)
</span><span>}</span><span style=color:#61676ccc>;
</span></code></pre><h3 id=crates-bevy-pbr-src-material-rs-17-0><code>crates/bevy_pbr/src/material.rs</code> (+17/-0)</h3><p>This file adds the necessary draw function labels and registers the new draw commands.<p><strong>Key changes:</strong><ol><li>Added new draw function labels for depth-only prepasses and shadows<li>Registered the new draw commands in the plugin system</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// New draw function labels
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(DrawFunctionLabel</span><span style=color:#61676ccc>,</span><span> Debug</span><span style=color:#61676ccc>,</span><span> Hash</span><span style=color:#61676ccc>,</span><span> PartialEq</span><span style=color:#61676ccc>,</span><span> Eq</span><span style=color:#61676ccc>,</span><span> Clone</span><span style=color:#61676ccc>,</span><span> Default)]
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>PrepassOpaqueDepthOnlyDrawFunction</span><span style=color:#61676ccc>;
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(DrawFunctionLabel</span><span style=color:#61676ccc>,</span><span> Debug</span><span style=color:#61676ccc>,</span><span> Hash</span><span style=color:#61676ccc>,</span><span> PartialEq</span><span style=color:#61676ccc>,</span><span> Eq</span><span style=color:#61676ccc>,</span><span> Clone</span><span style=color:#61676ccc>,</span><span> Default)]
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>ShadowsDepthOnlyDrawFunction</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Registration in plugin
</span><span style=color:#ed9366>.</span><span>add_render_command</span><span style=color:#ed9366>::</span><span>&LTShadow, DrawDepthOnlyPrepass>()
</span></code></pre><h3 id=crates-bevy-pbr-src-render-mesh-rs-9-1><code>crates/bevy_pbr/src/render/mesh.rs</code> (+9/-1)</h3><p>This file extends the mesh pipeline key with new flags for prepass classification.<p><strong>Key changes:</strong><ol><li>Added <code>PREPASS_READS_MATERIAL</code> flag to identify prepasses that need material data<li>Added <code>ALL_PREPASS_BITS</code> mask for easier prepass bit testing</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>const </span><span style=color:#ff8f40>PREPASS_READS_MATERIAL            </span><span style=color:#ed9366>= </span><span style=color:#ff8f40>1 </span><span style=color:#ed9366><< </span><span style=color:#ff8f40>24</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>const </span><span style=color:#ff8f40>ALL_PREPASS_BITS                  </span><span style=color:#ed9366>= </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>DEPTH_PREPASS</span><span style=color:#ed9366>.</span><span style=color:#f07171>bits</span><span>()
</span><span>                                        </span><span style=color:#ed9366>| </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NORMAL_PREPASS</span><span style=color:#ed9366>.</span><span style=color:#f07171>bits</span><span>()
</span><span>                                        </span><span style=color:#ed9366>| </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>DEFERRED_PREPASS</span><span style=color:#ed9366>.</span><span style=color:#f07171>bits</span><span>()
</span><span>                                        </span><span style=color:#ed9366>| </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>MOTION_VECTOR_PREPASS</span><span style=color:#ed9366>.</span><span style=color:#f07171>bits</span><span>()
</span><span>                                        </span><span style=color:#ed9366>| </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>MAY_DISCARD</span><span style=color:#ed9366>.</span><span style=color:#f07171>bits</span><span>()
</span><span>                                        </span><span style=color:#ed9366>| </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>PREPASS_READS_MATERIAL</span><span style=color:#ed9366>.</span><span style=color:#f07171>bits</span><span>()</span><span style=color:#61676ccc>;
</span></code></pre><h2 id=further-reading>Further Reading</h2><ol><li>Bevy Render Graph Documentation: https://bevyengine.org/learn/book/rendering/render-graph/<li>WebGPU Bind Groups and Batching: https://sotrh.github.io/learn-wgpu/beginner/tutorial6-uniforms/<li>GPU Driven Rendering and Batching Techniques: https://therealmjp.github.io/posts/gpu-driven-rendering/<li>Bevy Material System: https://github.com/bevyengine/bevy/tree/main/crates/bevy_pbr/src</ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22813.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>