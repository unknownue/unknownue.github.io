<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #23088 unpin nightly in CI
        
    </title><meta content="#23088 unpin nightly in CI" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-21</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-23088-zh-cn-20260221>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: unpin nightly in CI<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/23088<li><strong>Author</strong>: mockersf<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, A-Build-System, S-Ready-For-Final-Review<li><strong>Created</strong>: 2026-02-20T23:56:38Z<li><strong>Merged</strong>: 2026-02-21T09:48:43Z<li><strong>Merged By</strong>: mockersf</ul><h2 id=description-translation>Description Translation</h2><p>Reverts bevyengine/bevy#22927, bug has been fixed in nightly<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a straightforward but essential maintenance task in the Bevy game engine’s continuous integration (CI) pipeline. The core issue was that the CI workflows had been temporarily pinned to a specific nightly Rust toolchain version (<code>nightly-2026-02-11</code>) due to a bug in the Rust nightly compiler that broke the build. With the bug now fixed in the nightly channel, this PR reverts that pin, allowing the CI to use the latest nightly version again.<p>The context for this change is common in projects that rely on Rust’s nightly channel for development. The nightly toolchain provides access to cutting-edge language features and compiler improvements but can occasionally introduce regressions or breaking changes. When such an issue arises, the standard practice is to pin the CI to a known-working nightly version to maintain build stability while the upstream Rust team addresses the problem. This PR represents the follow-up step: once the fix is confirmed in the nightly channel, the pin is removed to resume testing with the latest compiler, ensuring the project stays up-to-date and can catch new issues early.<p>The solution approach is minimal and surgical. The developer identified the four GitHub Actions workflow files where the <code>NIGHTLY_TOOLCHAIN</code> environment variable was set to the pinned version and updated them all to simply <code>nightly</code>. This change ensures that the <code>rustup</code> tool will install the most recent nightly version available at the time each CI run is executed.<p>From an engineering perspective, this change involves a calculated trade-off. Pinning provides immediate stability but carries the risk of drifting behind critical fixes or new features. Unpinning restores the project’s ability to detect new compiler-related issues early but reintroduces the possibility of nightly breakages. The clean, comment-preserving implementation in this PR demonstrates good CI hygiene—the explanatory comment remains in place to guide future maintainers when similar issues inevitably occur.<p>The technical impact is immediate: all future CI runs will use the latest nightly Rust compiler. This ensures that Bevy’s codebase is continuously validated against the most recent compiler changes, helping to identify new issues promptly. For the development team, this means faster feedback on potential compatibility problems and the ability to adopt new nightly features sooner. The change also simplifies maintenance by removing the need to manually update the pinned version, though it does mean that occasional nightly breakages may require quick responses from the team.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Rust Nightly Compiler Bug] --> B[CI Breaks]
</span><span>    B --> C[Pin to nightly-2026-02-11]
</span><span>    C --> D[CI Stabilizes]
</span><span>    D --> E[Rust Team Fixes Bug]
</span><span>    E --> F[Unpin to 'nightly']
</span><span>    F --> G[CI Uses Latest Nightly]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p>All changes follow the same pattern: updating the <code>NIGHTLY_TOOLCHAIN</code> environment variable from a specific pinned version to the generic <code>nightly</code> channel.<ol><li><strong><code>.github/workflows/ci.yml</code></strong> - The main CI workflow that runs tests and builds.</ol><pre class=language-yaml data-lang=yaml style=color:#61676c;background-color:#fafafa><code class=language-yaml data-lang=yaml><span style=color:#abb0b6;font-style:italic># File: .github/workflows/ci.yml
</span><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#abb0b6;font-style:italic># If nightly is breaking CI, modify this variable to target a specific nightly version.
</span><span style=color:#399ee6>NIGHTLY_TOOLCHAIN</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"nightly-2026-02-11"
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#abb0b6;font-style:italic># If nightly is breaking CI, modify this variable to target a specific nightly version.
</span><span style=color:#399ee6>NIGHTLY_TOOLCHAIN</span><span style=color:#61676ccc>: </span><span style=color:#86b300>nightly
</span></code></pre><ol start=2><li><strong><code>.github/workflows/docs.yml</code></strong> - The workflow that builds and deploys documentation.</ol><pre class=language-yaml data-lang=yaml style=color:#61676c;background-color:#fafafa><code class=language-yaml data-lang=yaml><span style=color:#abb0b6;font-style:italic># File: .github/workflows/docs.yml
</span><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#abb0b6;font-style:italic># If nightly is breaking CI, modify this variable to target a specific nightly version.
</span><span style=color:#399ee6>NIGHTLY_TOOLCHAIN</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"nightly-2026-02-11"
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#abb0b6;font-style:italic># If nightly is breaking CI, modify this variable to target a specific nightly version.
</span><span style=color:#399ee6>NIGHTLY_TOOLCHAIN</span><span style=color:#61676ccc>: </span><span style=color:#86b300>nightly
</span></code></pre><ol start=3><li><strong><code>.github/workflows/update-caches.yml</code></strong> - The workflow that updates CI dependency caches.</ol><pre class=language-yaml data-lang=yaml style=color:#61676c;background-color:#fafafa><code class=language-yaml data-lang=yaml><span style=color:#abb0b6;font-style:italic># File: .github/workflows/update-caches.yml
</span><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#abb0b6;font-style:italic># If nightly is breaking CI, modify this variable to target a specific nightly version.
</span><span style=color:#399ee6>NIGHTLY_TOOLCHAIN</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"nightly-2026-02-11"
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#abb0b6;font-style:italic># If nightly is breaking CI, modify this variable to target a specific nightly version.
</span><span style=color:#399ee6>NIGHTLY_TOOLCHAIN</span><span style=color:#61676ccc>: </span><span style=color:#86b300>nightly
</span></code></pre><ol start=4><li><strong><code>.github/workflows/validation-jobs.yml</code></strong> - The workflow that runs additional validation jobs including iOS builds.</ol><pre class=language-yaml data-lang=yaml style=color:#61676c;background-color:#fafafa><code class=language-yaml data-lang=yaml><span style=color:#abb0b6;font-style:italic># File: .github/workflows/validation-jobs.yml
</span><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#abb0b6;font-style:italic># If nightly is breaking CI, modify this variable to target a specific nightly version.
</span><span style=color:#399ee6>NIGHTLY_TOOLCHAIN</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"nightly-2026-02-11"
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#abb0b6;font-style:italic># If nightly is breaking CI, modify this variable to target a specific nightly version.
</span><span style=color:#399ee6>NIGHTLY_TOOLCHAIN</span><span style=color:#61676ccc>: </span><span style=color:#86b300>nightly
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://rust-lang.github.io/rustup/concepts/toolchains.html target=_blank>Rustup Toolchain Management</a> - Official documentation on managing Rust toolchains, including nightly versions<li><a rel="noopener nofollow noreferrer" href=https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions target=_blank>GitHub Actions Workflow Syntax</a> - Reference for understanding the YAML structure used in these workflow files<li><a rel="noopener nofollow noreferrer" href=https://rust-lang.github.io/rfcs/0507-release-channels.html target=_blank>Rust Release Channels</a> - Explanation of Rust’s stable, beta, and nightly release channels<li><a rel="noopener nofollow noreferrer" href=https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-rust target=_blank>Continuous Integration Best Practices</a> - GitHub’s guide to CI for Rust projects</ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_23088.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>