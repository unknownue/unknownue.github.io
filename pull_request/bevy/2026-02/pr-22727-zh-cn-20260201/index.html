<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22727 Sort the UI examples into sub-dirs
        
    </title><meta content="#22727 Sort the UI examples into sub-dirs" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-01</span><div class=language-switcher><a class=lang-link data-lang=en href=/pull_request/bevy/2026-02/pr-22727-en-20260201>English</a> / <span class="lang-link active" data-lang=zh-cn>中文</span></div></div><div class=pr-content><h1 id=sort-the-ui-examples-into-sub-dirs>Sort the UI examples into sub-dirs</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Sort the UI examples into sub-dirs<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22727<li><strong>Author</strong>: WaterWhisperer<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Examples, A-UI, D-Straightforward, S-Waiting-on-Author<li><strong>Created</strong>: 2026-01-28T07:00:09Z<li><strong>Merged</strong>: 2026-02-01T18:39:13Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h3 id=mu-biao-objective>目标 (Objective)</h3><ul><li>修复 #22644</ul><h3 id=jie-jue-fang-an-solution>解决方案 (Solution)</h3><ul><li>为分类创建新的子目录，并更新 <code>Cargo.toml</code> 和 <code>README</code> 中的路径。</ul><h3 id=ce-shi-testing>测试 (Testing)</h3><ul><li><code>cargo check --example *</code></ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>这个PR的故事始于一个看似简单但普遍存在的问题：项目中的示例（examples）文件随着时间推移变得越来越多，如果都堆积在根目录下，就会变得难以管理和导航。具体到Bevy引擎的UI模块，其示例文件数量已经增长到了相当多的程度，全部放在 <code>examples/ui/</code> 目录下显得杂乱无章。<p>问题 #22644 明确指出了这一点：UI示例需要一个更好的组织结构。对于像Bevy这样一个开源游戏引擎来说，示例代码是新手入门和开发者参考的重要资源。一个清晰、逻辑分明的目录结构能极大地提升开发者体验，让用户更快地找到他们想看的特定功能的例子，比如布局、文本渲染或小部件（widgets）。<p>因此，开发者 <code>WaterWhisperer</code> 提出了一个直接的解决方案：创建一系列按功能划分的子目录，并将现有的示例文件归类移动进去。这是一个典型的代码库重构（refactoring）任务，核心在于组织结构而非修改功能逻辑。这种重构的关键在于保持所有功能不变，同时更新所有引用这些文件的路径，确保项目构建和文档链接的正确性。<p>具体实现涉及两个层面的同步更改：<ol><li><strong>文件系统的物理移动</strong>：在 <code>examples/ui/</code> 下创建了六个新的子目录：<code>layout/</code>, <code>styling/</code>, <code>widgets/</code>, <code>text/</code>, <code>images/</code>, <code>scroll_and_overflow/</code>。然后，将43个UI示例文件根据其演示的主题移动到对应的子目录中。例如，演示按钮的 <code>button.rs</code> 被移到了 <code>widgets/</code> 目录下，而演示文本的 <code>text.rs</code> 被移到了 <code>text/</code> 目录下。<li><strong>配置和文档的路径更新</strong>：这是确保重构不破坏现有工作流程的关键一步。需要更新两个核心文件： <ul><li><strong><code>Cargo.toml</code></strong>：这个文件定义了项目的结构和所有示例的入口。每个 <code>[[example]]</code> 块都包含一个 <code>path</code> 字段，指向具体的示例文件。PR修改了所有UI示例块的 <code>path</code> 值，使其指向新的子目录路径。<li><strong><code>examples/README.md</code></strong>：这个文件是示例的索引文档，包含了每个示例的说明和超链接。PR更新了所有UI示例对应的链接路径，使其与新的文件位置匹配。</ul></ol><p>从技术角度看，这次修改的挑战性不高，但需要非常细致，不能遗漏任何一处路径引用。开发者采用的验证方法也很直接有效：运行 <code>cargo check --example *</code>。这个命令会尝试编译项目中的所有示例。如果任何路径更新有误，编译就会失败，从而快速暴露问题。这是一个低成本、高覆盖率的测试策略，非常适合此类重构。<p>这个PR带来的影响是积极的。它显著提升了代码库的可维护性（maintainability）和可发现性（discoverability）。对于Bevy的新贡献者来说，现在他们可以更容易地理解UI系统的功能组成。对于维护者而言，未来添加新的UI示例时，也有了明确的地方可以存放。这是一个典型的“磨刀不误砍柴工”的投入，通过改善基础设施来长期提升开发效率。<h2 id=visual-representation>Visual Representation</h2><p>下面的图表展示了此PR创建的UI示例目录新结构及其包含的示例类别。<pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[examples/ui/] --> B[layout/]
</span><span>    A --> C[styling/]
</span><span>    A --> D[widgets/]
</span><span>    A --> E[text/]
</span><span>    A --> F[images/]
</span><span>    A --> G[scroll_and_overflow/]
</span><span>
</span><span>    B --> B1[anchor_layout.rs]
</span><span>    B --> B2[flex_layout.rs]
</span><span>    B --> B3[grid.rs]
</span><span>    B --> B4[size_constraints.rs]
</span><span>    B --> B5[z_index.rs]
</span><span>
</span><span>    C --> C1[borders.rs]
</span><span>    C --> C2[box_shadow.rs]
</span><span>    C --> C3[gradients.rs]
</span><span>    C --> C4[transparency_ui.rs]
</span><span>
</span><span>    D --> D1[button.rs]
</span><span>    D --> D2[vertical_slider.rs]
</span><span>    D --> D3[standard_widgets.rs]
</span><span>    D --> D4[tab_navigation.rs]
</span><span>
</span><span>    E --> E1[text.rs]
</span><span>    E --> E2[font_weights.rs]
</span><span>    E --> E3[font_atlas_debug.rs]
</span><span>    E --> E4[system_fonts.rs]
</span><span>
</span><span>    F --> F1[image_node.rs]
</span><span>    F --> F2[ui_texture_atlas.rs]
</span><span>    F --> F3[ui_texture_slice.rs]
</span><span>
</span><span>    G --> G1[scroll.rs]
</span><span>    G --> G2[overflow.rs]
</span><span>    G --> G3[drag_to_scroll.rs]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><ol><li><p><strong><code>Cargo.toml</code> (+42/-42)</strong></p> <ul><li><strong>描述</strong>：这是此PR中修改最核心的文件。它包含了Bevy项目中所有示例的构建配置。此次修改更新了每一个UI示例条目（<code>[[example]]</code>）的<code>path</code>属性，将其从旧的扁平路径指向新的分类子目录路径。<li><strong>代码示例</strong>：<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># 修改前：
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"anchor_layout"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/ui/anchor_layout.rs"
</span><span>
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"button"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/ui/button.rs"
</span><span>
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"text"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/ui/text.rs"
</span><span>
</span><span style=color:#abb0b6;font-style:italic># 修改后：
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"anchor_layout"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/ui/layout/anchor_layout.rs" </span><span style=color:#abb0b6;font-style:italic># 移动到 layout/ 子目录
</span><span>
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"button"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/ui/widgets/button.rs" </span><span style=color:#abb0b6;font-style:italic># 移动到 widgets/ 子目录
</span><span>
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"text"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/ui/text/text.rs" </span><span style=color:#abb0b6;font-style:italic># 移动到 text/ 子目录，并且文件本身也更名为 text.rs
</span></code></pre><li><strong>与PR目的的关系</strong>：更新此文件确保了使用<code>cargo run --example &LTname></code>命令时，Cargo能够正确找到并构建移动后的示例文件，这是维持开发者工作流不受影响的必要条件。</ul><li><p><strong><code>examples/README.md</code> (+42/-42)</strong></p> <ul><li><strong>描述</strong>：这是示例库的索引文档。它列出了所有可用的示例及其描述和链接。PR同步更新了文档中所有指向UI示例的Markdown链接路径，使其与新的文件位置一致。<li><strong>代码示例</strong>：<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span style=color:#abb0b6;font-style:italic>&LT!-- 修改前： -->
</span><span style=color:#4cbf99>- </span><span>[Anchor Layout](</span><span style=color:#4cbf99;font-style:italic;text-decoration:underline>../examples/ui/anchor_layout.rs</span><span>) | Shows an 'anchor layout' style of ui layout
</span><span style=color:#4cbf99>- </span><span>[Button](</span><span style=color:#4cbf99;font-style:italic;text-decoration:underline>../examples/ui/button.rs</span><span>) | Illustrates creating and updating a button
</span><span style=color:#4cbf99>- </span><span>[Text](</span><span style=color:#4cbf99;font-style:italic;text-decoration:underline>../examples/ui/text.rs</span><span>) | Illustrates creating and updating text
</span><span>
</span><span style=color:#abb0b6;font-style:italic>&LT!-- 修改后： -->
</span><span style=color:#4cbf99>- </span><span>[Anchor Layout](</span><span style=color:#4cbf99;font-style:italic;text-decoration:underline>../examples/ui/layout/anchor_layout.rs</span><span>) | Shows an 'anchor layout' style of ui layout
</span><span style=color:#4cbf99>- </span><span>[Button](</span><span style=color:#4cbf99;font-style:italic;text-decoration:underline>../examples/ui/widgets/button.rs</span><span>) | Illustrates creating and updating a button
</span><span style=color:#4cbf99>- </span><span>[Text](</span><span style=color:#4cbf99;font-style:italic;text-decoration:underline>../examples/ui/text/text.rs</span><span>) | Illustrates creating and updating text
</span></code></pre><li><strong>与PR目的的关系</strong>：更新文档链接保证了从README导航到具体示例文件的功能正常。这是维护良好开发者体验和文档有效性的关键一环。</ul><li><p><strong><code>examples/ui/</code> 下的43个文件移动</strong></p> <ul><li><strong>描述</strong>：这是PR的物理操作部分。通过Git的<code>rename</code>操作，将文件从一个位置移动到另一个位置，并在此过程中创建了必要的子目录结构。代码差异显示<code>similarity index 100%</code>，表明文件内容完全没有改变，只是路径变了。<li><strong>代码示例（来自git diff）</strong>：<pre style=color:#61676c;background-color:#fafafa><code><span>rename from examples/ui/image_node.rs
</span><span>rename to examples/ui/images/image_node.rs
</span><span>
</span><span>rename from examples/ui/anchor_layout.rs
</span><span>rename to examples/ui/layout/anchor_layout.rs
</span><span>
</span><span>rename from examples/ui/button.rs
</span><span>rename to examples/ui/widgets/button.rs
</span></code></pre><li><strong>与PR目的的关系</strong>：这是实现分类组织的直接手段。创建<code>layout/</code>, <code>styling/</code>, <code>widgets/</code>, <code>text/</code>, <code>images/</code>, <code>scroll_and_overflow/</code>这些逻辑分类目录，并将相关示例归入其中，直接解决了原始问题（#22644）中提到的组织结构混乱的问题。</ul></ol><h2 id=further-reading>Further Reading</h2><ol><li><strong>Bevy 官方示例仓库</strong>：浏览 <a rel="noopener nofollow noreferrer" href=https://github.com/bevyengine/bevy/tree/main/examples target=_blank>Bevy Examples</a> 可以直接看到此次重构后的新目录结构，是学习Bevy UI系统各个功能的绝佳起点。<li><strong>Martin Fowler 的《重构：改善既有代码的设计》</strong>：这本书是软件重构领域的经典。虽然这个PR不涉及代码逻辑重构，但其中关于“搬移函数(Move Method)”和“组织数据(Organizing Data)”的思想与此PR改善代码组织结构的目的是相通的。<li><strong>Cargo 文档 - The Manifest Format</strong>: 了解 <code>Cargo.toml</code> 文件中 <code>[[example]]</code> 章节的详细配置，可以参考 <a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/cargo/reference/cargo-targets.html#examples target=_blank>Cargo官方文档</a>。<li><strong>保持构建和文档的同步</strong>：对于大型项目，重构时如何系统地更新所有引用点是一个常见挑战。可以研究“重构工具(Refactoring Tools)”或“大型代码库的重构策略”相关主题。</ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22727.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>