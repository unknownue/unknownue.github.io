<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #21561
        
    </title><meta content=#21561 property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-07</span><div class=language-switcher><a class=lang-link data-lang=en href=/pull_request/bevy/2026-02/pr-21561-en-20260207>English</a> / <span class="lang-link active" data-lang=zh-cn>中文</span></div></div><div class=pr-content><h1 id=title>Title</h1><p>Feature/glam cross constants<h2 id=basic-information>Basic Information</h2><ul><li><strong>标题（Title）</strong>: Feature/glam cross constants<li><strong>PR链接（PR Link）</strong>: https://github.com/bevyengine/bevy/pull/21561<li><strong>作者（Author）</strong>: pine-free<li><strong>状态（Status）</strong>: MERGED<li><strong>标签（Labels）</strong>: C-Feature, S-Ready-For-Final-Review, A-Math, X-Uncontroversial, D-Straightforward<li><strong>创建时间（Created）</strong>: 2025-10-16T11:53:29Z<li><strong>合并时间（Merged）</strong>: 2026-02-07T00:35:02Z<li><strong>合并者（Merged By）</strong>: alice-i-cecile</ul><h2 id=miao-shu-fan-yi-description-translation>描述翻译（Description Translation）</h2><p><strong>目标（Objective）</strong><p>修复 #21333<p><strong>解决方案（Solution）</strong><p>此PR为Dir2和Dir3引入了多个新常量，提供了在网格上常用方向的便捷简写，例如：<ul><li>所有基本方向（cardinal directions）<li>所有对角线方向（diagonals）<li>所有相邻方向（cardinals + diagonals）</ul><p><strong>测试（Testing）</strong><p>更改未通过自动化测试进行测试，但我检查了数学计算以确保没有出错。<p>您可以查看修改的文件，确保常量包含它们应有的方向。<p><strong>展示（Showcase）</strong><p>例如，如果您有一个网格并希望获取其上所有相邻的单元格，您无需自己定义方向，可以执行以下操作：<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>let</span><span> valid_positions </span><span style=color:#ed9366>= </span><span>Dir2</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>ALL_NEIGHBORS</span><span style=color:#ed9366>.</span><span style=color:#f07171>iter</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#f07171>filter_map</span><span>(|</span><span style=color:#ff8f40>offset</span><span>| {
</span><span>    grid</span><span style=color:#ed9366>.</span><span style=color:#f07171>get</span><span>(current_position </span><span style=color:#ed9366>+</span><span> offset)
</span><span>}</span><span style=color:#ed9366>.</span><span style=color:#f07171>collect</span><span>()</span><span style=color:#61676ccc>;
</span></code></pre><h2 id=ci-pull-requestde-gu-shi-the-story-of-this-pull-request>此Pull Request的故事（The Story of This Pull Request）</h2><h3 id=wen-ti-yu-bei-jing-the-problem-and-context>问题与背景（The Problem and Context）</h3><p>在游戏开发或网格计算中，开发者经常需要处理方向向量。当实现网格遍历、寻路算法或基于相邻关系的游戏机制时，需要访问常见的方向集合，例如四个基本方向（北、东、南、西）、对角线方向，或者所有相邻方向。在Bevy数学库中，虽然已经存在一些基本方向常量（如<code>Dir2::X</code>, <code>Dir2::NORTH_EAST</code>等），但缺少将这些方向组织成预定义数组的便利方法。<p>问题#21333明确提出需要为<code>Dir2</code>和<code>Dir3</code>添加这些方向的常量数组。开发者每次需要这些方向集合时，都必须手动创建数组，这不仅繁琐，而且可能导致代码重复和不一致。例如，要获取2D网格中某个单元格的所有相邻方向，开发者需要编写类似<code>[Dir2::X, Dir2::NEG_X, Dir2::Y, ...]</code>的代码，这对于8个方向来说已经相当冗长，而对于3D中的26个相邻方向，手动定义更是不可行。<h3 id=jie-jue-fang-an-fang-fa-the-solution-approach>解决方案方法（The Solution Approach）</h3><p>开发者采取了一种直接且实用的方法：为<code>Dir2</code>和<code>Dir3</code>结构体添加一系列新的公共常量数组。这些常量将常用的方向组合分组，提供直观且易于访问的接口。实现的关键在于确保所有方向向量都已正确归一化（normalized），并且数组定义清晰、可读。<p>对于<code>Dir2</code>，解决方案包括：<ul><li><code>CARDINALS</code>: 四个基本方向（正负X轴和Y轴）<li><code>DIAGONALS</code>: 四个对角线方向<li><code>ALL_NEIGHBORS</code>: 所有八个相邻方向（基本方向加对角线）</ul><p>对于<code>Dir3</code>，解决方案扩展了这一概念：<ul><li><code>CARDINALS</code>: 六个基本方向（正负X轴、Y轴和Z轴）<li><code>ALL_VERTICES</code>: 指向立方体八个顶点的方向（每个分量为±1/√3）<li><code>ALL_EDGES</code>: 指向立方体十二条边中点的方向（两个分量为±1/√2，第三个分量为0）<li><code>ALL_NEIGHBORS</code>: 所有二十六个相邻方向（基本方向 + 边中点 + 顶点）</ul><p>这种方法的一个关键工程决策是保持了与现有API的一致性。新的常量直接构建在已有的方向常量（如<code>Dir2::X</code>）或通过向量构造（如<code>Vec2::new(-FRAC_1_SQRT_2, -FRAC_1_SQRT_2)</code>）之上，确保了归一化的正确性。<h3 id=shi-xian-xi-jie-the-implementation>实现细节（The Implementation）</h3><p>实现主要集中在<code>crates/bevy_math/src/direction.rs</code>文件中的一个文件。以下是关键修改的详细说明：<p>对于<code>Dir2</code>，在现有常量之后添加了三个新数组：<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>/// The cardinal directions.
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>CARDINALS</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>4</span><span>] </span><span style=color:#ed9366>= </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>X</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_X</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Y</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_Y</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// The diagonals between the cardinal directions.
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>DIAGONALS</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>4</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NORTH_EAST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NORTH_WEST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>SOUTH_EAST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>SOUTH_WEST</span><span style=color:#61676ccc>,
</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// All neighbors of a tile on a square grid in a 3x3 neighborhood. A combination of [`Self::CARDINALS`] and [`Self::DIAGONALS`]
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>ALL_NEIGHBORS</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>8</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>X</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_X</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Y</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_Y</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NORTH_EAST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NORTH_WEST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>SOUTH_EAST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>SOUTH_WEST</span><span style=color:#61676ccc>,
</span><span>]</span><span style=color:#61676ccc>;
</span></code></pre><p>这些定义利用了已经存在的方向常量，保证了代码的简洁性和可维护性。<p>对于<code>Dir3</code>，实现更为复杂，因为需要定义3D空间中的多个方向集合。首先，添加了一个私有常量用于归一化因子：<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>const </span><span style=color:#ff8f40>FRAC_1_SQRT_3</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32 </span><span style=color:#ed9366>= </span><span style=color:#ff8f40>0.577350269189625764509148780501957456_</span><span style=color:#fa6e32>f32</span><span style=color:#61676ccc>;
</span></code></pre><p>这个值是1/√3的高精度近似，用于确保指向立方体顶点的方向向量具有单位长度。开发者添加了一个注释来解释其用途，并提到使用<code>allow</code>来确保精度与<code>FRAC_1_SQRT_2</code>一致。<p>然后定义了四个新数组：<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>/// The cardinal directions.
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>CARDINALS</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>6</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>X</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_X</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Y</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_Y</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Z</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_Z</span><span style=color:#61676ccc>,
</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// The directions pointing towards the vertices of a cube centered at the origin.
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>ALL_VERTICES</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>8</span><span>] </span><span style=color:#ed9366>= </span><span>[</span><span style=color:#ed9366>...</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// The directions towards centers of each edge of a cube
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>ALL_EDGES</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>12</span><span>] </span><span style=color:#ed9366>= </span><span>[</span><span style=color:#ed9366>...</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// All neighbors of a tile on a cube grid a 3x3x3 neighborhood. A combination of [`Self::CARDINALS`], [`Self::ALL_EDGES`] and [`Self::ALL_VERTICES`]
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>ALL_NEIGHBORS</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>26</span><span>] </span><span style=color:#ed9366>= </span><span>[</span><span style=color:#ed9366>...</span><span>]</span><span style=color:#61676ccc>;
</span></code></pre><p><code>ALL_NEIGHBORS</code>数组通过显式列出所有26个方向来定义，这虽然使代码较长，但确保了清晰度和编译时确定。这种方法的优点是无需运行时计算，所有方向在编译时即可使用。<h3 id=ji-shu-jian-jie-technical-insights>技术见解（Technical Insights）</h3><p>此PR展示了几个有价值的软件工程实践：<ol><li><p><strong>API设计的一致性（API Design Consistency）</strong>：新常量遵循了现有API的命名和结构约定。使用大写蛇形命名法（UPPER_SNAKE_CASE）用于常量，并通过文档注释清晰地描述了每个常量的用途。</p><li><p><strong>编译时计算与性能（Compile-time Computation and Performance）</strong>：所有方向数组都是<code>const</code>，这意味着它们在编译时被计算和初始化，不会产生运行时开销。对于像方向向量这样不变的数据，这是理想的选择。</p><li><p><strong>数学正确性（Mathematical Correctness）</strong>：开发者仔细处理了归一化问题。对于对角线方向，使用<code>FRAC_1_SQRT_2</code>（1/√2）来确保2D对角线向量的长度为1。对于3D顶点方向，使用<code>FRAC_1_SQRT_3</code>（1/√3）以达到同样的目的。这体现了对向量数学的深入理解。</p><li><p><strong>代码可读性与维护性（Code Readability and Maintainability）</strong>：尽管<code>ALL_NEIGHBORS</code>的3D定义较长，但通过结构化的排列和注释，代码仍然易于理解。开发者还提供了清晰的文档字符串，解释了每个数组的组成。</p><li><p><strong>实用主义与用户友好（Pragmatism and User-Friendliness）</strong>：此PR专注于解决实际开发中的痛点。通过提供这些常量，开发者现在可以更轻松地编写网格逻辑，而无需重复定义方向数组或担心归一化错误。</p></ol><h3 id=ying-xiang-the-impact>影响（The Impact）</h3><p>这个PR的影响是直接且积极的：<ol><li><p><strong>提高了开发效率（Increased Developer Productivity）</strong>：使用<code>Dir2::ALL_NEIGHBORS</code>或<code>Dir3::ALL_NEIGHBORS</code>等常量，开发者可以节省时间并减少样板代码。这对于快速原型设计和实现游戏逻辑特别有用。</p><li><p><strong>减少了错误（Reduced Errors）</strong>：手动定义方向数组时，开发者可能会遗漏某个方向或犯归一化错误。通过使用预定义的常量，这些风险被最小化。</p><li><p><strong>增强了代码清晰度（Improved Code Clarity）</strong>：使用命名常量（如<code>CARDINALS</code>）比使用原始数组字面量更具表达力，使代码的意图更清晰。</p><li><p><strong>无性能损失（No Performance Penalty）</strong>：由于所有内容都在编译时计算，因此运行时性能与手动定义数组相同。</p><li><p><strong>为未来扩展奠定基础（Foundation for Future Extensions）</strong>：这个添加为Bevy的数学库增加了更多功能，使其更适合网格和空间计算。它还可能激发其他类似实用常量的添加。</p></ol><p>总之，此PR是一个简单但有效的增强，它解决了开发者的具体需求，同时保持了代码库的质量和一致性。<h2 id=ke-shi-hua-biao-shi-visual-representation>可视化表示（Visual Representation）</h2><p>以下Mermaid图展示了修改的组件关系：<pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Dir2] --> B[添加常量数组]
</span><span>    A --> C[CARDINALS: 4个方向]
</span><span>    A --> D[DIAGONALS: 4个方向]
</span><span>    A --> E[ALL_NEIGHBORS: 8个方向]
</span><span>    
</span><span>    F[Dir3] --> G[添加常量数组]
</span><span>    F --> H[CARDINALS: 6个方向]
</span><span>    F --> I[ALL_VERTICES: 8个方向]
</span><span>    F --> J[ALL_EDGES: 12个方向]
</span><span>    F --> K[ALL_NEIGHBORS: 26个方向]
</span><span>    
</span><span>    C --> E
</span><span>    D --> E
</span><span>    H --> K
</span><span>    I --> K
</span><span>    J --> K
</span></code></pre><h2 id=guan-jian-wen-jian-geng-gai-key-files-changed>关键文件更改（Key Files Changed）</h2><ul><li><code>crates/bevy_math/src/direction.rs</code> (+154/-0)</ul><p>此文件是唯一被修改的文件。更改完全在<code>Dir2</code>和<code>Dir3</code>的实现块内，添加了新的常量数组。<p><strong>修改详情：</strong><ol><li><p><strong>Dir2部分</strong>：在现有常量之后添加了三个新常量数组。</p> <pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 在 Dir2 实现中，添加以下代码：
</span><span style=color:#abb0b6;font-style:italic>/// The cardinal directions.
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>CARDINALS</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>4</span><span>] </span><span style=color:#ed9366>= </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>X</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_X</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Y</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_Y</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// The diagonals between the cardinal directions.
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>DIAGONALS</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>4</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NORTH_EAST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NORTH_WEST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>SOUTH_EAST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>SOUTH_WEST</span><span style=color:#61676ccc>,
</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// All neighbors of a tile on a square grid in a 3x3 neighborhood. A combination of [`Self::CARDINALS`] and [`Self::DIAGONALS`]
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>ALL_NEIGHBORS</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>8</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>X</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_X</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Y</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_Y</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NORTH_EAST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NORTH_WEST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>SOUTH_EAST</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>SOUTH_WEST</span><span style=color:#61676ccc>,
</span><span>]</span><span style=color:#61676ccc>;
</span></code></pre><li><p><strong>Dir3部分</strong>：添加了更多常量数组，包括一个私有常量<code>FRAC_1_SQRT_3</code>。</p> <pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// 在 Dir3 实现中，添加以下代码：
</span><span style=color:#abb0b6;font-style:italic>/// The cardinal directions.
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>CARDINALS</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>6</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>X</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_X</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Y</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_Y</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Z</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>NEG_Z</span><span style=color:#61676ccc>,
</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// 私有常量，用于归一化
</span><span style=color:#fa6e32>const </span><span style=color:#ff8f40>FRAC_1_SQRT_3</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32 </span><span style=color:#ed9366>= </span><span style=color:#ff8f40>0.577350269189625764509148780501957456_</span><span style=color:#fa6e32>f32</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// The directions pointing towards the vertices of a cube centered at the origin.
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>ALL_VERTICES</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>8</span><span>] </span><span style=color:#ed9366>= </span><span>[ </span><span style=color:#ed9366>... </span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// The directions towards centers of each edge of a cube
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>ALL_EDGES</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>12</span><span>] </span><span style=color:#ed9366>= </span><span>[ </span><span style=color:#ed9366>... </span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>/// All neighbors of a tile on a cube grid a 3x3x3 neighborhood. A combination of [`Self::CARDINALS`], [`Self::ALL_EDGES`] and [`Self::ALL_VERTICES`]
</span><span style=color:#fa6e32>pub const </span><span style=color:#ff8f40>ALL_NEIGHBORS</span><span style=color:#61676ccc>: </span><span>[</span><span style=color:#fa6e32>Self</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>26</span><span>] </span><span style=color:#ed9366>= </span><span>[ </span><span style=color:#ed9366>... </span><span>]</span><span style=color:#61676ccc>;
</span></code></pre> <p>由于<code>ALL_VERTICES</code>、<code>ALL_EDGES</code>和<code>ALL_NEIGHBORS</code>的定义较长，这里未完整列出，但它们在代码diff中完整呈现。</p></ol><p>这些更改直接对应PR的目标：为常见方向提供便捷的常量数组，从而简化网格和空间计算。<h2 id=jin-yi-bu-yue-du-further-reading>进一步阅读（Further Reading）</h2><ol><li><p><strong>Bevy数学库文档（Bevy Math Documentation）</strong>：了解Bevy中其他数学类型和功能。</p> <ul><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_math/latest/bevy_math/ target=_blank>Bevy Math Module</a></ul><li><p><strong>向量归一化（Vector Normalization）</strong>：理解为什么方向向量需要归一化及其在游戏开发中的重要性。</p> <ul><li><a rel="noopener nofollow noreferrer" href=https://en.wikipedia.org/wiki/Unit_vector target=_blank>Vector Normalization on Wikipedia</a></ul><li><p><strong>网格邻域（Grid Neighborhoods）</strong>：关于2D和3D网格中邻域概念的更多信息，包括冯·诺依曼邻域（von Neumann neighborhood，基本方向）和摩尔邻域（Moore neighborhood，所有相邻方向）。</p> <ul><li><a rel="noopener nofollow noreferrer" href=https://en.wikipedia.org/wiki/Moore_neighborhood target=_blank>Moore Neighborhood on Wikipedia</a><li><a rel="noopener nofollow noreferrer" href=https://en.wikipedia.org/wiki/Von_Neumann_neighborhood target=_blank>Von Neumann Neighborhood on Wikipedia</a></ul><li><p><strong>Rust常量（Rust Constants）</strong>：深入了解Rust中<code>const</code>的工作原理以及编译时计算。</p> <ul><li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/book/ch03-01-variables-and-mutability.html#constants target=_blank>Rust Const and Static</a></ul></ol><h1 id=full-code-diff>Full Code Diff</h1><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_math/src/direction.rs b/crates/bevy_math/src/direction.rs
</span><span>index 03cb9f969f1e6..cc34a7ca7b3c2 100644
</span><span style=color:#c594c5>--- a/crates/bevy_math/src/direction.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_math/src/direction.rs
</span><span style=color:#c594c5>@@ -107,6 +107,8 @@ </span><span style=color:#399ee6>impl Dir2 {
</span><span>     pub const NEG_Y: Self = Self(Vec2::NEG_Y);
</span><span>     /// The directional axes.
</span><span>     pub const AXES: [Self; 2] = [Self::X, Self::Y];
</span><span style=color:#86b300>+    /// The cardinal directions.
</span><span style=color:#86b300>+    pub const CARDINALS: [Self; 4] = [Self::X, Self::NEG_X, Self::Y, Self::NEG_Y];
</span><span> 
</span><span>     /// The "north" direction, equivalent to [`Dir2::Y`].
</span><span>     pub const NORTH: Self = Self(Vec2::Y);
</span><span style=color:#c594c5>@@ -125,6 +127,25 @@ </span><span style=color:#399ee6>impl Dir2 {
</span><span>     /// The "south-west" direction, between [`Dir2::SOUTH`] and [`Dir2::WEST`].
</span><span>     pub const SOUTH_WEST: Self = Self(Vec2::new(-FRAC_1_SQRT_2, -FRAC_1_SQRT_2));
</span><span> 
</span><span style=color:#86b300>+    /// The diagonals between the cardinal directions.
</span><span style=color:#86b300>+    pub const DIAGONALS: [Self; 4] = [
</span><span style=color:#86b300>+        Self::NORTH_EAST,
</span><span style=color:#86b300>+        Self::NORTH_WEST,
</span><span style=color:#86b300>+        Self::SOUTH_EAST,
</span><span style=color:#86b300>+        Self::SOUTH_WEST,
</span><span style=color:#86b300>+    ];
</span><span style=color:#86b300>+    /// All neighbors of a tile on a square grid in a 3x3 neighborhood. A combination of [`Self::CARDINALS`] and [`Self::DIAGONALS`]
</span><span style=color:#86b300>+    pub const ALL_NEIGHBORS: [Self; 8] = [
</span><span style=color:#86b300>+        Self::X,
</span><span style=color:#86b300>+        Self::NEG_X,
</span><span style=color:#86b300>+        Self::Y,
</span><span style=color:#86b300>+        Self::NEG_Y,
</span><span style=color:#86b300>+        Self::NORTH_EAST,
</span><span style=color:#86b300>+        Self::NORTH_WEST,
</span><span style=color:#86b300>+        Self::SOUTH_EAST,
</span><span style=color:#86b300>+        Self::SOUTH_WEST,
</span><span style=color:#86b300>+    ];
</span><span style=color:#86b300>+
</span><span>     /// Create a direction from a finite, nonzero [`Vec2`], normalizing it.
</span><span>     ///
</span><span>     /// Returns [`Err(InvalidDirectionError)`](InvalidDirectionError) if the length
</span><span style=color:#c594c5>@@ -395,6 +416,139 @@ </span><span style=color:#399ee6>impl Dir3 {
</span><span>     pub const NEG_Z: Self = Self(Vec3::NEG_Z);
</span><span>     /// The directional axes.
</span><span>     pub const AXES: [Self; 3] = [Self::X, Self::Y, Self::Z];
</span><span style=color:#86b300>+    /// The cardinal directions.
</span><span style=color:#86b300>+    pub const CARDINALS: [Self; 6] = [
</span><span style=color:#86b300>+        Self::X,
</span><span style=color:#86b300>+        Self::NEG_X,
</span><span style=color:#86b300>+        Self::Y,
</span><span style=color:#86b300>+        Self::NEG_Y,
</span><span style=color:#86b300>+        Self::Z,
</span><span style=color:#86b300>+        Self::NEG_Z,
</span><span style=color:#86b300>+    ];
</span><span style=color:#86b300>+
</span><span style=color:#86b300>+    // Adding this allow here to make sure that the precision in FRAC_1_SQRT_2
</span><span style=color:#86b300>+    // and here is the same
</span><span style=color:#86b300>+    /// Approximation of 1/sqrt(3) needed for the diagonals in 3D space
</span><span style=color:#86b300>+    const FRAC_1_SQRT_3: f32 = 0.577350269189625764509148780501957456_f32;
</span><span style=color:#86b300>+    /// The directions pointing towards the vertices of a cube centered at the origin.
</span><span style=color:#86b300>+    pub const ALL_VERTICES: [Self; 8] = [
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+    ];
</span><span style=color:#86b300>+    /// The directions towards centers of each edge of a cube
</span><span style=color:#86b300>+    pub const ALL_EDGES: [Self; 12] = [
</span><span style=color:#86b300>+        Self(Vec3::new(FRAC_1_SQRT_2, FRAC_1_SQRT_2, 0.)),
</span><span style=color:#86b300>+        Self(Vec3::new(-FRAC_1_SQRT_2, FRAC_1_SQRT_2, 0.)),
</span><span style=color:#86b300>+        Self(Vec3::new(FRAC_1_SQRT_2, -FRAC_1_SQRT_2, 0.)),
</span><span style=color:#86b300>+        Self(Vec3::new(-FRAC_1_SQRT_2, -FRAC_1_SQRT_2, 0.)),
</span><span style=color:#86b300>+        Self(Vec3::new(FRAC_1_SQRT_2, 0., FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(-FRAC_1_SQRT_2, 0., FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(FRAC_1_SQRT_2, 0., -FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(-FRAC_1_SQRT_2, 0., -FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(0., FRAC_1_SQRT_2, FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(0., -FRAC_1_SQRT_2, FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(0., FRAC_1_SQRT_2, -FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(0., -FRAC_1_SQRT_2, -FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+    ];
</span><span style=color:#86b300>+    /// All neighbors of a tile on a cube grid a 3x3x3 neighborhood. A combination of [`Self::CARDINALS`], [`Self::ALL_EDGES`] and [`Self::ALL_VERTICES`]
</span><span style=color:#86b300>+    pub const ALL_NEIGHBORS: [Self; 26] = [
</span><span style=color:#86b300>+        Self::X,
</span><span style=color:#86b300>+        Self::NEG_X,
</span><span style=color:#86b300>+        Self::Y,
</span><span style=color:#86b300>+        Self::NEG_Y,
</span><span style=color:#86b300>+        Self::Z,
</span><span style=color:#86b300>+        Self::NEG_Z,
</span><span style=color:#86b300>+        Self(Vec3::new(FRAC_1_SQRT_2, FRAC_1_SQRT_2, 0.)),
</span><span style=color:#86b300>+        Self(Vec3::new(-FRAC_1_SQRT_2, FRAC_1_SQRT_2, 0.)),
</span><span style=color:#86b300>+        Self(Vec3::new(FRAC_1_SQRT_2, -FRAC_1_SQRT_2, 0.)),
</span><span style=color:#86b300>+        Self(Vec3::new(-FRAC_1_SQRT_2, -FRAC_1_SQRT_2, 0.)),
</span><span style=color:#86b300>+        Self(Vec3::new(FRAC_1_SQRT_2, 0., FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(-FRAC_1_SQRT_2, 0., FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(FRAC_1_SQRT_2, 0., -FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(-FRAC_1_SQRT_2, 0., -FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(0., FRAC_1_SQRT_2, FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(0., -FRAC_1_SQRT_2, FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(0., FRAC_1_SQRT_2, -FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(0., -FRAC_1_SQRT_2, -FRAC_1_SQRT_2)),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+        Self(Vec3::new(
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+            -Self::FRAC_1_SQRT_3,
</span><span style=color:#86b300>+        )),
</span><span style=color:#86b300>+    ];
</span><span> 
</span><span>     /// Create a direction from a finite, nonzero [`Vec3`], normalizing it.
</span><span>     ///
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_21561.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>