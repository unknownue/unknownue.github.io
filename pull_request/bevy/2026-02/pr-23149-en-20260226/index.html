<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #23149 DetectChanges::is_changed_after
        
    </title><meta content="#23149 DetectChanges::is_changed_after" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-26</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-23149-zh-cn-20260226>中文</a></div></div><div class=pr-content><h1 id=title-detectchanges-is-changed-after>Title: DetectChanges::is_changed_after</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: <code>DetectChanges::is_changed_after</code><li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/23149<li><strong>Author</strong>: chescock<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Bug, A-ECS, C-Usability, S-Ready-For-Final-Review<li><strong>Created</strong>: 2026-02-25T16:17:01Z<li><strong>Merged</strong>: 2026-02-26T00:34:18Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>Make it easier to compare ticks between <code>Ref</code>s.<p>The pattern used in #23106 to compare changed ticks seems very powerful! But the second <code>Tick</code> parameter in <code>Tick::is_newer_than</code> makes it awkward to use, and requires the developer know about the <code>SystemChangeTick</code> system parameter. Which is silly, because the <code>Ref</code> <em>already has</em> those ticks.<h2 id=solution>Solution</h2><p>Introduce <code>DetectChanges::is_changed_after</code>, <code>DetectChanges::is_added_after</code>, and <code>SpawnDetails::is_spawned_after</code> methods. These call <code>Tick::is_newer_than</code> on the appropriate tick, using the <code>last_run</code> tick that is already stored.<h2 id=showcase>Showcase</h2><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span style=color:#f07171>-        if transform
</span><span style=color:#f07171>-            .last_changed()
</span><span style=color:#f07171>-            .is_newer_than(previous.last_changed(), system_change_tick.this_run())
</span><span style=color:#f07171>-        {
</span><span style=color:#86b300>+        if transform.is_changed_after(previous.last_changed()) {
</span></code></pre><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The issue that prompted this PR was a usability problem in Bevy’s ECS change detection system. When developers needed to compare change ticks between different components or resources, they had to use the low-level <code>Tick::is_newer_than</code> method with an awkward API. This method required two tick parameters: the tick to compare against, and the current system’s change tick. The problem was that the system change tick wasn’t naturally available in the context where these comparisons were typically made.<p>Consider the common scenario where you have a <code>Ref&LTT></code> (a reference to a component with change detection) and you want to know if it changed after some other tick. Previously, you’d need to write:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>if</span><span> component</span><span style=color:#ed9366>.</span><span style=color:#f07171>last_changed</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_newer_than</span><span>(other_tick</span><span style=color:#61676ccc>,</span><span> system_change_tick</span><span style=color:#ed9366>.</span><span style=color:#f07171>this_run</span><span>())
</span></code></pre><p>This required the developer to have access to a <code>SystemChangeTick</code> parameter, which isn’t always convenient or obvious. More importantly, the <code>Ref</code> type already contains the necessary <code>last_run</code> and <code>this_run</code> ticks internally - it was redundant to require the developer to pass them again.<p>The solution implemented in this PR is straightforward: add new methods to the <code>DetectChanges</code> trait that encapsulate the tick comparison logic using the ticks already stored in the change detection types. The new methods are <code>is_changed_after()</code> and <code>is_added_after()</code>, which take a single <code>Tick</code> parameter and compare against the internal state.<p>This change follows good API design principles by providing a higher-level abstraction over the low-level tick comparison. It reduces boilerplate, eliminates the need for developers to understand the internal <code>SystemChangeTick</code> parameter, and makes the code more readable.<p>The implementation was consistent across the codebase. The <code>DetectChanges</code> trait gained the two new methods, and existing implementations (through a macro and manual implementations) were updated to provide them. The existing <code>is_changed()</code> and <code>is_added()</code> methods were refactored to use the new <code>is_changed_after()</code> and <code>is_added_after()</code> methods, passing <code>self.ticks.last_run</code> as the comparison tick.<p>A similar change was made to <code>SpawnDetails</code> in the query system, adding an <code>is_spawned_after()</code> method for consistency. This follows the same pattern: encapsulating the tick comparison logic that was previously exposed directly.<p>The PR also includes updates to existing code that used the old pattern. In the observer runner and system registry, code was simplified by using the new methods. The most significant simplification is in the <code>bevy_pbr</code> module, where the <code>update_mesh_previous_global_transforms</code> system no longer needs the <code>SystemChangeTick</code> parameter and uses the cleaner <code>is_changed_after()</code> method.<p>This change is particularly valuable because it makes a common pattern much easier to use. The documentation example shows a practical use case: comparing a source component’s change tick with a target component’s change tick to decide whether to update the target. With the new API, this becomes a simple one-line comparison instead of a more complex expression involving system parameters.<p>From a technical perspective, the implementation is efficient. All methods are marked <code>#[inline]</code>, so there’s no performance penalty for the abstraction. The code generation should be identical to what was written manually before. The change maintains backward compatibility while providing a much cleaner API for new code.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Tick Comparison Problem] --> B{Requires SystemChangeTick}
</span><span>    B --> C[Awkward API]
</span><span>    C --> D[Solution: New Methods]
</span><span>    D --> E[DetectChanges::is_changed_after]
</span><span>    D --> F[DetectChanges::is_added_after]
</span><span>    D --> G[SpawnDetails::is_spawned_after]
</span><span>    E --> H[Uses Internal Ticks]
</span><span>    F --> H
</span><span>    G --> H
</span><span>    H --> I[Cleaner Code]
</span><span>    I --> J[Updated Usage in Codebase]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-ecs-src-change-detection-traits-rs-47-3><code>crates/bevy_ecs/src/change_detection/traits.rs</code> (+47/-3)</h3><p>This file contains the <code>DetectChanges</code> trait definition and the macro that implements it for various types. The key changes:<ul><li>Added two new methods to the trait: <code>is_added_after()</code> and <code>is_changed_after()</code><li>Updated the macro implementation to provide these methods<li>Refactored existing <code>is_added()</code> and <code>is_changed()</code> to use the new methods</ul><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before in the trait:
</span><span style=color:#fa6e32>pub trait </span><span style=color:#399ee6>DetectChanges </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// No methods for comparing with arbitrary ticks
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After in the trait:
</span><span style=color:#fa6e32>pub trait </span><span style=color:#399ee6>DetectChanges </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_changed</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added_after</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>other</span><span style=color:#61676ccc>:</span><span> Tick) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;  </span><span style=color:#abb0b6;font-style:italic>// New
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_changed_after</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>other</span><span style=color:#61676ccc>:</span><span> Tick) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool</span><span style=color:#61676ccc>;  </span><span style=color:#abb0b6;font-style:italic>// New
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Before in macro implementation:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks
</span><span>        </span><span style=color:#ed9366>.</span><span>added
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>is_newer_than</span><span>(</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks</span><span style=color:#ed9366>.</span><span>last_run</span><span style=color:#61676ccc>, </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks</span><span style=color:#ed9366>.</span><span>this_run)
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After in macro implementation:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_added_after</span><span>(</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks</span><span style=color:#ed9366>.</span><span>last_run)
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added_after</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>other</span><span style=color:#61676ccc>:</span><span> Tick) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks
</span><span>        </span><span style=color:#ed9366>.</span><span>added
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>is_newer_than</span><span>(other</span><span style=color:#61676ccc>, </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks</span><span style=color:#ed9366>.</span><span>this_run)
</span><span>}
</span></code></pre><h3 id=crates-bevy-ecs-src-change-detection-params-rs-12-6><code>crates/bevy_ecs/src/change_detection/params.rs</code> (+12/-6)</h3><p>Updated the manual implementation of <code>DetectChanges</code> for <code>MutUntyped</code> to match the new trait methods.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks
</span><span>        </span><span style=color:#ed9366>.</span><span>added
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>is_newer_than</span><span>(</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks</span><span style=color:#ed9366>.</span><span>last_run</span><span style=color:#61676ccc>, </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks</span><span style=color:#ed9366>.</span><span>this_run)
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_added_after</span><span>(</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks</span><span style=color:#ed9366>.</span><span>last_run)
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>is_added_after</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>other</span><span style=color:#61676ccc>:</span><span> Tick) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks</span><span style=color:#ed9366>.</span><span>added</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_newer_than</span><span>(other</span><span style=color:#61676ccc>, </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>ticks</span><span style=color:#ed9366>.</span><span>this_run)
</span><span>}
</span></code></pre><h3 id=crates-bevy-ecs-src-query-fetch-rs-8-1><code>crates/bevy_ecs/src/query/fetch.rs</code> (+8/-1)</h3><p>Added <code>is_spawned_after()</code> method to <code>SpawnDetails</code> for consistency with the change detection API.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>is_spawned</span><span>(</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>spawn_tick</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_newer_than</span><span>(</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>last_run</span><span style=color:#61676ccc>, </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>this_run)
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>is_spawned</span><span>(</span><span style=color:#ff8f40>self</span><span>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_spawned_after</span><span>(</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>last_run)
</span><span>}
</span><span>
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>is_spawned_after</span><span>(</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>other</span><span style=color:#61676ccc>:</span><span> Tick) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>bool </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>spawn_tick</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_newer_than</span><span>(other</span><span style=color:#61676ccc>, </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>this_run)
</span><span>}
</span></code></pre><h3 id=crates-bevy-pbr-src-prepass-mod-rs-1-5><code>crates/bevy_pbr/src/prepass/mod.rs</code> (+1/-5)</h3><p>Simplified code by using the new <code>is_changed_after()</code> method and removing the <code>SystemChangeTick</code> parameter.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>update_mesh_previous_global_transforms</span><span>(
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other parameters
</span><span>    </span><span style=color:#ff8f40>system_change_tick</span><span style=color:#61676ccc>:</span><span> SystemChangeTick,  </span><span style=color:#abb0b6;font-style:italic>// Needed for comparison
</span><span>) {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... 
</span><span>    </span><span style=color:#fa6e32>if</span><span> transform
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>last_changed</span><span>()
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>is_newer_than</span><span>(previous</span><span style=color:#ed9366>.</span><span style=color:#f07171>last_changed</span><span>()</span><span style=color:#61676ccc>,</span><span> system_change_tick</span><span style=color:#ed9366>.</span><span style=color:#f07171>this_run</span><span>())
</span><span>    {
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// Update logic
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>update_mesh_previous_global_transforms</span><span>(
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other parameters (no system_change_tick)
</span><span>) {
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>    </span><span style=color:#fa6e32>if</span><span> transform</span><span style=color:#ed9366>.</span><span style=color:#f07171>is_changed_after</span><span>(previous</span><span style=color:#ed9366>.</span><span style=color:#f07171>last_changed</span><span>()) {
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// Update logic
</span><span>    }
</span><span>}
</span></code></pre><h3 id=crates-bevy-ecs-src-observer-runner-rs-1-5-and-crates-bevy-ecs-src-system-system-registry-rs-8-1><code>crates/bevy_ecs/src/observer/runner.rs</code> (+1/-5) and <code>crates/bevy_ecs/src/system/system_registry.rs</code> (+8/-1)</h3><p>Updated hotpatching logic to use the new methods with <code>is_none_or()</code> for cleaner code.<h2 id=further-reading>Further Reading</h2><ol><li><strong>Bevy ECS Change Detection Documentation</strong>: For understanding how change detection works in Bevy’s ECS<li><strong>Tick-based Change Detection</strong>: The underlying mechanism that enables efficient change detection without expensive comparisons<li><strong>API Design Patterns</strong>: For learning about creating ergonomic APIs that hide implementation details<li><strong>Rust Trait System</strong>: Understanding how traits allow for consistent APIs across different types<li><strong>System Parameters in Bevy</strong>: How system parameters like <code>SystemChangeTick</code> work in Bevy’s ECS</ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_23149.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>