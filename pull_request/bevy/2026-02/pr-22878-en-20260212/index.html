<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22878 Add documentation links between common run conditions and skippable parameters
        
    </title><meta content="#22878 Add documentation links between common run conditions and skippable parameters" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-12</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-22878-zh-cn-20260212>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>Add documentation links between common run conditions and skippable parameters<h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Add documentation links between common run conditions and skippable parameters<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22878<li><strong>Author</strong>: chescock<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Docs, D-Trivial, A-ECS, S-Ready-For-Final-Review<li><strong>Created</strong>: 2026-02-09T15:43:17Z<li><strong>Merged</strong>: 2026-02-12T19:50:12Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p>The PR description is already in English, so no translation is needed:<h1 id=objective>Objective</h1><p>Better documentation.<p>Run conditions and skippable system parameters are both ways to skip running a system in some circumstances, and there is some overlap between the features. Add some documentation links between features that do similar things.<h2 id=solution>Solution</h2><p>Mention <code>If&LTRes&LTR>></code> from the <code>resource_exists</code> common run condition.<p>Mention <code>Populated</code> from the <code>any_match_filter</code> and <code>any_with_component</code> common run conditions, and vice versa, and add links between the two run conditions.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a documentation gap in Bevy’s ECS system by adding cross-references between two related but distinct features: run conditions and skippable system parameters. Both mechanisms allow skipping system execution under certain conditions, but they’re implemented differently and weren’t clearly connected in the documentation.<p>The problem was that developers might not realize these features are alternatives for similar use cases. For example, when checking if a resource exists, you could either use the <code>resource_exists</code> run condition or wrap your resource parameter with <code>If&LTRes&LTT>></code>. Without clear documentation linking these approaches, developers might not discover the alternative that better fits their specific needs or coding style.<p>The solution approach was straightforward: add documentation comments that explicitly mention the alternative approaches. This required modifying documentation strings in two key files without changing any functional code. The implementation is minimal and focused - just adding clarifying text with proper cross-references between modules.<p>From a technical perspective, this PR highlights an important design pattern in Bevy’s ECS: the separation between conditional execution logic (run conditions) and conditional parameter access (skippable parameters). Run conditions are evaluated before system execution and can prevent the system from running entirely. Skippable parameters, on the other hand, allow systems to run but conditionally provide or skip certain parameters based on runtime conditions. Both approaches have their place: run conditions are better when you want to skip all of a system’s work, while skippable parameters are useful when you want to conditionally process certain data within a system that still needs to run.<p>The impact of these changes is purely educational but valuable. By explicitly documenting the relationships between these features, developers can make more informed architectural decisions. They can choose between run conditions and skippable parameters based on their specific needs rather than potentially missing one approach entirely. This improves the discoverability of Bevy’s features and helps developers write more efficient and maintainable code.<p>One technical insight worth noting is how Bevy’s documentation uses Rust’s doc comment system to create these cross-references. The <code>[</code>crate::prelude::If<code>]</code> syntax creates proper intra-doc links that will work in the generated documentation, making these connections immediately accessible to developers reading the API docs.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    RC[Run Conditions] --> RE[resource_exists]
</span><span>    RC --> AC[any_with_component]
</span><span>    RC --> AF[any_match_filter]
</span><span>    
</span><span>    SP[Skippable Parameters] --> IF[If&amplt;Res&amplt;T&ampgt;&ampgt;]
</span><span>    SP --> PO[Populated]
</span><span>    SP --> SI[Single]
</span><span>    
</span><span>    RE -.->|alternative| IF
</span><span>    AC -.->|alternative| PO
</span><span>    AF -.->|alternative| PO
</span><span>    PO -.->|alternative| AC
</span><span>    PO -.->|alternative| AF
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><ol><li><p><strong>crates/bevy_ecs/src/schedule/condition.rs</strong> (+15/-0)</p> <p>This file contains Bevy’s common run conditions. The changes add documentation that links these run conditions to their corresponding skippable parameter alternatives.</p> <p>Key modifications:</p> <ul><li>Added documentation to <code>resource_exists</code> mentioning <code>If&LTRes&LTT>></code> and <code>If&LTResMut&LTT>></code> as alternatives<li>Added documentation to <code>any_with_component</code> mentioning its equivalence to <code>any_match_filter::&LTWith&LTT>>()</code> and <code>Populated</code>/<code>Single</code> as alternatives<li>Added documentation to <code>any_match_filter</code> mentioning its equivalence to <code>any_with_component</code> for simple <code>With&LTT></code> filters and <code>Populated</code>/<code>Single</code> as alternatives</ul> <p>Code snippets showing the added documentation:</p> <pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// In the resource_exists function documentation:
</span><span style=color:#abb0b6;font-style:italic>/// To skip a system with a [`Res`] or [`ResMut`](crate::prelude::ResMut) parameter if the resource does not exist,
</span><span style=color:#abb0b6;font-style:italic>/// you may instead wrap the parameter in [`If`](crate::prelude::If), like `If&LTRes&LTT>>` or `If&LTResMut&LTT>>`.
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// In the any_with_component function documentation:
</span><span style=color:#abb0b6;font-style:italic>/// This is equivalent to [`any_match_filter::&LTWith&LTT>>()`]
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// To skip a system with a [`Query`] parameter if the query is empty,
</span><span style=color:#abb0b6;font-style:italic>/// you may instead use [`Populated`](crate::prelude::Populated), if the query may match multiple entities,
</span><span style=color:#abb0b6;font-style:italic>/// or [`Single`](crate::prelude::Single), if it will only match one.
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// In the any_match_filter function documentation:
</span><span style=color:#abb0b6;font-style:italic>/// For a simple `With&LTT>` filter, this is equivalent to [`any_with_component::&LTT>()`].
</span><span style=color:#abb0b6;font-style:italic>///
</span><span style=color:#abb0b6;font-style:italic>/// To skip a system with a [`Query`] parameter if the query is empty,
</span><span style=color:#abb0b6;font-style:italic>/// you may instead use [`Populated`](crate::prelude::Populated), if the query may match multiple entities,
</span><span style=color:#abb0b6;font-style:italic>/// or [`Single`](crate::prelude::Single), if it will only match one.
</span></code></pre><li><p><strong>crates/bevy_ecs/src/system/query.rs</strong> (+3/-0)</p> <p>This file contains the <code>Populated</code> skippable parameter. The change adds documentation mentioning the run condition alternatives.</p> <p>Code snippet showing the added documentation:</p> <pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// In the Populated struct documentation:
</span><span style=color:#abb0b6;font-style:italic>/// If the system doesn't need to perform the query but should still be skipped if it is empty,
</span><span style=color:#abb0b6;font-style:italic>/// you may use the [`any_with_component`](crate::schedule::common_conditions::any_with_component) or [`any_match_filter`](crate::schedule::common_conditions::any_match_filter) run conditions.
</span></code></pre></ol><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_ecs/latest/bevy_ecs/schedule/condition/index.html target=_blank>Bevy ECS System Conditions Documentation</a> - Official documentation for Bevy’s system conditions<li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_ecs/latest/bevy_ecs/system/trait.SystemParam.html target=_blank>Bevy Skippable System Parameters</a> - Documentation for system parameters including skippable variants<li><a rel="noopener nofollow noreferrer" href=https://doc.rust-lang.org/rustdoc/how-to-write-documentation.html target=_blank>Rust Documentation Comments</a> - Guide to writing effective documentation in Rust<li><a rel="noopener nofollow noreferrer" href=https://bevy-cheatbook.github.io/programming/conditions.html target=_blank>Bevy Cheatbook: Conditions</a> - Practical guide to using conditions in Bevy</ul><h2 id=full-code-diff>Full Code Diff</h2><pre style=color:#61676c;background-color:#fafafa><code><span>diff --git a/crates/bevy_ecs/src/schedule/condition.rs b/crates/bevy_ecs/src/schedule/condition.rs
</span><span>index 1bb39c529f944..dde82d6551024 100644
</span><span>--- a/crates/bevy_ecs/src/schedule/condition.rs
</span><span>+++ b/crates/bevy_ecs/src/schedule/condition.rs
</span><span>@@ -432,6 +432,9 @@ pub mod common_conditions {
</span><span>     /// A [`SystemCondition`]-satisfying system that returns `true`
</span><span>     /// if the resource exists.
</span><span>     ///
</span><span>+    /// To skip a system with a [`Res`] or [`ResMut`](crate::prelude::ResMut) parameter if the resource does not exist,
</span><span>+    /// you may instead wrap the parameter in [`If`](crate::prelude::If), like `If&LTRes&LTT>>` or `If&LTResMut&LTT>>`.
</span><span>+    ///
</span><span>     /// # Example
</span><span>     ///
</span><span>     /// ```
</span><span>@@ -874,6 +877,12 @@ pub mod common_conditions {
</span><span>     /// A [`SystemCondition`]-satisfying system that returns `true`
</span><span>     /// if there are any entities with the given component type.
</span><span>     ///
</span><span>+    /// This is equivalent to [`any_match_filter::&LTWith&LTT>>()`]
</span><span>+    ///
</span><span>+    /// To skip a system with a [`Query`] parameter if the query is empty,
</span><span>+    /// you may instead use [`Populated`](crate::prelude::Populated), if the query may match multiple entities,
</span><span>+    /// or [`Single`](crate::prelude::Single), if it will only match one.
</span><span>+    ///
</span><span>     /// # Example
</span><span>     ///
</span><span>     /// ```
</span><span>@@ -921,6 +930,12 @@ pub mod common_conditions {
</span><span> 
</span><span>     /// A [`SystemCondition`]-satisfying system that returns `true`
</span><span>     /// if there are any entities that match the given [`QueryFilter`].
</span><span>+    ///
</span><span>+    /// For a simple `With&LTT>` filter, this is equivalent to [`any_with_component::&LTT>()`].
</span><span>+    ///
</span><span>+    /// To skip a system with a [`Query`] parameter if the query is empty,
</span><span>+    /// you may instead use [`Populated`](crate::prelude::Populated), if the query may match multiple entities,
</span><span>+    /// or [`Single`](crate::prelude::Single), if it will only match one.
</span><span>     pub fn any_match_filter&LTF: QueryFilter>(query: Query<(), F>) -> bool {
</span><span>         !query.is_empty()
</span><span>     }
</span><span>diff --git a/crates/bevy_ecs/src/system/query.rs b/crates/bevy_ecs/src/system/query.rs
</span><span>index c6293ede5c0b1..83b6b38240644 100644
</span><span>--- a/crates/bevy_ecs/src/system/query.rs
</span><span>+++ b/crates/bevy_ecs/src/system/query.rs
</span><span>@@ -2786,6 +2786,9 @@ impl<'w, 's, D: QueryData, F: QueryFilter> Single<'w, 's, D, F> {
</span><span> ///
</span><span> /// See [`Query`] for more details.
</span><span> ///
</span><span>+/// If the system doesn't need to perform the query but should still be skipped if it is empty,
</span><span>+/// you may use the [`any_with_component`](crate::schedule::common_conditions::any_with_component) or [`any_match_filter`](crate::schedule::common_conditions::any_match_filter) run conditions.
</span><span>+///
</span><span> /// [System parameter]: crate::system::SystemParam
</span><span> pub struct Populated<'w, 's, D: QueryData, F: QueryFilter = ()>(pub(crate) Query<'w, 's, D, F>);
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22878.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>