<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22815 Remove commented-out code in example `post-processing`
        
    </title><meta content="#22815 Remove commented-out code in example `post-processing`" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-06</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-22815-zh-cn-20260206>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>Remove commented-out code in example <code>post-processing</code><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Remove commented-out code in example <code>post-processing</code><li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22815<li><strong>Author</strong>: Breakdown-Dog<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, A-Rendering, C-Examples, S-Ready-For-Final-Review<li><strong>Created</strong>: 2026-02-05T12:46:22Z<li><strong>Merged</strong>: 2026-02-06T08:07:24Z<li><strong>Merged By</strong>: mockersf</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>Remove commented-out code in example <code>post-processing</code></ul><h2 id=testing>Testing</h2><ul><li>CI</ul><hr><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a straightforward code maintenance issue in the Bevy game engine’s post-processing example. The problem was simple: there was commented-out code that served no functional purpose but cluttered the codebase. While this might seem trivial, commented-out code can create confusion for developers reading the code, especially when it’s unclear why the code was commented out or whether it might be needed in the future.<p>The context here is the <code>post-processing.rs</code> example in Bevy’s 3D examples directory. Examples in Bevy serve as both demonstration code for users and test cases for the engine’s functionality. Keeping examples clean and maintainable is important because developers often copy patterns from examples when building their own applications. Commented-out code in examples can lead to confusion about best practices or suggest that certain approaches are valid when they’re actually deprecated or incomplete.<p>The solution approach was direct and minimal: remove the single line of commented-out code. The developer didn’t need to consider alternatives or architectural changes because the code was already non-functional and served no documented purpose. The engineering decision here was purely about code quality maintenance - removing dead code to keep the codebase clean.<p>Looking at the implementation details, the commented-out line was:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>//let vignette_mode_list = ["Cosine Fourth Law", "Higher-order Powers", "Smoothstep"];
</span></code></pre><p>This line appeared to be an array of string literals representing different vignette modes, likely from an earlier version of the post-processing example. The comment suggests it was part of a feature that displayed available vignette modes, but the current implementation uses a different approach. The variable <code>vignette_mode_list</code> wasn’t being used anywhere in the current code, making it safe to remove.<p>The technical insight here is about code maintenance practices. While individual instances of commented-out code might seem harmless, they accumulate over time and can:<ol><li>Make the code harder to read and understand<li>Create confusion about what code is actually active<li>Waste time when developers try to understand why code was commented out<li>Potentially hide bugs or incomplete features</ol><p>The impact of this change is minimal in terms of functionality but positive for code quality. By removing this commented-out code, the example becomes slightly cleaner and easier to understand. This aligns with good software engineering practices where code should either be functional or removed, not left in a commented-out state. If the code needs to be restored in the future, it can be retrieved from version control history.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[post-processing Example] --> B[update_help_text Function]
</span><span>    B --> C[Commented-out Code]
</span><span>    C --> D[Removed in PR]
</span><span>    B --> E[Clean Code After PR]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>File:</strong> <code>examples/3d/post_processing.rs</code><p><strong>Change description:</strong> Removed a single line of commented-out code that was no longer used in the post-processing example.<p><strong>Code diff:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#ed9366>#</span><span> File</span><span style=color:#61676ccc>:</span><span> examples</span><span style=color:#ed9366>/</span><span>3d</span><span style=color:#ed9366>/</span><span>post_processing</span><span style=color:#ed9366>.</span><span>rs
</span><span style=color:#ed9366>#</span><span> Before</span><span style=color:#61676ccc>:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>update_help_text</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>text</span><span style=color:#61676ccc>: </span><span>Single<</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> Text>, </span><span style=color:#ff8f40>app_settings</span><span style=color:#61676ccc>: </span><span>Res&LTAppSettings>) {
</span><span>    text</span><span style=color:#ed9366>.</span><span style=color:#f07171>clear</span><span>()</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#abb0b6;font-style:italic>//let vignette_mode_list = ["Cosine Fourth Law", "Higher-order Powers", "Smoothstep"];
</span><span>    </span><span style=color:#fa6e32>let</span><span> text_list </span><span style=color:#ed9366>= </span><span>[
</span><span>        </span><span style=color:#f07171>format!</span><span>(
</span><span>            </span><span style=color:#86b300>"Chromatic aberration intensity: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,
</span><span>
</span><span style=color:#ed9366>#</span><span> After</span><span style=color:#61676ccc>:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>update_help_text</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>text</span><span style=color:#61676ccc>: </span><span>Single<</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> Text>, </span><span style=color:#ff8f40>app_settings</span><span style=color:#61676ccc>: </span><span>Res&LTAppSettings>) {
</span><span>    text</span><span style=color:#ed9366>.</span><span style=color:#f07171>clear</span><span>()</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>let</span><span> text_list </span><span style=color:#ed9366>= </span><span>[
</span><span>        </span><span style=color:#f07171>format!</span><span>(
</span><span>            </span><span style=color:#86b300>"Chromatic aberration intensity: </span><span style=color:#ff8f40>{:.2}</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,
</span></code></pre><p><strong>Relationship to PR purpose:</strong> This change directly implements the PR’s objective of removing commented-out code from the post-processing example. The removed line was an array declaration that appeared to be related to vignette mode options but wasn’t actually used in the current implementation.<h2 id=further-reading>Further Reading</h2><ol><li>Bevy’s examples directory structure and purpose: https://github.com/bevyengine/bevy/tree/main/examples<li>Rust coding conventions and best practices: https://doc.rust-lang.org/1.0.0/style/README.html<li>Post-processing techniques in game engines: https://en.wikipedia.org/wiki/Post-processing_(video_games)<li>Code maintenance and technical debt concepts: https://martinfowler.com/bliki/TechnicalDebt.html</ol><h1 id=full-code-diff>Full Code Diff</h1><p>diff –git a/examples/3d/post_processing.rs b/examples/3d/post_processing.rs index 25873b6d1df96..e472bcdb97d2f 100644 — a/examples/3d/post_processing.rs +++ b/examples/3d/post_processing.rs @@ -237,7 +237,6 @@ fn update_chromatic_aberration_settings( /// [<code>AppSettings</code>]. fn update_help_text(mut text: Single<&mut Text>, app_settings: Res<appsettings>) { text.clear(); <ul><li>//let vignette_mode_list = [“Cosine Fourth Law”, “Higher-order Powers”, “Smoothstep”]; let text_list = [ format!( “Chromatic aberration intensity: {:.2}\n”,</ul>    <div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22815.patch id=patch-info style=display:none></div>  <div class=bottom-spacer></div> 