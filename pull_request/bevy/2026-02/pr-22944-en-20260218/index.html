<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22944 rename gltf_render_enabled to gltf_enable_standard_materials
        
    </title><meta content="#22944 rename gltf_render_enabled to gltf_enable_standard_materials" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-18</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-22944-zh-cn-20260218>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=rename-gltf-render-enabled-to-gltf-enable-standard-materials>rename gltf_render_enabled to gltf_enable_standard_materials</h2><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: rename gltf_render_enabled to gltf_enable_standard_materials<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22944<li><strong>Author</strong>: ChristopherBiscardi<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, A-Rendering, S-Ready-For-Final-Review, M-Migration-Guide, A-glTF<li><strong>Created</strong>: 2026-02-13T19:41:27Z<li><strong>Merged</strong>: 2026-02-18T01:09:10Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>We currently describe the new <code>gltf_render_enabled</code> flag as “disabling PBR rendering”, which is much broader than what it does in practice. In its current form it controls the construction and insertion of <code>StandardMaterial</code>s on entities, but does not affect the PBR rendering functionality of the application, or of glTF assets. (A user could still create their own <code>StandardMaterial</code>s or <code>StandardMaterial</code> extensions and insert them on the required meshes).<h2 id=solution>Solution</h2><p>Rename the flag to more accurately depict what it does in practice, which is enable/disable the automatic construction and insertion of <code>StandardMaterial</code>s when a glTF file is loading.<h2 id=testing>Testing</h2><p>There’s only one example that turns this off, <code>gltf_extension_mesh_2d</code>, which continues to run as expected.<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This pull request addresses a naming inconsistency in Bevy’s PBR plugin configuration. The developer identified that the <code>gltf_render_enabled</code> flag in the <code>PbrPlugin</code> struct had a misleading name. The name suggested it controlled whether PBR rendering was enabled for glTF assets, but in practice, its scope was much narrower.<p>The actual behavior of the flag is to control whether <code>StandardMaterial</code> components are automatically constructed and inserted onto entities when a glTF file is loaded. This is a specific part of the glTF asset loading pipeline. Even with this flag set to <code>false</code>, PBR rendering itself remains fully functional. Users could still manually create and attach <code>StandardMaterial</code> components to meshes, or use alternative materials. The flag only affects the default material assignment during the glTF import process.<p>The solution was straightforward: rename the field to <code>gltf_enable_standard_materials</code>. This new name directly describes the flag’s function—it enables or disables the automatic creation and insertion of standard materials for glTF assets. The change involved updating the field name in three places: the struct definition and its default value in the <code>PbrPlugin</code>, the conditional logic that uses it, and the single example that explicitly sets it to <code>false</code>.<p>From an engineering perspective, this is a classic example of improving code clarity through precise naming. Accurate naming reduces cognitive load for developers reading the code and prevents misunderstandings about the system’s behavior. The fix also required updating the migration guide, ensuring users upgrading their projects would be aware of the renamed field.<p>The implementation was minimal and surgical. The core logic remained unchanged; only the identifier was updated to better reflect its intent. The example <code>gltf_extension_mesh_2d</code> was updated and served as the test case, confirming the change didn’t break existing functionality.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[PbrPlugin Configuration] --> B{gltf_enable_standard_materials flag}
</span><span>    B -->|true| C[Automatically create/insert StandardMaterial]
</span><span>    B -->|false| D[Skip automatic StandardMaterial creation]
</span><span>    C --> E[glTF mesh has PBR material]
</span><span>    D --> F[glTF mesh has no material or custom material]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=1-crates-bevy-pbr-src-lib-rs>1. <code>crates/bevy_pbr/src/lib.rs</code></h3><p><strong>What changed:</strong> The field <code>gltf_render_enabled</code> in the <code>PbrPlugin</code> struct was renamed to <code>gltf_enable_standard_materials</code>. The associated documentation comment and default value were updated accordingly. The conditional check that uses this flag was also updated.<p><strong>Why:</strong> To give the configuration flag a name that accurately describes its specific function.<p><strong>Code Snippet:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: crates/bevy_pbr/src/lib.rs
</span><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>PbrPlugin </span><span>{
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>    </span><span style=color:#abb0b6;font-style:italic>/// Renders GLTFs with PBR.
</span><span>    </span><span style=color:#fa6e32>pub </span><span>gltf_render_enabled</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>bool</span><span>,
</span><span>}
</span><span>
</span><span style=color:#fa6e32>impl </span><span>Default </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>PbrPlugin </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>default</span><span>() </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>        </span><span style=color:#fa6e32>Self </span><span>{
</span><span>            </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>            gltf_render_enabled</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>true</span><span style=color:#61676ccc>,
</span><span>        }
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#fa6e32>impl </span><span>Plugin </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>PbrPlugin </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>build</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>app</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> App) {
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>        </span><span style=color:#fa6e32>if </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>gltf_render_enabled {
</span><span>            gltf</span><span style=color:#ed9366>::</span><span>add_gltf(app)</span><span style=color:#61676ccc>;
</span><span>        }
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>PbrPlugin </span><span>{
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>    </span><span style=color:#abb0b6;font-style:italic>/// Builds and inserts `StandardMaterial` when loading glTF files
</span><span>    </span><span style=color:#fa6e32>pub </span><span>gltf_enable_standard_materials</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>bool</span><span>,
</span><span>}
</span><span>
</span><span style=color:#fa6e32>impl </span><span>Default </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>PbrPlugin </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>default</span><span>() </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>        </span><span style=color:#fa6e32>Self </span><span>{
</span><span>            </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>            gltf_enable_standard_materials</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>true</span><span style=color:#61676ccc>,
</span><span>        }
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#fa6e32>impl </span><span>Plugin </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>PbrPlugin </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>build</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>app</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> App) {
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>        </span><span style=color:#fa6e32>if </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>gltf_enable_standard_materials {
</span><span>            gltf</span><span style=color:#ed9366>::</span><span>add_gltf(app)</span><span style=color:#61676ccc>;
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre><h3 id=2-examples-gltf-gltf-extension-mesh-2d-rs>2. <code>examples/gltf/gltf_extension_mesh_2d.rs</code></h3><p><strong>What changed:</strong> The example that disables the automatic standard material creation was updated to use the new field name.<p><strong>Why:</strong> To keep the example code functional and in sync with the API change.<p><strong>Code Snippet:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: examples/gltf/gltf_extension_mesh_2d.rs
</span><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#ed9366>.</span><span style=color:#f07171>set</span><span>(PbrPlugin {
</span><span>    gltf_render_enabled</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>false</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#ed9366>..</span><span style=color:#55b4d4;font-style:italic>Default</span><span style=color:#ed9366>::</span><span>default()
</span><span>})
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#ed9366>.</span><span style=color:#f07171>set</span><span>(PbrPlugin {
</span><span>    gltf_enable_standard_materials</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>false</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#ed9366>..</span><span style=color:#55b4d4;font-style:italic>Default</span><span style=color:#ed9366>::</span><span>default()
</span><span>})
</span></code></pre><h3 id=3-release-content-migration-guides-gltf-pbr-md>3. <code>release-content/migration-guides/gltf_pbr.md</code></h3><p><strong>What changed:</strong> The migration guide documentation was updated to show the new field name.<p><strong>Why:</strong> To provide correct instructions for users migrating their code after the rename.<p><strong>Code Snippet:</strong><pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span>// File: release-content/migration-guides/gltf_pbr.md
</span><span>// Before:
</span><span>PbrPlugin {
</span><span>    gltf_render_enabled: false,
</span><span>    ..Default::default()
</span><span>}
</span><span>
</span><span>// After:
</span><span>PbrPlugin {
</span><span>    gltf_enable_standard_materials: false,
</span><span>    ..Default::default()
</span><span>}
</span></code></pre><h2 id=further-reading>Further Reading</h2><ol><li>Bevy’s official documentation on <a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/book/3d-rendering/pbr/ target=_blank>PBR (Physically Based Rendering)</a><li>The glTF specification and how materials are defined: <a rel="noopener nofollow noreferrer" href=https://github.com/KhronosGroup/glTF/tree/main/specification/2.0#materials target=_blank>Khronos glTF 2.0 Specification</a><li>Bevy’s asset loading system and the <code>AssetServer</code>: <a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/book/assets/ target=_blank>Bevy Assets</a><li>Principles of clean code and meaningful naming: <em>Clean Code</em> by Robert C. Martin, specifically the chapter on “Meaningful Names”</ol><h1 id=full-code-diff>Full Code Diff</h1><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_pbr/src/lib.rs b/crates/bevy_pbr/src/lib.rs
</span><span>index ed8a993fee4e2..4ef2fb6c030d8 100644
</span><span style=color:#c594c5>--- a/crates/bevy_pbr/src/lib.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_pbr/src/lib.rs
</span><span style=color:#c594c5>@@ -139,8 +139,8 @@ </span><span style=color:#399ee6>pub struct PbrPlugin {
</span><span>     pub use_gpu_instance_buffer_builder: bool,
</span><span>     /// Debugging flags that can optionally be set when constructing the renderer.
</span><span>     pub debug_flags: RenderDebugFlags,
</span><span style=color:#f07171>-    /// Renders GLTFs with PBR.
</span><span style=color:#f07171>-    pub gltf_render_enabled: bool,
</span><span style=color:#86b300>+    /// Builds and inserts `StandardMaterial` when loading glTF files
</span><span style=color:#86b300>+    pub gltf_enable_standard_materials: bool,
</span><span> }
</span><span> 
</span><span> impl Default for PbrPlugin {
</span><span style=color:#c594c5>@@ -150,7 +150,7 @@ </span><span style=color:#399ee6>impl Default for PbrPlugin {
</span><span>             add_default_deferred_lighting_plugin: true,
</span><span>             use_gpu_instance_buffer_builder: true,
</span><span>             debug_flags: RenderDebugFlags::default(),
</span><span style=color:#f07171>-            gltf_render_enabled: true,
</span><span style=color:#86b300>+            gltf_enable_standard_materials: true,
</span><span>         }
</span><span>     }
</span><span> }
</span><span style=color:#c594c5>@@ -224,7 +224,7 @@ </span><span style=color:#399ee6>impl Plugin for PbrPlugin {
</span><span>             ))
</span><span>             .add_plugins((ScatteringMediumPlugin, AtmospherePlugin));
</span><span> 
</span><span style=color:#f07171>-        if self.gltf_render_enabled {
</span><span style=color:#86b300>+        if self.gltf_enable_standard_materials {
</span><span>             gltf::add_gltf(app);
</span><span>         }
</span><span> 
</span><span>diff --git a/examples/gltf/gltf_extension_mesh_2d.rs b/examples/gltf/gltf_extension_mesh_2d.rs
</span><span>index 11cdd792b6bf7..d1eb8ec578f65 100644
</span><span style=color:#c594c5>--- a/examples/gltf/gltf_extension_mesh_2d.rs
</span><span style=color:#c594c5>+++ b/examples/gltf/gltf_extension_mesh_2d.rs
</span><span style=color:#c594c5>@@ -44,7 +44,7 @@ </span><span style=color:#399ee6>fn main() {
</span><span>                         .add_custom_vertex_attribute("_BARYCENTRIC", ATTRIBUTE_BARYCENTRIC),
</span><span>                 )
</span><span>                 .set(PbrPlugin {
</span><span style=color:#f07171>-                    gltf_render_enabled: false,
</span><span style=color:#86b300>+                    gltf_enable_standard_materials: false,
</span><span>                     ..Default::default()
</span><span>                 }),
</span><span>             GltfToMesh2dPlugin,
</span><span>diff --git a/release-content/migration-guides/gltf_pbr.md b/release-content/migration-guides/gltf_pbr.md
</span><span>index a051a192fab85..0547aec98e90b 100644
</span><span style=color:#c594c5>--- a/release-content/migration-guides/gltf_pbr.md
</span><span style=color:#c594c5>+++ b/release-content/migration-guides/gltf_pbr.md
</span><span style=color:#c594c5>@@ -23,7 +23,7 @@ </span><span style=color:#399ee6>You can disable PBR rendering by initializing `PbrPlugin` as so:
</span><span> 
</span><span> ```rs
</span><span> PbrPlugin {
</span><span style=color:#f07171>-    gltf_render_enabled: false,
</span><span style=color:#86b300>+    gltf_enable_standard_materials: false,
</span><span>     ..Default::default()
</span><span> }
</span></code></pre><pre style=color:#61676c;background-color:#fafafa><code></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22944.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>