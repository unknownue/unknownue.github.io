<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #23007 Adding `TextFont` font weight helper methods
        
    </title><meta content="#23007 Adding `TextFont` font weight helper methods" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-17</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-23007-zh-cn-20260217>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>Adding <code>TextFont</code> font weight helper methods<h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Adding <code>TextFont</code> font weight helper methods<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/23007<li><strong>Author</strong>: Cr0a3<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, C-Usability, S-Ready-For-Final-Review, A-Text<li><strong>Created</strong>: 2026-02-17T16:34:45Z<li><strong>Merged</strong>: 2026-02-17T19:52:19Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><p>This pr adds an additional constructure for the <code>TextFont</code> structure, enabeling it, to be constructed from the font weight.<h2 id=solution>Solution</h2><p>I’ve added folloing methodes:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>fn </span><span style=color:#f29718>TextFont</span><span style=color:#ed9366>::</span><span>from_font_weight(</span><span style=color:#fa6e32>impl </span><span style=color:#399ee6>Into</span><span>&LTFontWeight>) -> </span><span style=color:#399ee6>Self </span><span>{ </span><span style=color:#ed9366>... </span><span>}
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>TextFont</span><span style=color:#ed9366>::</span><span>with_font_weight(</span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>impl </span><span style=color:#399ee6>Into</span><span>&LTFontWeight>) -> </span><span style=color:#399ee6>Self </span><span>{ </span><span style=color:#ed9366>... </span><span>}
</span></code></pre><h3 id=additional-context>Additional context</h3><p>This pr is relevant to #23006<h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a minor but noticeable gap in Bevy’s text API ergonomics. The <code>TextFont</code> struct, which controls font rendering properties, already had builder-style methods for several properties like font face, font size, and font smoothing. However, it was missing similar convenience methods for controlling font weight - a common typographic property that determines how thick or thin the characters appear.<p>The issue was straightforward: developers working with text in Bevy could easily set font weight by directly modifying the <code>weight</code> field of a <code>TextFont</code> instance, but the API lacked the convenience methods that existed for other properties. This created inconsistency in the API surface and made code that heavily used builder patterns less clean.<p>The developer implemented a solution that follows existing patterns in the codebase. They added two methods to the <code>TextFont</code> implementation:<ul><li><code>from_font_weight()</code>: A static constructor that creates a new <code>TextFont</code> with default values for all fields except the weight<li><code>with_font_weight()</code>: A builder method that takes an existing <code>TextFont</code> instance and returns a new one with the weight modified</ul><p>Both methods accept any type that implements <code>Into&LTFontWeight></code>, providing flexibility in how developers specify the weight. This is consistent with other similar methods in the API like <code>with_font_size()</code>.<p>The implementation is minimal and focused. The <code>from_font_weight()</code> method leverages the existing default constructor and chains it with the new <code>with_font_weight()</code> method, following the DRY principle. The <code>with_font_weight()</code> method modifies the <code>weight</code> field directly and returns the modified <code>self</code>, enabling method chaining.<p>This change doesn’t introduce new functionality but improves developer experience by making the API more consistent and complete. Developers can now use the same fluent interface patterns for font weight that they use for other font properties. The PR is appropriately labeled as both trivial (D-Trivial) and a usability improvement (C-Usability), reflecting its straightforward nature and positive impact on API ergonomics.<p>The PR references issue #23006, suggesting this might be part of a broader effort to improve text-related APIs in Bevy, though the connection isn’t explicitly detailed in the PR description itself.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[TextFont Struct] --> B[Existing Methods]
</span><span>    A --> C[New Methods]
</span><span>    
</span><span>    B --> B1[from_font_size]
</span><span>    B --> B2[with_font_size]
</span><span>    B --> B3[with_font]
</span><span>    B --> B4[with_font_smoothing]
</span><span>    
</span><span>    C --> C1[from_font_weight]
</span><span>    C --> C2[with_font_weight]
</span><span>    
</span><span>    C1 --> D[Uses with_font_weight]
</span><span>    C2 --> E[Modifies weight field]
</span><span>    
</span><span>    F[FontWeight] --> C1
</span><span>    F --> C2
</span><span>    
</span><span>    style C fill:#e1f5e1
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>crates/bevy_text/src/text.rs</strong> (+11/-0)<p>This file contains the <code>TextFont</code> struct definition and its implementation. The changes add two new methods to the existing implementation block.<p><strong>Key modifications:</strong><ol><li>Added <code>from_font_weight()</code> static constructor method:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>/// Returns a new [`TextFont`] with the specified font weight
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>from_font_weight</span><span>(</span><span style=color:#ff8f40>weight</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTFontWeight>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>default()</span><span style=color:#ed9366>.</span><span style=color:#f07171>with_font_weight</span><span>(weight)
</span><span>}
</span></code></pre><ol start=2><li>Added <code>with_font_weight()</code> builder method:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>/// Returns this [`TextFont`] with the specified [`FontWeight`].
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>with_font_weight</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>weight</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTFontWeight>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>weight </span><span style=color:#ed9366>=</span><span> weight</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>()</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self
</span><span>}
</span></code></pre><p><strong>How these changes relate to the overall purpose:</strong> These methods follow the exact same pattern as existing methods in the <code>TextFont</code> implementation. For example, comparing with the existing <code>from_font_size()</code> and <code>with_font_size()</code> methods shows the consistent pattern:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Existing pattern for font size
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>from_font_size</span><span>(</span><span style=color:#ff8f40>font_size</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTFontSize>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>    </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>default()</span><span style=color:#ed9366>.</span><span style=color:#f07171>with_font_size</span><span>(font_size)
</span><span>}
</span><span>
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>with_font_size</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>font_size</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTFontSize>) </span><span style=color:#61676ccc>-> </span><span style=color:#fa6e32>Self </span><span>{
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>font_size </span><span style=color:#ed9366>=</span><span> font_size</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>()</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#55b4d4;font-style:italic>self
</span><span>}
</span></code></pre><p>The new methods simply extend this pattern to the <code>weight</code> field, completing the set of builder methods for all <code>TextFont</code> properties.<h2 id=further-reading>Further Reading</h2><ol><li><p><strong>Bevy Text Documentation</strong>: The official Bevy documentation for text rendering provides context on how <code>TextFont</code> is used in the larger text system.</p><li><p><strong>Builder Pattern in Rust</strong>: This PR exemplifies the builder pattern in Rust, which is commonly used for creating complex objects with many optional parameters. Resources on Rust design patterns would provide deeper understanding of this approach.</p><li><p><strong>Typographic Concepts</strong>: Understanding font weight (thin, regular, bold, etc.) and other typographic properties helps appreciate why this API improvement is useful for game developers working with text.</p><li><p><strong>Rust’s <code>Into</code> Trait</strong>: The use of <code>impl Into&LTFontWeight></code> in method signatures demonstrates Rust’s trait system for accepting flexible input types. Documentation on the <code>Into</code> and <code>From</code> traits would explain this pattern further.</p><li><p><strong>Related PR #23006</strong>: While not detailed in this PR, the referenced issue might provide additional context about broader text API improvements in Bevy.</p></ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_23007.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>