<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #23050 Solari: Improved many lights test
        
    </title><meta content="#23050 Solari: Improved many lights test" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-20</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-23050-zh-cn-20260220>中文</a></div></div><div class=pr-content><h1 id=solari-improved-many-lights-test>Solari: Improved many lights test</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Solari: Improved many lights test<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/23050<li><strong>Author</strong>: JMS55<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: D-Trivial, A-Rendering, C-Examples, S-Ready-For-Final-Review<li><strong>Created</strong>: 2026-02-19T02:07:47Z<li><strong>Merged</strong>: 2026-02-20T01:53:56Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p>Make the test harder. The previous one was too easy.</p><img alt=image height=1875 src=https://github.com/user-attachments/assets/5454fb1b-8e8f-40bb-98ad-6e10e14e34ee width=3206><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The Solari example in Bevy is a stress test designed to evaluate the engine’s rendering performance under heavy loads, specifically testing the global illumination system’s ability to handle many light sources. The developer noticed that the existing test configuration was insufficient for properly stress-testing the system—it was “too easy.” The problem was that the test didn’t push the engine’s capabilities enough to reveal performance bottlenecks or rendering issues that would only appear under more demanding conditions.<p>The solution approach was straightforward: scale up the test parameters to create a more challenging scenario. Rather than modifying the rendering algorithms or adding new features, the developer simply increased the scale and complexity of the scene. This approach makes sense because the purpose of the example is to serve as a benchmark and stress test, not to demonstrate new functionality. By making the test more demanding, it becomes more useful for identifying performance regressions and testing optimization improvements.<p>The implementation involves several coordinated changes that work together to increase the test’s difficulty. First, the ground plane was expanded from 40×40 units to 400×400 units to accommodate more objects. This change prevents clustering and gives objects more space to spread out. Second, the sphere mesh generation was made explicit by using <code>Sphere::new(1.0)</code> instead of the default constructor, though this is a minor technical detail that doesn’t affect the test’s difficulty.<p>The most significant change is the increase in cube count from 200 to 8000, a 40× increase. These cubes serve as both geometry and light sources, dramatically increasing the rendering workload. To accommodate this increase, their placement range was expanded from ±18 units to ±180 units, matching the expanded plane size.<p>The light placement strategy was completely redesigned. Instead of 100 randomly placed emissive spheres, the new implementation creates a 21×21 grid (441 total lights) with consistent 20-unit spacing. This grid pattern creates a more uniform lighting distribution and eliminates the randomness that could lead to inconsistent test results between runs. The light intensity was also increased from 20000 to 60000 per channel, making the lights brighter and the lighting calculations more demanding.<p>Finally, the camera’s starting position and rotation were adjusted to provide a better view of the expanded scene. The new camera position (6.11, 166.75, 451.82) gives a high-altitude overview of the entire test area.<p>From a technical perspective, this test now exercises several important aspects of the rendering system simultaneously: it tests the engine’s ability to handle thousands of light sources, evaluates performance with large numbers of draw calls, stresses the global illumination calculations, and tests memory management for large scenes. The grid-based light placement is particularly valuable because it creates predictable, reproducible test conditions that make performance comparisons more meaningful.<p>The impact of these changes is that the Solari example now provides a much more rigorous test of Bevy’s rendering capabilities. Developers working on performance optimizations can use this test to measure improvements, and the engine maintainers can use it to catch performance regressions. The increased scale also makes the test more representative of real-world game scenes with complex lighting setups.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Setup Function] --> B[Ground Plane]
</span><span>    A --> C[Cube Meshes]
</span><span>    A --> D[Sphere Lights]
</span><span>    A --> E[Camera]
</span><span>    
</span><span>    B --> B1[Size: 40→400 units]
</span><span>    
</span><span>    C --> C1[Count: 200→8000]
</span><span>    C --> C2[Spread: ±18→±180 units]
</span><span>    
</span><span>    D --> D1[Placement: Random→Grid]
</span><span>    D --> D2[Count: 100→441]
</span><span>    D --> D3[Intensity: 20k→60k]
</span><span>    
</span><span>    E --> E1[New Position]
</span><span>    E --> E2[New Rotation]
</span><span>    
</span><span>    B1 --> F[More demanding test]
</span><span>    C1 --> F
</span><span>    C2 --> F
</span><span>    D1 --> F
</span><span>    D2 --> F
</span><span>    D3 --> F
</span><span>    E1 --> F
</span><span>    E2 --> F
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=examples-3d-solari-rs-33-31><code>examples/3d/solari.rs</code> (+33/-31)</h3><p>This is the only file modified in the PR. The changes transform a moderately complex lighting test into a much more demanding stress test by scaling up various parameters and changing the light placement strategy.<p><strong>Key modifications:</strong><ol><li><strong>Ground plane expansion</strong> - The base plane was increased from 40×40 to 400×400 units to accommodate more objects:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>let mut</span><span> plane_mesh </span><span style=color:#ed9366>= </span><span>Plane3d</span><span style=color:#ed9366>::</span><span>default()
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>mesh</span><span>()
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>size</span><span>(</span><span style=color:#ff8f40>40.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>40.0</span><span>)
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>build</span><span>()
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>let mut</span><span> plane_mesh </span><span style=color:#ed9366>= </span><span>Plane3d</span><span style=color:#ed9366>::</span><span>default()
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>mesh</span><span>()
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>size</span><span>(</span><span style=color:#ff8f40>400.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>400.0</span><span>)
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>build</span><span>()
</span></code></pre><ol start=2><li><strong>Sphere mesh explicit radius</strong> - Changed from default sphere to explicit 1.0 radius sphere:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>let</span><span> sphere_mesh </span><span style=color:#ed9366>=</span><span> meshes</span><span style=color:#ed9366>.</span><span style=color:#f07171>add</span><span>(
</span><span>    Sphere</span><span style=color:#ed9366>::</span><span>default()
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>mesh</span><span>()
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>build</span><span>()
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>let</span><span> sphere_mesh </span><span style=color:#ed9366>=</span><span> meshes</span><span style=color:#ed9366>.</span><span style=color:#f07171>add</span><span>(
</span><span>    Sphere</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>1.0</span><span>)
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>mesh</span><span>()
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>build</span><span>()
</span></code></pre><ol start=3><li><strong>Cube count increased 40×</strong> - From 200 to 8000 cubes:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>for </span><span style=color:#ed9366>_ in </span><span style=color:#ff8f40>0</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>200 </span><span>{
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#fa6e32>for </span><span style=color:#ed9366>_ in </span><span style=color:#ff8f40>0</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>8000 </span><span>{
</span></code></pre><ol start=4><li><strong>Cube placement range expanded</strong> - To match the larger ground plane:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>with_translation</span><span>(Vec3</span><span style=color:#ed9366>::</span><span>new(
</span><span>        rng</span><span style=color:#ed9366>.</span><span style=color:#f07171>random_range</span><span>(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>18.0</span><span style=color:#ed9366>..=</span><span style=color:#ff8f40>18.0</span><span>)</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#ff8f40>0.2</span><span style=color:#61676ccc>,
</span><span>        rng</span><span style=color:#ed9366>.</span><span style=color:#f07171>random_range</span><span>(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>18.0</span><span style=color:#ed9366>..=</span><span style=color:#ff8f40>18.0</span><span>)</span><span style=color:#61676ccc>,
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span>    </span><span style=color:#ed9366>.</span><span style=color:#f07171>with_translation</span><span>(Vec3</span><span style=color:#ed9366>::</span><span>new(
</span><span>        rng</span><span style=color:#ed9366>.</span><span style=color:#f07171>random_range</span><span>(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>180.0</span><span style=color:#ed9366>..=</span><span style=color:#ff8f40>180.0</span><span>)</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#ff8f40>0.2</span><span style=color:#61676ccc>,
</span><span>        rng</span><span style=color:#ed9366>.</span><span style=color:#f07171>random_range</span><span>(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>180.0</span><span style=color:#ed9366>..=</span><span style=color:#ff8f40>180.0</span><span>)</span><span style=color:#61676ccc>,
</span></code></pre><ol start=5><li><strong>Light placement strategy changed</strong> - From random placement to a structured grid:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before (random placement of 100 lights):
</span><span style=color:#fa6e32>for </span><span style=color:#ed9366>_ in </span><span style=color:#ff8f40>0</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>100 </span><span>{
</span><span>    commands
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>            </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>            Transform</span><span style=color:#ed9366>::</span><span>default()</span><span style=color:#ed9366>.</span><span style=color:#f07171>with_translation</span><span>(Vec3</span><span style=color:#ed9366>::</span><span>new(
</span><span>                rng</span><span style=color:#ed9366>.</span><span style=color:#f07171>random_range</span><span>(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>18.0</span><span style=color:#ed9366>..=</span><span style=color:#ff8f40>18.0</span><span>)</span><span style=color:#61676ccc>,
</span><span>                rng</span><span style=color:#ed9366>.</span><span style=color:#f07171>random_range</span><span>(</span><span style=color:#ff8f40>6.0</span><span style=color:#ed9366>..=</span><span style=color:#ff8f40>9.0</span><span>)</span><span style=color:#61676ccc>,
</span><span>                rng</span><span style=color:#ed9366>.</span><span style=color:#f07171>random_range</span><span>(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>18.0</span><span style=color:#ed9366>..=</span><span style=color:#ff8f40>18.0</span><span>)</span><span style=color:#61676ccc>,
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After (21×21 grid of 441 lights):
</span><span style=color:#fa6e32>for</span><span> x </span><span style=color:#ed9366>in -</span><span style=color:#ff8f40>10</span><span style=color:#ed9366>..=</span><span style=color:#ff8f40>10 </span><span>{
</span><span>    </span><span style=color:#fa6e32>for</span><span> y </span><span style=color:#ed9366>in -</span><span style=color:#ff8f40>10</span><span style=color:#ed9366>..=</span><span style=color:#ff8f40>10 </span><span>{
</span><span>        commands
</span><span>            </span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>                </span><span style=color:#abb0b6;font-style:italic>// ...
</span><span>                Transform</span><span style=color:#ed9366>::</span><span>default()</span><span style=color:#ed9366>.</span><span style=color:#f07171>with_translation</span><span>(Vec3</span><span style=color:#ed9366>::</span><span>new(
</span><span>                    (x </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>20</span><span>) </span><span style=color:#ed9366>as </span><span style=color:#fa6e32>f32</span><span style=color:#61676ccc>,
</span><span>                    </span><span style=color:#ff8f40>7.0</span><span style=color:#61676ccc>,
</span><span>                    (y </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>20</span><span>) </span><span style=color:#ed9366>as </span><span style=color:#fa6e32>f32</span><span style=color:#61676ccc>,
</span></code></pre><ol start=6><li><strong>Light intensity increased</strong> - From 20000 to 60000 per channel:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span>    emissive</span><span style=color:#61676ccc>: </span><span>Color</span><span style=color:#ed9366>::</span><span>linear_rgb(
</span><span>        rng</span><span style=color:#ed9366>.</span><span>random</span><span style=color:#ed9366>::</span><span><</span><span style=color:#fa6e32>f32</span><span>>() </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>20000.0</span><span style=color:#61676ccc>,
</span><span>        rng</span><span style=color:#ed9366>.</span><span>random</span><span style=color:#ed9366>::</span><span><</span><span style=color:#fa6e32>f32</span><span>>() </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>20000.0</span><span style=color:#61676ccc>,
</span><span>        rng</span><span style=color:#ed9366>.</span><span>random</span><span style=color:#ed9366>::</span><span><</span><span style=color:#fa6e32>f32</span><span>>() </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>20000.0</span><span style=color:#61676ccc>,
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span>    emissive</span><span style=color:#61676ccc>: </span><span>Color</span><span style=color:#ed9366>::</span><span>linear_rgb(
</span><span>        rng</span><span style=color:#ed9366>.</span><span>random</span><span style=color:#ed9366>::</span><span><</span><span style=color:#fa6e32>f32</span><span>>() </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>60000.0</span><span style=color:#61676ccc>,
</span><span>        rng</span><span style=color:#ed9366>.</span><span>random</span><span style=color:#ed9366>::</span><span><</span><span style=color:#fa6e32>f32</span><span>>() </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>60000.0</span><span style=color:#61676ccc>,
</span><span>        rng</span><span style=color:#ed9366>.</span><span>random</span><span style=color:#ed9366>::</span><span><</span><span style=color:#fa6e32>f32</span><span>>() </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>60000.0</span><span style=color:#61676ccc>,
</span></code></pre><ol start=7><li><strong>Camera position updated</strong> - To view the expanded scene:</ol><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span>    Transform</span><span style=color:#ed9366>::</span><span>from_translation(Vec3</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>0.0919233</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>7.5015035</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>28.449198</span><span>))
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>with_rotation</span><span>(Quat</span><span style=color:#ed9366>::</span><span>from_xyzw(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>0.18394549</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.0019948867</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.0003733214</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.98293436</span><span>))</span><span style=color:#61676ccc>,
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span>    Transform</span><span style=color:#ed9366>::</span><span>from_translation(Vec3</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>6.11329</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>166.74896</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>451.8226</span><span>))
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>with_rotation</span><span>(Quat</span><span style=color:#ed9366>::</span><span>from_xyzw(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>0.183938</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.009093744</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.0017017953</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.9828943</span><span>))</span><span style=color:#61676ccc>,
</span></code></pre><p>These changes work together to create a much more demanding test that better exercises Bevy’s rendering capabilities, particularly the global illumination system.<h2 id=further-reading>Further Reading</h2><ol><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/book/rendering/ target=_blank>Bevy’s Rendering Documentation</a> - Understanding Bevy’s rendering architecture<li><a rel="noopener nofollow noreferrer" href=https://en.wikipedia.org/wiki/Global_illumination target=_blank>Global Illumination Concepts</a> - Background on the rendering techniques being tested<li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/book/performance/ target=_blank>Performance Profiling in Bevy</a> - How to measure and optimize rendering performance<li><a rel="noopener nofollow noreferrer" href=https://gameprogrammingpatterns.com/optimization-patterns.html target=_blank>Stress Testing in Game Engines</a> - Patterns for creating effective performance tests</ol></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_23050.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>