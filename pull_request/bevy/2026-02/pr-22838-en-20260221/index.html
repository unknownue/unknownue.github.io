<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22838 Make `bevy_gltf` optional for `bevy_pbr`
        
    </title><meta content="#22838 Make `bevy_gltf` optional for `bevy_pbr`" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-21</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-22838-zh-cn-20260221>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Make <code>bevy_gltf</code> optional for <code>bevy_pbr</code><li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22838<li><strong>Author</strong>: Zeophlite<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: A-Rendering, C-Code-Quality, C-Usability, S-Ready-For-Final-Review, D-Straightforward<li><strong>Created</strong>: 2026-02-07T00:03:51Z<li><strong>Merged</strong>: 2026-02-21T21:20:22Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li><code>bevy_pbr</code> no longer strictly requires <code>bevy_gltf</code></ul><h2 id=solution>Solution</h2><ul><li>Make <code>bevy_gltf</code> an optional dependency, and feature gate the usage</ul><h2 id=testing>Testing</h2><ul><li><code>cargo run --example animated_mesh</code> compiles <code>bevy_gltf</code> and displays the fox and grass<li><code>cargo run --example 3d_shapes --no-default-features --features default_app,default_platform,3d_api,bevy_pbr,bevy_ui</code> compiles without <code>bevy_gltf</code> or <code>gltf</code></ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a dependency coupling issue between Bevy’s PBR rendering system and its GLTF format support. Previously, <code>bevy_pbr</code> had a hard dependency on <code>bevy_gltf</code>, which meant that any project using Bevy’s PBR rendering was forced to include GLTF support, even if the project didn’t need to load GLTF files.<p>The problem stemmed from architectural coupling between scene format handling and rendering logic. While GLTF materials need to be converted to Bevy’s <code>StandardMaterial</code> format for rendering, this conversion shouldn’t require a hard dependency between the two systems. The goal was to allow <code>bevy_pbr</code> to function independently of <code>bevy_gltf</code>, giving developers the flexibility to choose their scene format dependencies based on project needs.<p>The solution implements a straightforward feature-gating approach. The developer made <code>bevy_gltf</code> an optional dependency in <code>bevy_pbr</code>’s Cargo.toml and added conditional compilation checks around the GLTF-related code. This approach maintains backward compatibility while allowing projects to opt out of GLTF support when it’s not needed.<p>The implementation involved several coordinated changes. First, <code>bevy_gltf</code> was marked as optional in the dependencies section of <code>bevy_pbr/Cargo.toml</code>. Then, all the PBR feature flags that depended on GLTF features were updated to use conditional syntax (<code>bevy_gltf?/feature_name</code>) that only activates when <code>bevy_gltf</code> is present. The GLTF module in <code>bevy_pbr</code> was wrapped in a <code>#[cfg(feature = "bevy_gltf")]</code> attribute, and the function for converting GLTF materials to standard materials was made public with proper documentation.<p>A key insight from this implementation is the use of Rust’s conditional compilation system to manage optional dependencies. The <code>?</code> syntax in feature dependencies is particularly useful: <code>"bevy_gltf?/pbr_transmission_textures"</code> means this feature only gets enabled if <code>bevy_gltf</code> is available AND its <code>pbr_transmission_textures</code> feature is enabled. This preserves the existing behavior for users who include <code>bevy_gltf</code> while allowing others to exclude it entirely.<p>The changes also required updating the internal crate’s feature definitions to maintain the proper dependency chain. In <code>bevy_internal/Cargo.toml</code>, the <code>bevy_gltf</code> feature was updated to conditionally depend on <code>bevy_pbr</code>’s <code>bevy_gltf</code> feature, ensuring that when the <code>bevy_gltf</code> feature is enabled at the top level, it properly activates the GLTF support in both crates.<p>From an architectural perspective, this change improves modularity by separating concerns between scene format handling and rendering. The PBR system can now function with any scene format that can produce <code>StandardMaterial</code> instances, not just GLTF. This aligns with Bevy’s data-oriented design philosophy, where systems should be decoupled and composable.<p>The testing approach demonstrates both sides of the change: running the <code>animated_mesh</code> example confirms that GLTF support still works when included, while running <code>3d_shapes</code> with specific feature flags shows that PBR rendering can function without GLTF. This dual verification ensures the change doesn’t break existing functionality while enabling the new flexibility.<p>The migration guide update is minimal but important - it informs users that <code>bevy_gltf</code> is now optional and explains the architectural change. This helps users understand why they might want to adjust their feature selections and how to do so.<p>This PR represents a good practice in dependency management for game engines: making format support optional reduces binary size and compilation time for projects that don’t need specific formats, while maintaining full functionality for those that do. The implementation is clean, focused, and maintains backward compatibility, making it a straightforward but valuable improvement to Bevy’s architecture.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[bevy_pbr] -->|optional| B[bevy_gltf]
</span><span>    C[bevy_internal] -->|feature: bevy_pbr| A
</span><span>    C -->|feature: bevy_gltf| B
</span><span>    C -->|conditional| D[bevy_pbr?/bevy_gltf]
</span><span>    
</span><span>    B -->|provides| E[GltfMaterial]
</span><span>    A -->|converts to| F[StandardMaterial]
</span><span>    G[PBR Features] -->|conditional on| B
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><ol><li><p><strong><code>crates/bevy_pbr/Cargo.toml</code></strong> (+5/-5)</p> <ul><li>Changed <code>bevy_gltf</code> from a required dependency to an optional one<li>Updated all PBR feature flags to use conditional syntax (<code>bevy_gltf?/feature_name</code>)</ul> <pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#399ee6>bevy_gltf </span><span>= { </span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"../bevy_gltf"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"0.19.0-dev" </span><span>}
</span><span style=color:#399ee6>pbr_transmission_textures </span><span>= [</span><span style=color:#86b300>"bevy_gltf/pbr_transmission_textures"</span><span>]
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>bevy_gltf </span><span>= { </span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"../bevy_gltf"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>version </span><span>= </span><span style=color:#86b300>"0.19.0-dev"</span><span style=color:#61676ccc>, </span><span style=color:#399ee6>optional </span><span>= </span><span style=color:#ff8f40>true </span><span>}
</span><span style=color:#399ee6>pbr_transmission_textures </span><span>= [</span><span style=color:#86b300>"bevy_gltf?/pbr_transmission_textures"</span><span>]
</span></code></pre><li><p><strong><code>crates/bevy_internal/Cargo.toml</code></strong> (+1/-2)</p> <ul><li>Updated the <code>bevy_gltf</code> feature to conditionally depend on <code>bevy_pbr</code>’s <code>bevy_gltf</code> feature<li>Removed <code>bevy_gltf</code> from the <code>bevy_pbr</code> feature dependencies</ul> <pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span style=color:#abb0b6;font-style:italic># Before:
</span><span style=color:#399ee6>bevy_pbr </span><span>= [
</span><span>  </span><span style=color:#86b300>"dep:bevy_pbr"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"bevy_gltf"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#abb0b6;font-style:italic># ... other dependencies
</span><span>]
</span><span style=color:#399ee6>bevy_gltf </span><span>= [</span><span style=color:#86b300>"dep:bevy_gltf"</span><span style=color:#61676ccc>, </span><span style=color:#86b300>"bevy_scene"</span><span>]
</span><span>
</span><span style=color:#abb0b6;font-style:italic># After:
</span><span style=color:#399ee6>bevy_pbr </span><span>= [
</span><span>  </span><span style=color:#86b300>"dep:bevy_pbr"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#abb0b6;font-style:italic># ... other dependencies (bevy_gltf removed)
</span><span>]
</span><span style=color:#399ee6>bevy_gltf </span><span>= [</span><span style=color:#86b300>"dep:bevy_gltf"</span><span style=color:#61676ccc>, </span><span style=color:#86b300>"bevy_scene"</span><span style=color:#61676ccc>, </span><span style=color:#86b300>"bevy_pbr?/bevy_gltf"</span><span>]
</span></code></pre><li><p><strong><code>crates/bevy_pbr/src/lib.rs</code></strong> (+2/-0)</p> <ul><li>Added conditional compilation around the GLTF module import and setup<li>Only includes GLTF functionality when the <code>bevy_gltf</code> feature is enabled</ul> <pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Added feature gate for gltf module
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(feature </span><span style=color:#ed9366>= </span><span style=color:#86b300>"bevy_gltf"</span><span>)]
</span><span style=color:#fa6e32>mod </span><span style=color:#399ee6>gltf</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// ... later in the Plugin implementation:
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>cfg</span><span>(feature </span><span style=color:#ed9366>= </span><span style=color:#86b300>"bevy_gltf"</span><span>)]
</span><span style=color:#fa6e32>if </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>gltf_enable_standard_materials {
</span><span>    gltf</span><span style=color:#ed9366>::</span><span>add_gltf(app)</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><li><p><strong><code>crates/bevy_pbr/src/gltf.rs</code></strong> (+2/-1)</p> <ul><li>Made the material conversion function public and added documentation<li>This allows the function to be used externally when GLTF support is enabled</ul> <pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>standard_material_from_gltf_material</span><span>(</span><span style=color:#ff8f40>material</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span>GltfMaterial) </span><span style=color:#61676ccc>-></span><span> StandardMaterial {
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span style=color:#abb0b6;font-style:italic>/// Converts a [`GltfMaterial`] to a [`StandardMaterial`]
</span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>standard_material_from_gltf_material</span><span>(</span><span style=color:#ff8f40>material</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span>GltfMaterial) </span><span style=color:#61676ccc>-></span><span> StandardMaterial {
</span></code></pre><li><p><strong><code>release-content/migration-guides/gltf_pbr.md</code></strong> (+2/-0)</p> <ul><li>Updated the migration guide to note that <code>bevy_gltf</code> is now an optional dependency<li>Provides context for users about the architectural change</ul></ol><h2 id=further-reading>Further Reading</h2><ol><li><p><strong>Rust Cargo Features Documentation</strong>: The official guide to conditional compilation and feature flags in Rust projects</p> <ul><li>https://doc.rust-lang.org/cargo/reference/features.html</ul><li><p><strong>Bevy’s Modular Architecture</strong>: Documentation on Bevy’s plugin system and how to create modular, optional components</p> <ul><li>https://bevyengine.org/learn/book/getting-started/plugins/</ul><li><p><strong>GLTF 2.0 Specification</strong>: Understanding the GLTF format that Bevy’s <code>bevy_gltf</code> crate implements</p> <ul><li>https://www.khronos.org/gltf/</ul><li><p><strong>Data-Oriented Design</strong>: Principles behind decoupling systems like rendering and asset loading</p> <ul><li>https://bevyengine.org/learn/book/getting-started/ecs/</ul><li><p><strong>Conditional Compilation in Rust</strong>: Detailed guide on <code>#[cfg]</code> attributes and feature-based compilation</p> <ul><li>https://doc.rust-lang.org/reference/conditional-compilation.html</ul></ol><h1 id=full-code-diff>Full Code Diff</h1><pre class=language-diff data-lang=diff style=color:#61676c;background-color:#fafafa><code class=language-diff data-lang=diff><span>diff --git a/crates/bevy_internal/Cargo.toml b/crates/bevy_internal/Cargo.toml
</span><span>index bca9db6e5a54b..57a13fb7b6a73 100644
</span><span style=color:#c594c5>--- a/crates/bevy_internal/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_internal/Cargo.toml
</span><span style=color:#c594c5>@@ -251,7 +251,6 @@ </span><span style=color:#399ee6>bevy_anti_alias = ["dep:bevy_anti_alias", "bevy_core_pipeline"]
</span><span> bevy_post_process = ["dep:bevy_post_process", "bevy_core_pipeline"]
</span><span> bevy_pbr = [
</span><span>   "dep:bevy_pbr",
</span><span style=color:#f07171>-  "bevy_gltf",
</span><span>   "bevy_light",
</span><span>   "bevy_material",
</span><span>   "bevy_core_pipeline",
</span><span style=color:#c594c5>@@ -268,7 +267,7 @@ </span><span style=color:#399ee6>bevy_ui_render = ["dep:bevy_ui_render", "bevy_sprite_render", "bevy_ui"]
</span><span> bevy_solari = ["dep:bevy_solari", "bevy_pbr"]
</span><span> bevy_gizmos = ["dep:bevy_gizmos", "bevy_camera", "bevy_light?/bevy_gizmos"]
</span><span> bevy_gizmos_render = ["dep:bevy_gizmos_render", "bevy_gizmos"]
</span><span style=color:#f07171>-bevy_gltf = ["dep:bevy_gltf", "bevy_scene"]
</span><span style=color:#86b300>+bevy_gltf = ["dep:bevy_gltf", "bevy_scene", "bevy_pbr?/bevy_gltf"]
</span><span> 
</span><span> # Used to disable code that is unsupported when Bevy is dynamically linked
</span><span> dynamic_linking = ["bevy_diagnostic/dynamic_linking"]
</span><span>diff --git a/crates/bevy_pbr/Cargo.toml b/crates/bevy_pbr/Cargo.toml
</span><span>index b37eebfb9cfa2..0bbb4e906ef43 100644
</span><span style=color:#c594c5>--- a/crates/bevy_pbr/Cargo.toml
</span><span style=color:#c594c5>+++ b/crates/bevy_pbr/Cargo.toml
</span><span style=color:#c594c5>@@ -11,12 +11,12 @@ </span><span style=color:#399ee6>keywords = ["bevy"]
</span><span> [features]
</span><span> webgl = ["bevy_light/webgl"]
</span><span> webgpu = ["bevy_light/webgpu"]
</span><span style=color:#f07171>-pbr_transmission_textures = ["bevy_gltf/pbr_transmission_textures"]
</span><span style=color:#86b300>+pbr_transmission_textures = ["bevy_gltf?/pbr_transmission_textures"]
</span><span> pbr_multi_layer_material_textures = [
</span><span style=color:#f07171>-  "bevy_gltf/pbr_multi_layer_material_textures",
</span><span style=color:#86b300>+  "bevy_gltf?/pbr_multi_layer_material_textures",
</span><span> ]
</span><span style=color:#f07171>-pbr_anisotropy_texture = ["bevy_gltf/pbr_anisotropy_texture"]
</span><span style=color:#f07171>-pbr_specular_textures = ["bevy_gltf/pbr_specular_textures"]
</span><span style=color:#86b300>+pbr_anisotropy_texture = ["bevy_gltf?/pbr_anisotropy_texture"]
</span><span style=color:#86b300>+pbr_specular_textures = ["bevy_gltf?/pbr_specular_textures"]
</span><span> experimental_pbr_pcss = ["bevy_light/experimental_pbr_pcss"]
</span><span> pbr_clustered_decals = []
</span><span> pbr_light_textures = []
</span><span style=color:#c594c5>@@ -43,7 +43,7 @@ </span><span style=color:#399ee6>bevy_core_pipeline = { path = "../bevy_core_pipeline", version = "0.19.0-dev" }
</span><span> bevy_derive = { path = "../bevy_derive", version = "0.19.0-dev" }
</span><span> bevy_diagnostic = { path = "../bevy_diagnostic", version = "0.19.0-dev" }
</span><span> bevy_ecs = { path = "../bevy_ecs", version = "0.19.0-dev" }
</span><span style=color:#f07171>-bevy_gltf = { path = "../bevy_gltf", version = "0.19.0-dev" }
</span><span style=color:#86b300>+bevy_gltf = { path = "../bevy_gltf", version = "0.19.0-dev", optional = true }
</span><span> bevy_light = { path = "../bevy_light", version = "0.19.0-dev" }
</span><span> bevy_log = { path = "../bevy_log", version = "0.19.0-dev" }
</span><span> bevy_image = { path = "../bevy_image", version = "0.19.0-dev" }
</span><span>diff --git a/crates/bevy_pbr/src/gltf.rs b/crates/bevy_pbr/src/gltf.rs
</span><span>index 9923a8d74a079..944d906eb9ef2 100644
</span><span style=color:#c594c5>--- a/crates/bevy_pbr/src/gltf.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_pbr/src/gltf.rs
</span><span style=color:#c594c5>@@ -29,7 +29,8 @@ </span><span style=color:#399ee6>pub(crate) fn add_gltf(app: &mut App) {
</span><span>         .push(Box::new(GltfExtensionHandlerPbr));
</span><span> }
</span><span> 
</span><span style=color:#f07171>-fn standard_material_from_gltf_material(material: &GltfMaterial) -> StandardMaterial {
</span><span style=color:#86b300>+/// Converts a [`GltfMaterial`] to a [`StandardMaterial`]
</span><span style=color:#86b300>+pub fn standard_material_from_gltf_material(material: &GltfMaterial) -> StandardMaterial {
</span><span>     StandardMaterial {
</span><span>         base_color: material.base_color,
</span><span>         base_color_channel: material.base_color_channel.clone(),
</span><span>diff --git a/crates/bevy_pbr/src/lib.rs b/crates/bevy_pbr/src/lib.rs
</span><span>index 4ef2fb6c030d8..c86188eacd9b7 100644
</span><span style=color:#c594c5>--- a/crates/bevy_pbr/src/lib.rs
</span><span style=color:#c594c5>+++ b/crates/bevy_pbr/src/lib.rs
</span><span style=color:#c594c5>@@ -28,6 +28,7 @@ </span><span style=color:#399ee6>mod atmosphere;
</span><span> mod cluster;
</span><span> mod components;
</span><span> pub mod contact_shadows;
</span><span style=color:#86b300>+#[cfg(feature = "bevy_gltf")]
</span><span> mod gltf;
</span><span> use bevy_render::sync_component::SyncComponent;
</span><span> pub use contact_shadows::{
</span><span style=color:#c594c5>@@ -224,6 +225,7 @@ </span><span style=color:#399ee6>impl Plugin for PbrPlugin {
</span><span>             ))
</span><span>             .add_plugins((ScatteringMediumPlugin, AtmospherePlugin));
</span><span> 
</span><span style=color:#86b300>+        #[cfg(feature = "bevy_gltf")]
</span><span>         if self.gltf_enable_standard_materials {
</span><span>             gltf::add_gltf(app);
</span><span>         }
</span><span>diff --git a/release-content/migration-guides/gltf_pbr.md b/release-content/migration-guides/gltf_pbr.md
</span><span>index 0547aec98e90b..7f0b69cbd7732 100644
</span><span style=color:#c594c5>--- a/release-content/migration-guides/gltf_pbr.md
</span><span style=color:#c594c5>+++ b/release-content/migration-guides/gltf_pbr.md
</span><span style=color:#c594c5>@@ -5,6 +5,8 @@ </span><span style=color:#399ee6>pull_requests: [22569]
</span><span> 
</span><span> Previously, `bevy_gltf` depended on `bevy_pbr`. This meant scene definition was tightly coupled to rendering. This dependency has been inverted, to allow `bevy_gltf` to function without any of the rendering stack present.
</span><span> 
</span><span style=color:#86b300>+`bevy_gltf` is also an optional dependency.
</span><span style=color:#86b300>+
</span><span> In 0.18, loading a material sub-asset would return a `Handle&LTStandardMaterial>`.
</span><span> 
</span><span> ```rs
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22838.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>