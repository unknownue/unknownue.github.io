<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #23116 PR #23116 - "Create an example to show generating assets at runtime"
        
    </title><meta content='#23116 PR #23116 - "Create an example to show generating assets at runtime"' property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-25</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-23116-zh-cn-20260225>中文</a></div></div><div class=pr-content><h1 id=title-pr-23116-create-an-example-to-show-generating-assets-at-runtime>Title: PR #23116 - “Create an example to show generating assets at runtime”</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Create an example to show generating assets at runtime.<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/23116<li><strong>Author</strong>: andriyDev<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Examples, A-Assets, S-Ready-For-Final-Review, X-Uncontroversial, D-Straightforward<li><strong>Created</strong>: 2026-02-23T03:06:19Z<li><strong>Merged</strong>: 2026-02-25T08:17:01Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p>The PR description is already in English.<h1 id=objective>Objective</h1><ul><li>Show how to create assets at runtime.<li>https://discord.com/channels/691052431525675048/691052431974465548/1475244907047424236</ul><h2 id=solution>Solution</h2><ul><li>Create an example.</ul><h2 id=testing>Testing</h2><ul><li>The example works!</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>The Bevy engine community identified a gap in their documentation - there wasn’t a clear example showing developers how to generate assets dynamically at runtime. While Bevy has robust asset loading systems, the process for programmatically creating assets like meshes, materials, or textures during game execution wasn’t well-documented. This PR addresses that by adding a comprehensive example that demonstrates three distinct approaches to runtime asset generation.<p>The developer started by understanding the core problem: game developers often need to create assets on the fly rather than just loading pre-existing ones. This could be for procedural content generation, dynamic UI creation, or adapting game content based on player choices. The existing examples showed asset loading but not creation.<p>The solution approach focuses on demonstrating three practical methods for runtime asset generation, each serving different use cases. The first method shows immediate synchronous asset creation by directly inserting into an <code>Assets</code> collection. The second demonstrates asynchronous asset generation using Bevy’s async task system, which is useful for computationally expensive operations that shouldn’t block the main thread. The third method shows handle reservation followed by deferred population, giving developers control over when the asset data becomes available.<p>The implementation creates a single example file with clear, commented code showing each technique. The example generates three different 3D meshes (a cone, a torus, and another cone) using Bevy’s geometric primitives and displays them in a simple 3D scene. This visual demonstration makes it immediately obvious that the runtime generation is working.<p>From a technical perspective, the example leverages several key Bevy concepts. It demonstrates the use of <code>Assets&LTT></code> collections, handle management with <code>Handle&LTT></code>, the asset server’s async capabilities, and Bevy’s ECS patterns for deferred operations. The comment structure is particularly effective - each code block explains not just what it does, but when you’d choose that approach in a real project.<p>The impact is straightforward but significant: developers now have a reference implementation for a common game development pattern. The example is appropriately categorized in the assets section and marked as compatible with WebAssembly, indicating it’s been tested for cross-platform use. The minimal changes to the codebase (just adding an example) mean there’s no risk of breaking existing functionality while providing clear educational value.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[App Startup] --> B[setup system]
</span><span>    B --> C[Direct Mesh Insertion&LTbr/>materials.add()]
</span><span>    B --> D[Async Asset Generation&LTbr/>asset_server.add_async()]
</span><span>    B --> E[Handle Reservation&LTbr/>meshes.reserve_handle()]
</span><span>    E --> F[generate_mesh_system]
</span><span>    F --> G[Deferred Mesh Insertion&LTbr/>meshes.insert()]
</span><span>    
</span><span>    C --> H[Render Cone Mesh]
</span><span>    D --> I[Render Cone Mesh&LTbr/>(deferred)]
</span><span>    G --> J[Render Torus Mesh&LTbr/>(system-populated)]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><ol><li><strong><code>examples/asset/generated_assets.rs</code></strong> (+71/-0) <ul><li>New file: Complete example demonstrating three approaches to runtime asset generation<li>Shows immediate asset creation, async generation, and handle reservation patterns<li>Includes proper ECS setup with systems and resources</ul></ol><p>Key code sections:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Method 1: Direct synchronous insertion
</span><span style=color:#fa6e32>let</span><span> material_handle </span><span style=color:#ed9366>=</span><span> materials</span><span style=color:#ed9366>.</span><span style=color:#f07171>add</span><span>(StandardMaterial</span><span style=color:#ed9366>::</span><span>default())</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Method 2: Async deferred generation
</span><span>Mesh3d(asset_server</span><span style=color:#ed9366>.</span><span style=color:#f07171>add_async</span><span>(</span><span style=color:#f07171>generate_mesh_async</span><span>()))
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// Method 3: Handle reservation with deferred population
</span><span style=color:#fa6e32>let</span><span> mesh_handle </span><span style=color:#ed9366>=</span><span> meshes</span><span style=color:#ed9366>.</span><span style=color:#f07171>reserve_handle</span><span>()</span><span style=color:#61676ccc>;
</span><span style=color:#abb0b6;font-style:italic>// ... later in generate_mesh_system:
</span><span>meshes</span><span style=color:#ed9366>.</span><span style=color:#f07171>insert</span><span>(</span><span style=color:#ed9366>&</span><span>handle_to_generate</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> mesh)</span><span style=color:#ed9366>.</span><span style=color:#f07171>unwrap</span><span>()</span><span style=color:#61676ccc>;
</span></code></pre><ol start=2><li><strong><code>Cargo.toml</code></strong> (+11/-0) <ul><li>Added example configuration with proper metadata<li>Enabled documentation scraping for the example<li>Marked as WebAssembly compatible</ul></ol><p>Key changes:<pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"generated_assets"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/asset/generated_assets.rs"
</span><span style=color:#399ee6>doc-scrape-examples </span><span>= </span><span style=color:#ff8f40>true
</span><span>
</span><span>[</span><span style=color:#399ee6>package</span><span style=color:#61676ccc>.</span><span style=color:#399ee6>metadata</span><span style=color:#61676ccc>.</span><span style=color:#399ee6>example</span><span style=color:#61676ccc>.</span><span style=color:#399ee6>generated_assets</span><span>]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"Generated Assets"
</span><span style=color:#399ee6>description </span><span>= </span><span style=color:#86b300>"Shows how to generate and store assets at runtime"
</span><span style=color:#399ee6>category </span><span>= </span><span style=color:#86b300>"Assets"
</span><span style=color:#399ee6>wasm </span><span>= </span><span style=color:#ff8f40>true
</span></code></pre><ol start=3><li><strong><code>examples/README.md</code></strong> (+1/-0) <ul><li>Added entry for the new example in the assets section<li>Maintains alphabetical ordering with other asset examples</ul></ol><p>Key change:<pre class=language-markdown data-lang=markdown style=color:#61676c;background-color:#fafafa><code class=language-markdown data-lang=markdown><span>[Generated Assets](</span><span style=color:#4cbf99;font-style:italic;text-decoration:underline>../examples/asset/generated_assets.rs</span><span>) | Shows how to generate and store assets at runtime
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li>Bevy Assets Documentation: https://bevyengine.org/learn/book/assets/<li>Bevy ECS Patterns: https://bevyengine.org/learn/book/ecs/<li>Async Programming in Bevy: https://bevyengine.org/learn/book/async/<li>Procedural Content Generation in Games: Academic literature on runtime asset generation techniques</ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_23116.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>