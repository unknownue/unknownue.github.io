<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22803 Fix asset extraction for `GpuAutoExposureCompensationCurve`
        
    </title><meta content="#22803 Fix asset extraction for `GpuAutoExposureCompensationCurve`" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-06</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-22803-zh-cn-20260206>中文</a></div></div><div class=pr-content><h1 id=title-fix-asset-extraction-for-gpuautoexposurecompensationcurve>Title: Fix asset extraction for <code>GpuAutoExposureCompensationCurve</code></h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Fix asset extraction for <code>GpuAutoExposureCompensationCurve</code><li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22803<li><strong>Author</strong>: Breakdown-Dog<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Bug, A-Rendering, S-Ready-For-Final-Review, D-Straightforward<li><strong>Created</strong>: 2026-02-04T07:57:19Z<li><strong>Merged</strong>: 2026-02-06T19:50:36Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h1 id=objective>Objective</h1><ul><li>When I am running the example <code>auto_exposure</code> on the main branch. I get errors, and the auto exposure effect does not work correctly.</ul><pre style=color:#61676c;background-color:#fafafa><code><span>2026-02-04T05:36:29.462198Z ERROR bevy_render::render_asset: bevy_post_process::auto_exposure::compensation_curve::GpuAutoExposureCompensationCurve with RenderAssetUsages == RENDER_WORLD cannot be extracted: The asset type does not support extraction. To clone the asset to the renderworld, use `RenderAssetUsages::default()`
</span><span>2026-02-04T05:36:29.462407Z ERROR bevy_render::render_asset: bevy_post_process::auto_exposure::compensation_curve::GpuAutoExposureCompensationCurve with RenderAssetUsages == RENDER_WORLD cannot be extracted: The asset type does not support extraction. To clone the asset to the renderworld, use `RenderAssetUsages::default()`
</span></code></pre><ul><li><p>I believe the reason is that<code> GpuAutoExposureCompensationCurve</code> is missing the <code>take_gpu_data</code> function from the <code>RenderAsset</code> trait.</p><li><p>The code snippet that outputs error information <code>(crates\bevy_render\src\render_asset.rs)</code>.</p></ul><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>for</span><span> id </span><span style=color:#ed9366>in</span><span> needs_extracting</span><span style=color:#ed9366>.</span><span style=color:#f07171>drain</span><span>() {
</span><span>  </span><span style=color:#fa6e32>if let </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(asset) </span><span style=color:#ed9366>=</span><span> assets</span><span style=color:#ed9366>.</span><span style=color:#f07171>get</span><span>(id) {
</span><span>      </span><span style=color:#fa6e32>let</span><span> asset_usage </span><span style=color:#ed9366>= </span><span>A</span><span style=color:#ed9366>::</span><span>asset_usage(asset)</span><span style=color:#61676ccc>;
</span><span>      </span><span style=color:#fa6e32>if</span><span> asset_usage</span><span style=color:#ed9366>.</span><span style=color:#f07171>contains</span><span>(RenderAssetUsages</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>RENDER_WORLD</span><span>) {
</span><span>          </span><span style=color:#fa6e32>if</span><span> asset_usage </span><span style=color:#ed9366>== </span><span>RenderAssetUsages</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>RENDER_WORLD </span><span>{
</span><span>              </span><span style=color:#fa6e32>if let </span><span style=color:#55b4d4;font-style:italic>Some</span><span>(asset) </span><span style=color:#ed9366>=</span><span> assets</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mut_untracked</span><span>(id) {
</span><span>                  </span><span style=color:#fa6e32>let</span><span> previous_asset </span><span style=color:#ed9366>=</span><span> maybe_render_assets</span><span style=color:#ed9366>.</span><span style=color:#f07171>as_ref</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#f07171>and_then</span><span>(|</span><span style=color:#ff8f40>render_assets</span><span>| render_assets</span><span style=color:#ed9366>.</span><span style=color:#f07171>get</span><span>(id))</span><span style=color:#61676ccc>;
</span><span>                  </span><span style=color:#fa6e32>match </span><span>A</span><span style=color:#ed9366>::</span><span>take_gpu_data(asset</span><span style=color:#61676ccc>,</span><span> previous_asset) {
</span><span>                      </span><span style=color:#55b4d4;font-style:italic>Ok</span><span>(gpu_data_asset) </span><span style=color:#ed9366>=> </span><span>{
</span><span>                          extracted_assets</span><span style=color:#ed9366>.</span><span style=color:#f07171>push</span><span>((id</span><span style=color:#61676ccc>,</span><span> gpu_data_asset))</span><span style=color:#61676ccc>;
</span><span>                          added</span><span style=color:#ed9366>.</span><span style=color:#f07171>insert</span><span>(id)</span><span style=color:#61676ccc>;
</span><span>                      }
</span><span>                      </span><span style=color:#55b4d4;font-style:italic>Err</span><span>(e) </span><span style=color:#ed9366>=> </span><span>{
</span><span>                          </span><span style=color:#f07171>error!</span><span>(</span><span style=color:#86b300>"{} with RenderAssetUsages == RENDER_WORLD cannot be extracted: {e}"</span><span style=color:#61676ccc>, </span><span>core</span><span style=color:#ed9366>::</span><span>any</span><span style=color:#ed9366>::</span><span>type_name</span><span style=color:#ed9366>::</span><span>&LTA>())</span><span style=color:#61676ccc>;
</span><span>                      }
</span><span>                  }</span><span style=color:#61676ccc>;
</span><span>              }
</span><span>          } </span><span style=color:#fa6e32>else </span><span>{
</span><span>              extracted_assets</span><span style=color:#ed9366>.</span><span style=color:#f07171>push</span><span>((id</span><span style=color:#61676ccc>,</span><span> asset</span><span style=color:#ed9366>.</span><span style=color:#f07171>clone</span><span>()))</span><span style=color:#61676ccc>;
</span><span>              added</span><span style=color:#ed9366>.</span><span style=color:#f07171>insert</span><span>(id)</span><span style=color:#61676ccc>;
</span><span>          }
</span><span>      }
</span><span>  }
</span><span>}
</span></code></pre><h2 id=solution>Solution</h2><ul><li>Add <code>take_gpu_data()</code> function.</ul><h2 id=testing>Testing</h2><ul><li>The example <code>auto_exposure</code> works correctly.<li>CI</ul><hr><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a specific but critical issue in Bevy’s auto-exposure system where the <code>GpuAutoExposureCompensationCurve</code> asset fails to extract to the render world, breaking the auto-exposure post-processing effect. The problem manifests when running the <code>auto_exposure</code> example, producing error messages about unsupported extraction and causing the visual effect to fail.<p>The issue stems from Bevy’s render asset extraction pipeline. When an asset has <code>RenderAssetUsages::RENDER_WORLD</code> as its only usage (not combined with other usages), the extraction system calls the <code>take_gpu_data</code> method from the <code>RenderAsset</code> trait. This method is responsible for transferring asset data from the main world to the render world. The error occurs because <code>GpuAutoExposureCompensationCurve</code> implements the <code>RenderAsset</code> trait but doesn’t provide this required method.<p>Looking at the error handling code in <code>crates\bevy_render\src\render_asset.rs</code>, we can see the exact failure point. When <code>asset_usage == RenderAssetUsages::RENDER_WORLD</code>, the system calls <code>A::take_gpu_data(asset, previous_asset)</code>. If this method doesn’t exist or returns an error, the system logs the error we see. This is a safety mechanism that prevents assets from being incorrectly transferred between worlds.<p>The fix is straightforward: implement the missing <code>take_gpu_data</code> method. For <code>GpuAutoExposureCompensationCurve</code>, the implementation simply clones the source asset. This approach is appropriate because the compensation curve data is relatively small and doesn’t need complex GPU preparation logic. The method signature matches the trait definition, taking a mutable reference to the source asset and an optional previous GPU asset, returning either the extracted asset or an error.<p>The implementation follows the pattern established by other render assets in the codebase. The <code>take_gpu_data</code> method returns <code>Ok(source.clone())</code>, which creates a new instance of the asset for use in the render world. This cloning approach works well for this type of asset because it contains primarily configuration data for the auto-exposure compensation curve.<p>This fix is minimal but important because it enables the auto-exposure system to function correctly. Without it, the compensation curve data never reaches the render world, so the post-processing shader can’t apply the correct exposure adjustments. The change demonstrates how Bevy’s render asset system requires complete trait implementations even for relatively simple assets.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Main World] -->|Extraction Phase| B[Render World]
</span><span>    A --> C[GpuAutoExposureCompensationCurve&LTbr/>RenderAsset implementation]
</span><span>    C --> D[Missing take_gpu_data method]
</span><span>    D --> E[Extraction Error]
</span><span>    F[Added take_gpu_data method] --> C
</span><span>    C --> G[Successful extraction]
</span><span>    G --> B
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-post-process-src-auto-exposure-compensation-curve-rs-8-1><code>crates/bevy_post_process/src/auto_exposure/compensation_curve.rs</code> (+8/-1)</h3><p>This file contains the implementation of <code>GpuAutoExposureCompensationCurve</code> and its <code>RenderAsset</code> trait implementation. The change adds the missing <code>take_gpu_data</code> method to make the asset extractable to the render world.<p><strong>Before:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>impl </span><span>RenderAsset </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>GpuAutoExposureCompensationCurve </span><span>{
</span><span>    </span><span style=color:#fa6e32>type </span><span style=color:#399ee6>SourceAsset </span><span style=color:#ed9366>=</span><span> GpuAutoExposureCompensationCurve</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>type </span><span style=color:#399ee6>Param </span><span style=color:#ed9366>= </span><span>SRes&LTRenderDevice></span><span style=color:#61676ccc>;
</span><span>
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>asset_usage</span><span>(</span><span style=color:#ff8f40>_asset</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>SourceAsset) </span><span style=color:#61676ccc>-></span><span> RenderAssetUsages {
</span><span>        RenderAssetUsages</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>RENDER_WORLD
</span><span>    }
</span><span>
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// Missing take_gpu_data method here
</span><span>
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>prepare_asset</span><span>(
</span><span>        </span><span style=color:#ff8f40>source</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>SourceAsset,
</span><span>        </span><span style=color:#ed9366>_</span><span>: AssetId<</span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>SourceAsset>,
</span><span>        </span><span style=color:#ff8f40>render_device</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span>SystemParamItem<'</span><span style=color:#ed9366>_</span><span>, '</span><span style=color:#ed9366>_</span><span>, </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Param>,
</span><span>    ) </span><span style=color:#61676ccc>-> </span><span style=color:#55b4d4;font-style:italic>Result</span><span><</span><span style=color:#fa6e32>Self</span><span>, PrepareAssetError<</span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>SourceAsset>> {
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// ... existing preparation code ...
</span><span>    }
</span><span>}
</span></code></pre><p><strong>After:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>impl </span><span>RenderAsset </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>GpuAutoExposureCompensationCurve </span><span>{
</span><span>    </span><span style=color:#fa6e32>type </span><span style=color:#399ee6>SourceAsset </span><span style=color:#ed9366>=</span><span> GpuAutoExposureCompensationCurve</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>type </span><span style=color:#399ee6>Param </span><span style=color:#ed9366>= </span><span>SRes&LTRenderDevice></span><span style=color:#61676ccc>;
</span><span>
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>asset_usage</span><span>(</span><span style=color:#ff8f40>_asset</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>SourceAsset) </span><span style=color:#61676ccc>-></span><span> RenderAssetUsages {
</span><span>        RenderAssetUsages</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>RENDER_WORLD
</span><span>    }
</span><span>
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>take_gpu_data</span><span>(
</span><span>        </span><span style=color:#ff8f40>source</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut Self</span><span style=color:#ed9366>::</span><span>SourceAsset,
</span><span>        </span><span style=color:#ff8f40>_previous_gpu_asset</span><span style=color:#61676ccc>: </span><span style=color:#55b4d4;font-style:italic>Option</span><span><</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>Self</span><span>>,
</span><span>    ) </span><span style=color:#61676ccc>-> </span><span style=color:#55b4d4;font-style:italic>Result</span><span><</span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>SourceAsset, AssetExtractionError> {
</span><span>        </span><span style=color:#55b4d4;font-style:italic>Ok</span><span>(source</span><span style=color:#ed9366>.</span><span style=color:#f07171>clone</span><span>())
</span><span>    }
</span><span>
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>prepare_asset</span><span>(
</span><span>        </span><span style=color:#ff8f40>source</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>SourceAsset,
</span><span>        </span><span style=color:#ed9366>_</span><span>: AssetId<</span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>SourceAsset>,
</span><span>        </span><span style=color:#ff8f40>render_device</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span>SystemParamItem<'</span><span style=color:#ed9366>_</span><span>, '</span><span style=color:#ed9366>_</span><span>, </span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>Param>,
</span><span>    ) </span><span style=color:#61676ccc>-> </span><span style=color:#55b4d4;font-style:italic>Result</span><span><</span><span style=color:#fa6e32>Self</span><span>, PrepareAssetError<</span><span style=color:#fa6e32>Self</span><span style=color:#ed9366>::</span><span>SourceAsset>> {
</span><span>        </span><span style=color:#abb0b6;font-style:italic>// ... existing preparation code ...
</span><span>    }
</span><span>}
</span></code></pre><p>The key addition is the <code>take_gpu_data</code> method that simply clones the source asset. This allows the asset extraction system to transfer the compensation curve data to the render world when <code>RenderAssetUsages::RENDER_WORLD</code> is specified as the asset’s usage.<h2 id=further-reading>Further Reading</h2><ol><li>Bevy Render Assets documentation: https://bevyengine.org/learn/quick-start/assets/render-assets/<li>RenderAsset trait reference: https://docs.rs/bevy/latest/bevy/render/render_asset/trait.RenderAsset.html<li>Auto Exposure in Computer Graphics: https://en.wikipedia.org/wiki/Auto_exposure<li>Bevy Post-Processing examples: https://github.com/bevyengine/bevy/tree/main/examples/3d</ol><hr><h1 id=full-code-diff>Full Code Diff</h1><pre style=color:#61676c;background-color:#fafafa><code><span>diff --git a/crates/bevy_post_process/src/auto_exposure/compensation_curve.rs b/crates/bevy_post_process/src/auto_exposure/compensation_curve.rs
</span><span>index c7c4fcbecb174..8e60bbb2b0ce8 100644
</span><span>--- a/crates/bevy_post_process/src/auto_exposure/compensation_curve.rs
</span><span>+++ b/crates/bevy_post_process/src/auto_exposure/compensation_curve.rs
</span><span>@@ -3,7 +3,7 @@ use bevy_ecs::system::{lifetimeless::SRes, SystemParamItem};
</span><span> use bevy_math::{cubic_splines::CubicGenerator, FloatExt, Vec2};
</span><span> use bevy_reflect::prelude::*;
</span><span> use bevy_render::{
</span><span>-    render_asset::RenderAsset,
</span><span>+    render_asset::{AssetExtractionError, RenderAsset},
</span><span>     render_resource::{
</span><span>         Extent3d, ShaderType, TextureDescriptor, TextureDimension, TextureFormat, TextureUsages,
</span><span>         TextureView, UniformBuffer,
</span><span>@@ -192,6 +192,13 @@ impl RenderAsset for GpuAutoExposureCompensationCurve {
</span><span>         RenderAssetUsages::RENDER_WORLD
</span><span>     }
</span><span> 
</span><span>+    fn take_gpu_data(
</span><span>+        source: &mut Self::SourceAsset,
</span><span>+        _previous_gpu_asset: Option<&Self>,
</span><span>+    ) -> Result&LTSelf::SourceAsset, AssetExtractionError> {
</span><span>+        Ok(source.clone())
</span><span>+    }
</span><span>+
</span><span>     fn prepare_asset(
</span><span>         source: Self::SourceAsset,
</span><span>         _: AssetId&LTSelf::SourceAsset>,
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22803.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>