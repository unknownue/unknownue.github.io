<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22732 Stroke font text gizmos
        
    </title><meta content="#22732 Stroke font text gizmos" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-07</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-22732-zh-cn-20260207>中文</a></div></div><div class=pr-content><h1 id=title-stroke-font-text-gizmos>Title: Stroke font text gizmos</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Stroke font text gizmos<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22732<li><strong>Author</strong>: ickshonpe<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Feature, A-Rendering, S-Ready-For-Final-Review, A-Gizmos, A-Text, M-Release-Note, D-Modest<li><strong>Created</strong>: 2026-01-29T00:44:15Z<li><strong>Merged</strong>: 2026-02-07T20:18:35Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><h3 id=objective>Objective</h3><p>Lightweight immediate mode stroke fonts text gizmo implementation.<p>Fixes #16490<h3 id=solution>Solution</h3><p>New <code>bevy_gizmos</code> module <code>text</code> containing functions <code>text</code> and <code>text_2d</code> implemented for <code>GizmoBuffer</code>.<p>The <code>text</code> function has parameters:<ul><li><code>isometry: Into&LTIsometry3d></code>: defines the translation and rotation of the text.<li><code>text: &str</code>: the text to be drawn.<li><code>size: f32</code>: the height of the glyphs.<li><code>anchor: Vec2</code>: anchor point relative to the center of the text.<li><code>color: Into&LTColor></code>: the color of the text.</ul><p><code>text_2d</code> is the same, except the isometry is <code>Into&LTIsometry2d></code>.<p>The glyph set is limited to ASCII characters from 33 to 126.<p>The text rendering uses the Simplex Hershey font: https://en.wikipedia.org/wiki/Hershey_fonts https://paulbourke.net/dataformats/hershey/<p>The static font data is in the bevy_gizmos::text_font module. Hershey fonts are public domain and don’t require any attribution.<p>The text geometry isn’t retained but since it’s so simple, it’s still much faster than the retained Cosmic Text version I wrote initially. That might not be the case if it’s used to display whole pages of text, but this isn’t intended for that.<p>Glyphs are drawn using linestrips.<h3 id=limitations>Limitations</h3><ul><li>I think this would be better with a monospaced font but it’s using a proportional font atm.<li>Only supports left-to-right, left justified text.<li>Line height is fixed.<li>Can’t set the color of individual glyphs.<li>Can’t change the font.</ul><h3 id=testing>Testing</h3><p>Example displaying text gizmos rotating in 3d<pre style=color:#61676c;background-color:#fafafa><code><span>cargo run --example 3d_text_gizmos
</span></code></pre><p>Example displaying all the glyphs from the text gizmos font:<pre style=color:#61676c;background-color:#fafafa><code><span>cargo run --example text_gizmos_font
</span></code></pre><p>Larger example with lots of text and an FPS counter:<pre style=color:#61676c;background-color:#fafafa><code><span>cargo run --example 2d_text_gizmos
</span></code></pre><p>Example demonstrating anchors:<pre style=color:#61676c;background-color:#fafafa><code><span>cargo run --example anchored_text_gizmos
</span></code></pre><h3 id=showcase>Showcase</h3><img alt=tg-example height=872 src=https://github.com/user-attachments/assets/d54802cb-23fa-46fc-a20f-3ab004e57f8a width=1861><img alt=anchors height=676 src=https://github.com/user-attachments/assets/29a8b3b0-516f-4bbc-885e-f8b23db01f88 width=792><img alt=hello_text_gizmos height=405 src=https://github.com/user-attachments/assets/b07dc5fb-4be4-4777-b5fd-219c54333328 width=1325><img alt=all_glyphs height=1127 src=https://github.com/user-attachments/assets/92f7bebd-641c-43a7-9c0a-a56bbb828b5e width=1924><img alt=text-gizmos-3d height=738 src=https://github.com/user-attachments/assets/91c9caaa-ca13-4a94-9c60-ec326ddeae8a width=661><img alt=2d_gizmos height=1185 src=https://github.com/user-attachments/assets/5f1ae276-795a-4eac-ae2e-3faf7348be2c width=1977><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><h3 id=the-problem-and-context>The Problem and Context</h3><p>Bevy’s gizmo system provides immediate-mode drawing primitives for debug visualization, but it lacked text rendering capabilities. Issue #16490 specifically requested text support for gizmos, citing use cases like labeling objects, displaying debug information, and creating instructional overlays. The challenge was implementing text rendering that aligned with Bevy’s immediate-mode architecture: lightweight, non-retained geometry that could be drawn each frame without persistent state.<h3 id=the-solution-approach>The Solution Approach</h3><p>The developer chose a stroke font approach using the Simplex Hershey font, which offered several advantages for this use case. Hershey fonts are public domain vector fonts where each glyph is defined by line segments, making them ideal for immediate-mode rendering. The Simplex variant was selected for its balanced design and comprehensive ASCII character set.<p>The implementation follows a minimalist philosophy: text geometry is generated and discarded each frame, avoiding retention costs. This contrasts with more complex text rendering systems that cache glyph geometry or use signed distance fields. The trade-off was acceptable because text gizmos are primarily for debugging and UI-like overlays where volume is low.<h3 id=the-implementation>The Implementation</h3><p>The core implementation consists of two new modules in the <code>bevy_gizmos</code> crate. The <code>simplex_stroke_font</code> module contains static font data, including glyph point positions, stroke sequences, and metadata like advance widths. The <code>stroke_text</code> module provides the rendering logic, with a <code>StrokeFont</code> struct that manages layout and a <code>StrokeTextLayout</code> that iterates through text, computing positions for each stroke.<p>The public API adds two methods to <code>GizmoBuffer</code>: <code>text</code> for 3D text and <code>text_2d</code> for 2D text. Both accept similar parameters: an isometry (position + rotation), text string, font size, anchor point, and color. The anchor system is particularly useful, allowing text to be positioned relative to its bounding box center, edges, or corners.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: crates/bevy_gizmos/src/stroke_text.rs
</span><span style=color:#fa6e32>impl</span><span>&LTConfig, Clear> </span><span style=color:#399ee6>GizmoBuffer</span><span>&LTConfig, Clear>
</span><span style=color:#fa6e32>where
</span><span>    Config</span><span style=color:#61676ccc>:</span><span> GizmoConfigGroup,
</span><span>    Clear</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>'static</span><span> + Send + Sync,
</span><span>{
</span><span>    </span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>text</span><span>(
</span><span>        </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>,
</span><span>        </span><span style=color:#ff8f40>isometry</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTIsometry3d>,
</span><span>        </span><span style=color:#ff8f40>text</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>str</span><span>,
</span><span>        </span><span style=color:#ff8f40>font_size</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>,
</span><span>        </span><span style=color:#ff8f40>anchor</span><span style=color:#61676ccc>:</span><span> Vec2,
</span><span>        </span><span style=color:#ff8f40>color</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTColor>,
</span><span>    ) {
</span><span>        </span><span style=color:#fa6e32>let</span><span> isometry</span><span style=color:#61676ccc>:</span><span> Isometry3d </span><span style=color:#ed9366>=</span><span> isometry</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>()</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>let</span><span> color </span><span style=color:#ed9366>=</span><span> color</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>()</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>let</span><span> layout </span><span style=color:#ed9366>= </span><span style=color:#ff8f40>SIMPLEX_STROKE_FONT</span><span style=color:#ed9366>.</span><span style=color:#f07171>layout</span><span>(text</span><span style=color:#61676ccc>,</span><span> font_size)</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>let</span><span> layout_anchor </span><span style=color:#ed9366>=</span><span> layout</span><span style=color:#ed9366>.</span><span style=color:#f07171>measure</span><span>() </span><span style=color:#ed9366>* </span><span>(</span><span style=color:#f07171>vec2</span><span>(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>0.5</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.5</span><span>) </span><span style=color:#ed9366>-</span><span> anchor)</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>for</span><span> points </span><span style=color:#ed9366>in</span><span> layout</span><span style=color:#ed9366>.</span><span style=color:#f07171>render</span><span>() {
</span><span>            </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>linestrip</span><span>(
</span><span>                points</span><span style=color:#ed9366>.</span><span style=color:#f07171>map</span><span>(|</span><span style=color:#ff8f40>point</span><span>| isometry </span><span style=color:#ed9366>* </span><span>(layout_anchor </span><span style=color:#ed9366>+</span><span> point)</span><span style=color:#ed9366>.</span><span style=color:#f07171>extend</span><span>(</span><span style=color:#ff8f40>0.</span><span>))</span><span style=color:#61676ccc>,
</span><span>                color</span><span style=color:#61676ccc>,
</span><span>            )</span><span style=color:#61676ccc>;
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre><p>Font data is stored compactly. Each glyph is defined by a list of 2D integer coordinates (scaled to font units) and a list of stroke ranges indicating which points form each polyline. The <code>SIMPLEX_GLYPHS</code> array pairs each character with its advance width and stroke range.<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// File: crates/bevy_gizmos/src/simplex_stroke_font.rs
</span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) </span><span style=color:#fa6e32>const </span><span style=color:#ff8f40>SIMPLEX_POSITIONS</span><span style=color:#61676ccc>: </span><span>[[</span><span style=color:#fa6e32>i8</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>2</span><span>]</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>1100</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    [</span><span style=color:#ff8f40>5</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>21</span><span>]</span><span style=color:#61676ccc>,
</span><span>    [</span><span style=color:#ff8f40>5</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>7</span><span>]</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... many more points
</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) </span><span style=color:#fa6e32>const </span><span style=color:#ff8f40>SIMPLEX_GLYPHS</span><span style=color:#61676ccc>: </span><span>[(</span><span style=color:#fa6e32>i8</span><span style=color:#61676ccc>, </span><span>Range<</span><span style=color:#fa6e32>usize</span><span>>)</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>95</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    (</span><span style=color:#ff8f40>16</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>0</span><span>)</span><span style=color:#61676ccc>,      </span><span style=color:#abb0b6;font-style:italic>// space
</span><span>    (</span><span style=color:#ff8f40>10</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>2</span><span>)</span><span style=color:#61676ccc>,      </span><span style=color:#abb0b6;font-style:italic>// '!'
</span><span>    (</span><span style=color:#ff8f40>16</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>2</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>4</span><span>)</span><span style=color:#61676ccc>,      </span><span style=color:#abb0b6;font-style:italic>// '"'
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other glyphs
</span><span>]</span><span style=color:#61676ccc>;
</span></code></pre><p>The layout algorithm iterates through characters, accumulating advance widths for line measurement and positioning strokes. For rendering, it yields iterators over the stroke points, transformed to the correct scale and position.<h3 id=technical-insights>Technical Insights</h3><p>The implementation demonstrates several interesting techniques. First, it uses integer coordinates stored as <code>i8</code> to minimize memory footprint while maintaining sufficient precision for the font’s design scale (cap height of 21 units). Second, the stroke representation avoids duplicating points for disconnected strokes within a glyph by using range indices into the positions array.<p>Performance considerations are addressed through the immediate-mode approach and simple algorithms. The font data is entirely static and stored in read-only memory, accessed via references. The layout and rendering code uses iterator chains to avoid allocation where possible.<p>Architecturally, this follows Bevy’s pattern of extending existing systems (<code>GizmoBuffer</code>) rather than creating parallel systems. The text rendering leverages existing linestrip drawing capabilities, ensuring consistency with other gizmo types.<h3 id=the-impact>The Impact</h3><p>This PR adds a practical text rendering capability to Bevy’s gizmo system. Developers can now add debug labels, coordinate displays, instruction text, and other annotations directly in their applications. The examples demonstrate both 2D and 3D use cases, from simple rotating text to complex scenes with multiple labels and performance monitoring.<p>The implementation is intentionally limited in scope: ASCII-only, fixed font, no color per glyph. These limitations keep the code simple and focused on the primary use case of debug visualization. Future extensions could address these if needed, but the current implementation solves the core problem effectively.<p>From an engineering perspective, this PR shows how to integrate specialized rendering capabilities into a game engine’s existing immediate-mode drawing system. The separation of font data from rendering logic, the use of public domain resources to avoid licensing issues, and the careful API design all contribute to a solid implementation.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[GizmoBuffer] --> B[text method]
</span><span>    A --> C[text_2d method]
</span><span>    B --> D[StrokeTextLayout]
</span><span>    C --> D
</span><span>    D --> E[SimplexStrokeFont]
</span><span>    E --> F[Static Font Data]
</span><span>    D --> G[linestrip rendering]
</span><span>    D --> H[linestrip_2d rendering]
</span><span>    
</span><span>    I[Examples] --> J[2d_text_gizmos]
</span><span>    I --> K[3d_text_gizmos]
</span><span>    I --> L[anchored_text_gizmos]
</span><span>    I --> M[text_gizmos_font]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-gizmos-src-simplex-stroke-font-rs-1414-0><code>crates/bevy_gizmos/src/simplex_stroke_font.rs</code> (+1414/-0)</h3><p>This file contains the static Simplex Hershey font data. The font is represented as arrays of point coordinates, stroke ranges, and glyph metadata.<p><strong>Key code:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) </span><span style=color:#fa6e32>const </span><span style=color:#ff8f40>SIMPLEX_POSITIONS</span><span style=color:#61676ccc>: </span><span>[[</span><span style=color:#fa6e32>i8</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>2</span><span>]</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>1100</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    [</span><span style=color:#ff8f40>5</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>21</span><span>]</span><span style=color:#61676ccc>,
</span><span>    [</span><span style=color:#ff8f40>5</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>7</span><span>]</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... continues for 1100 entries
</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) </span><span style=color:#fa6e32>const </span><span style=color:#ff8f40>SIMPLEX_STROKES</span><span style=color:#61676ccc>: </span><span>[Range<</span><span style=color:#fa6e32>usize</span><span>></span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>188</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    </span><span style=color:#ff8f40>0</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>2</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#ff8f40>2</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>7</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... continues for 188 entries
</span><span>]</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) </span><span style=color:#fa6e32>const </span><span style=color:#ff8f40>SIMPLEX_GLYPHS</span><span style=color:#61676ccc>: </span><span>[(</span><span style=color:#fa6e32>i8</span><span style=color:#61676ccc>, </span><span>Range<</span><span style=color:#fa6e32>usize</span><span>>)</span><span style=color:#61676ccc>; </span><span style=color:#ff8f40>95</span><span>] </span><span style=color:#ed9366>= </span><span>[
</span><span>    (</span><span style=color:#ff8f40>16</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>0</span><span>)</span><span style=color:#61676ccc>,      </span><span style=color:#abb0b6;font-style:italic>// space (advance 16, no strokes)
</span><span>    (</span><span style=color:#ff8f40>10</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>2</span><span>)</span><span style=color:#61676ccc>,      </span><span style=color:#abb0b6;font-style:italic>// '!' (advance 10, strokes 0..2)
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... continues for 95 ASCII characters
</span><span>]</span><span style=color:#61676ccc>;
</span></code></pre><h3 id=crates-bevy-gizmos-src-stroke-text-rs-247-0><code>crates/bevy_gizmos/src/stroke_text.rs</code> (+247/-0)</h3><p>This file implements the text layout and rendering logic. It defines the <code>StrokeFont</code> and <code>StrokeTextLayout</code> structs and adds text methods to <code>GizmoBuffer</code>.<p><strong>Key code:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>StrokeFont</span><span><</span><span style=color:#fa6e32>'a</span><span>> {
</span><span>    </span><span style=color:#fa6e32>pub </span><span>line_height</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>height</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>cap_height</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>advance</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>i8</span><span>,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>positions</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'a</span><span> [[</span><span style=color:#fa6e32>i8</span><span>; 2]],
</span><span>    </span><span style=color:#fa6e32>pub </span><span>strokes</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'a</span><span> [Range<</span><span style=color:#fa6e32>usize</span><span>>],
</span><span>    </span><span style=color:#fa6e32>pub </span><span>glyphs</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>'a</span><span> [(</span><span style=color:#fa6e32>i8</span><span>, Range<</span><span style=color:#fa6e32>usize</span><span>>); 95],
</span><span>}
</span><span>
</span><span style=color:#fa6e32>impl</span><span>&LTConfig, Clear> </span><span style=color:#399ee6>GizmoBuffer</span><span>&LTConfig, Clear>
</span><span style=color:#fa6e32>where
</span><span>    Config</span><span style=color:#61676ccc>:</span><span> GizmoConfigGroup,
</span><span>    Clear</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>'static</span><span> + Send + Sync,
</span><span>{
</span><span>    </span><span style=color:#fa6e32>pub fn </span><span style=color:#f29718>text</span><span>(
</span><span>        </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>self</span><span>,
</span><span>        </span><span style=color:#ff8f40>isometry</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTIsometry3d>,
</span><span>        </span><span style=color:#ff8f40>text</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>str</span><span>,
</span><span>        </span><span style=color:#ff8f40>font_size</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>f32</span><span>,
</span><span>        </span><span style=color:#ff8f40>anchor</span><span style=color:#61676ccc>:</span><span> Vec2,
</span><span>        </span><span style=color:#ff8f40>color</span><span style=color:#61676ccc>:</span><span> impl </span><span style=color:#55b4d4;font-style:italic>Into</span><span>&LTColor>,
</span><span>    ) {
</span><span>        </span><span style=color:#fa6e32>let</span><span> isometry</span><span style=color:#61676ccc>:</span><span> Isometry3d </span><span style=color:#ed9366>=</span><span> isometry</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>()</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>let</span><span> color </span><span style=color:#ed9366>=</span><span> color</span><span style=color:#ed9366>.</span><span style=color:#f07171>into</span><span>()</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>let</span><span> layout </span><span style=color:#ed9366>= </span><span style=color:#ff8f40>SIMPLEX_STROKE_FONT</span><span style=color:#ed9366>.</span><span style=color:#f07171>layout</span><span>(text</span><span style=color:#61676ccc>,</span><span> font_size)</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>let</span><span> layout_anchor </span><span style=color:#ed9366>=</span><span> layout</span><span style=color:#ed9366>.</span><span style=color:#f07171>measure</span><span>() </span><span style=color:#ed9366>* </span><span>(</span><span style=color:#f07171>vec2</span><span>(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>0.5</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.5</span><span>) </span><span style=color:#ed9366>-</span><span> anchor)</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>for</span><span> points </span><span style=color:#ed9366>in</span><span> layout</span><span style=color:#ed9366>.</span><span style=color:#f07171>render</span><span>() {
</span><span>            </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span style=color:#f07171>linestrip</span><span>(
</span><span>                points</span><span style=color:#ed9366>.</span><span style=color:#f07171>map</span><span>(|</span><span style=color:#ff8f40>point</span><span>| isometry </span><span style=color:#ed9366>* </span><span>(layout_anchor </span><span style=color:#ed9366>+</span><span> point)</span><span style=color:#ed9366>.</span><span style=color:#f07171>extend</span><span>(</span><span style=color:#ff8f40>0.</span><span>))</span><span style=color:#61676ccc>,
</span><span>                color</span><span style=color:#61676ccc>,
</span><span>            )</span><span style=color:#61676ccc>;
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre><h3 id=examples-gizmos-2d-text-gizmos-rs-104-0><code>examples/gizmos/2d_text_gizmos.rs</code> (+104/-0)</h3><p>This example demonstrates 2D text gizmos with multiple labels, FPS counter, and glyph display.<p><strong>Key code:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>fn </span><span style=color:#f29718>draw_labels</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>text_gizmos</span><span style=color:#61676ccc>:</span><span> Gizmos, </span><span style=color:#ff8f40>diagnostic</span><span style=color:#61676ccc>: </span><span>Res&LTDiagnosticsStore>) {
</span><span>    </span><span style=color:#fa6e32>let</span><span> colors </span><span style=color:#ed9366>= </span><span>[</span><span style=color:#ff8f40>RED</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>GREEN</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>BLUE</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>YELLOW</span><span>]</span><span style=color:#61676ccc>;
</span><span>    </span><span style=color:#fa6e32>for</span><span> i </span><span style=color:#ed9366>in </span><span style=color:#ff8f40>0</span><span style=color:#ed9366>..</span><span style=color:#ff8f40>TEXT_COUNT </span><span>{
</span><span>        </span><span style=color:#fa6e32>let</span><span> row </span><span style=color:#ed9366>=</span><span> i </span><span style=color:#ed9366>/ </span><span style=color:#ff8f40>5</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>let</span><span> col </span><span style=color:#ed9366>=</span><span> i </span><span style=color:#ed9366>% </span><span style=color:#ff8f40>5</span><span style=color:#61676ccc>;
</span><span>        </span><span style=color:#fa6e32>let</span><span> color </span><span style=color:#ed9366>=</span><span> colors[i </span><span style=color:#ed9366>% </span><span style=color:#ff8f40>4</span><span>]</span><span style=color:#61676ccc>;
</span><span>        text_gizmos</span><span style=color:#ed9366>.</span><span style=color:#f07171>text_2d</span><span>(
</span><span>            Isometry2d {
</span><span>                translation</span><span style=color:#61676ccc>: </span><span>Vec2</span><span style=color:#ed9366>::</span><span>new(
</span><span>                    </span><span style=color:#ff8f40>START_X </span><span style=color:#ed9366>+</span><span> col </span><span style=color:#ed9366>as </span><span style=color:#fa6e32>f32 </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>X_STEP</span><span style=color:#61676ccc>,
</span><span>                    </span><span style=color:#ff8f40>START_Y </span><span style=color:#ed9366>-</span><span> row </span><span style=color:#ed9366>as </span><span style=color:#fa6e32>f32 </span><span style=color:#ed9366>* </span><span style=color:#ff8f40>Y_STEP</span><span style=color:#61676ccc>,
</span><span>                )</span><span style=color:#61676ccc>,
</span><span>                rotation</span><span style=color:#61676ccc>: </span><span>Rot2</span><span style=color:#ed9366>::</span><span>degrees(</span><span style=color:#ff8f40>2.</span><span>)</span><span style=color:#61676ccc>,
</span><span>            }</span><span style=color:#61676ccc>,
</span><span>            </span><span style=color:#ed9366>&</span><span style=color:#f07171>format!</span><span>(</span><span style=color:#86b300>"label </span><span style=color:#ff8f40>{i}</span><span style=color:#86b300>"</span><span>)</span><span style=color:#61676ccc>,
</span><span>            </span><span style=color:#ff8f40>25.</span><span style=color:#61676ccc>,
</span><span>            Vec2</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>ZERO</span><span style=color:#61676ccc>,
</span><span>            color</span><span style=color:#61676ccc>,
</span><span>        )</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span></code></pre><h3 id=examples-gizmos-3d-text-gizmos-rs-51-0><code>examples/gizmos/3d_text_gizmos.rs</code> (+51/-0)</h3><p>This example shows 3D text gizmos with rotating text in 3D space.<p><strong>Key code:</strong><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>fn </span><span style=color:#f29718>hello_world</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>text_gizmos</span><span style=color:#61676ccc>:</span><span> Gizmos, </span><span style=color:#ff8f40>time</span><span style=color:#61676ccc>: </span><span>Res&LTTime>) {
</span><span>    </span><span style=color:#fa6e32>let</span><span> t </span><span style=color:#ed9366>= </span><span style=color:#ff8f40>0.2 </span><span style=color:#ed9366>*</span><span> time</span><span style=color:#ed9366>.</span><span style=color:#f07171>elapsed_secs</span><span>()</span><span style=color:#61676ccc>;
</span><span>
</span><span>    text_gizmos</span><span style=color:#ed9366>.</span><span style=color:#f07171>text</span><span>(
</span><span>        Isometry3d</span><span style=color:#ed9366>::</span><span>new(Vec3</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#ff8f40>0.0</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>1.5</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.0</span><span>)</span><span style=color:#61676ccc>, </span><span>Quat</span><span style=color:#ed9366>::</span><span>from_rotation_y(</span><span style=color:#ed9366>-</span><span>t))</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#86b300>"Hello"</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#ff8f40>1.</span><span style=color:#61676ccc>,
</span><span>        Vec2</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>ZERO</span><span style=color:#61676ccc>,
</span><span>        </span><span style=color:#ff8f40>RED</span><span style=color:#61676ccc>,
</span><span>    )</span><span style=color:#61676ccc>;
</span><span>}
</span></code></pre><h3 id=cargo-toml-48-0><code>Cargo.toml</code> (+48/-0)</h3><p>Added new example entries to the Cargo manifest.<p><strong>Key code:</strong><pre class=language-toml data-lang=toml style=color:#61676c;background-color:#fafafa><code class=language-toml data-lang=toml><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"2d_text_gizmos"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/gizmos/2d_text_gizmos.rs"
</span><span>
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"anchored_text_gizmos"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/gizmos/anchored_text_gizmos.rs"
</span><span>
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"3d_text_gizmos"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/gizmos/3d_text_gizmos.rs"
</span><span>
</span><span>[[</span><span style=color:#399ee6>example</span><span>]]
</span><span style=color:#399ee6>name </span><span>= </span><span style=color:#86b300>"text_gizmos_font"
</span><span style=color:#399ee6>path </span><span>= </span><span style=color:#86b300>"examples/gizmos/text_gizmos_font.rs"
</span></code></pre><h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://en.wikipedia.org/wiki/Hershey_fonts target=_blank>Hershey Fonts Wikipedia Page</a> - Background on the font format used<li><a rel="noopener nofollow noreferrer" href=https://paulbourke.net/dataformats/hershey/ target=_blank>Paul Bourke’s Hershey Font Page</a> - Technical details and other Hershey fonts<li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_gizmos/latest/bevy_gizmos/ target=_blank>Bevy Gizmos Documentation</a> - Official Bevy gizmo API docs<li><a rel="noopener nofollow noreferrer" href=https://github.com/ocornut/imgui target=_blank>Immediate Mode GUI Systems</a> - Comparison with other immediate-mode rendering approaches<li><a rel="noopener nofollow noreferrer" href=https://developer.nvidia.com/gpugems/gpugems3/part-iv-image-effects/chapter-25-rendering-vector-art-gpu target=_blank>Vector Font Rendering Techniques</a> - GPU techniques for rendering vector fonts</ul><h1 id=full-code-diff>Full Code Diff</h1><p><em>(Provided in the original request, not reproduced here for brevity)</em></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22732.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>