<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22991 Adds `Pointer<Enter>` and `Pointer<Leave>` Events - Hierarchy aware versions of `Pointer<Over>` and `Pointer<Out>`
        
    </title><meta content="#22991 Adds `Pointer<Enter>` and `Pointer<Leave>` Events - Hierarchy aware versions of `Pointer<Over>` and `Pointer<Out>`" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-19</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-22991-zh-cn-20260219>中文</a></div></div><div class=pr-content><h1 id=title>Title</h1><p>Adds <code>Pointer&LTEnter></code> and <code>Pointer&LTLeave></code> Events - Hierarchy aware versions of <code>Pointer&LTOver></code> and <code>Pointer&LTOut></code><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: Adds <code>Pointer&LTEnter></code> and <code>Pointer&LTLeave></code> Events - Hierarchy aware versions of <code>Pointer&LTOver></code> and <code>Pointer&LTOut></code><li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22991<li><strong>Author</strong>: kfc35<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: C-Feature, A-UI, S-Ready-For-Final-Review, D-Modest, A-Picking<li><strong>Created</strong>: 2026-02-17T04:56:33Z<li><strong>Merged</strong>: 2026-02-19T00:13:34Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p>The PR description is already in English, so it is included as-is.<h1 id=objective>Objective</h1><ul><li>Fixes #16289 (it’s in the 0.19 milestone so I decided to attempt a solution)<li>To quote the current <code>bevy_picking</code> documentation:</ul><blockquote><p>When the hovering focus shifts between children, parent entities may receive redundant [<code>Out</code>] → [<code>Over</code>] pairs. In the context of UI, this is especially problematic. Additional hierarchy-aware events will be added in a future release</blockquote><p>This PR attempts to add a hierarchy-aware version of the [<code>Out</code>] and [<code>Over</code>] events<h2 id=solution>Solution</h2><ul><li><code>Enter</code> and <code>Leave</code> are two new events that function like <code>Out</code> and <code>Over</code>, but they do not auto-propagate. Instead they are sent without propagation in <code>pointer_events()</code>. To especially handle the case where children are sticking out of parents, ancestors of hovered items are stored and used when deciding who to send <code>Enter</code> and <code>Leave</code> events to.</ul><h2 id=testing>Testing</h2><ul><li>I tested the mesh picking (<code>cargo run --example mesh_picking</code>) example after replacing <code>Over</code> and <code>Out</code> with <code>Enter</code> and <code>Leave</code> respectively, and it works fine.<li>I tested the ui_drag_and_drop (<code>cargo run --example ui_drag_and_drop</code>) example as well with the replacements, and that was good too.<li>I wrote my own little example (code in the showcase) to ensure that counts for <code>Enter</code> and <code>Leave</code> events were as I suspect. It utilizes UI nodes, a Red parent, and one blue (although it looks indigo in the example) and one green child that overlap in the middle (the more blue looking area). As you hover over the different color areas, the event counts increase depending on what events are fired. Notably, if you hover over the indigo/green child, and then hover back to the parent, the parent’s <code>Enter</code> and <code>Leave</code> counts do <em>not</em> increase. They only increase if you leave the red area for the outside altogether. The <code>Over</code> and <code>Out</code> counts are provided to show current functionality.</ul><p>https://github.com/user-attachments/assets/822a88cb-2f63-4471-8011-977dbc241b4a<hr><h2 id=showcase>Showcase</h2><details><summary>Code for Mini Example</summary> <pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>//! Demonstrates Enter, Exit, Out, and Over events
</span><span>
</span><span style=color:#fa6e32>use </span><span>bevy</span><span style=color:#ed9366>::</span><span>prelude</span><span style=color:#ed9366>::*</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>main</span><span>() {
</span><span>    App</span><span style=color:#ed9366>::</span><span>new()
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>add_plugins</span><span>(DefaultPlugins)
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>add_systems</span><span>(Startup</span><span style=color:#61676ccc>,</span><span> setup)
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>run</span><span>()</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Component</span><span style=color:#61676ccc>,</span><span> Default)]
</span><span style=color:#fa6e32>struct </span><span style=color:#399ee6>OverCount</span><span>(</span><span style=color:#fa6e32>u32</span><span>)</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Component</span><span style=color:#61676ccc>,</span><span> Default)]
</span><span style=color:#fa6e32>struct </span><span style=color:#399ee6>EnterCount</span><span>(</span><span style=color:#fa6e32>u32</span><span>)</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Component</span><span style=color:#61676ccc>,</span><span> Default)]
</span><span style=color:#fa6e32>struct </span><span style=color:#399ee6>LeaveCount</span><span>(</span><span style=color:#fa6e32>u32</span><span>)</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Component</span><span style=color:#61676ccc>,</span><span> Default)]
</span><span style=color:#fa6e32>struct </span><span style=color:#399ee6>OutCount</span><span>(</span><span style=color:#fa6e32>u32</span><span>)</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Component</span><span style=color:#61676ccc>,</span><span> Default)]
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>require</span><span>(OverCount</span><span style=color:#61676ccc>,</span><span> EnterCount</span><span style=color:#61676ccc>,</span><span> LeaveCount</span><span style=color:#61676ccc>,</span><span> OutCount)]
</span><span style=color:#fa6e32>struct </span><span style=color:#399ee6>EventCounter</span><span>(String)</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Component)]
</span><span style=color:#fa6e32>struct </span><span style=color:#399ee6>TextToUpdate</span><span>(Entity)</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>setup</span><span>(</span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>commands</span><span style=color:#61676ccc>:</span><span> Commands) {
</span><span>    commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>(Camera2d)</span><span style=color:#61676ccc>;
</span><span>    commands
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>            Node {
</span><span>                width</span><span style=color:#61676ccc>: </span><span style=color:#f07171>percent</span><span>(</span><span style=color:#ff8f40>100</span><span>)</span><span style=color:#61676ccc>,
</span><span>                height</span><span style=color:#61676ccc>: </span><span style=color:#f07171>percent</span><span>(</span><span style=color:#ff8f40>100</span><span>)</span><span style=color:#61676ccc>,
</span><span>                align_items</span><span style=color:#61676ccc>: </span><span>AlignItems</span><span style=color:#ed9366>::</span><span>Center</span><span style=color:#61676ccc>,
</span><span>                justify_content</span><span style=color:#61676ccc>: </span><span>JustifyContent</span><span style=color:#ed9366>::</span><span>Center</span><span style=color:#61676ccc>,
</span><span>                </span><span style=color:#ed9366>..</span><span style=color:#55b4d4;font-style:italic>Default</span><span style=color:#ed9366>::</span><span>default()
</span><span>            }</span><span style=color:#61676ccc>,
</span><span>            Pickable</span><span style=color:#ed9366>::</span><span style=color:#ff8f40>IGNORE</span><span style=color:#61676ccc>,
</span><span>        ))
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>with_children</span><span>(|</span><span style=color:#ff8f40>grand_parent</span><span>| {
</span><span>            </span><span style=color:#fa6e32>let</span><span> gp_text_entity </span><span style=color:#ed9366>=</span><span> grand_parent</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>                Node {
</span><span>                    position_type</span><span style=color:#61676ccc>: </span><span>PositionType</span><span style=color:#ed9366>::</span><span>Absolute</span><span style=color:#61676ccc>,
</span><span>                    top</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>10</span><span>)</span><span style=color:#61676ccc>,
</span><span>                    left</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>10</span><span>)</span><span style=color:#61676ccc>,
</span><span>                    </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>                }</span><span style=color:#61676ccc>,
</span><span>                Text</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"Red [Over: 0, Enter: 0, Leave: 0, Out: 0]"</span><span>)</span><span style=color:#61676ccc>,
</span><span>            ))</span><span style=color:#ed9366>.</span><span style=color:#f07171>id</span><span>()</span><span style=color:#61676ccc>;
</span><span>            </span><span style=color:#fa6e32>let</span><span> p_text_entity </span><span style=color:#ed9366>=</span><span> grand_parent</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>                Node {
</span><span>                    position_type</span><span style=color:#61676ccc>: </span><span>PositionType</span><span style=color:#ed9366>::</span><span>Absolute</span><span style=color:#61676ccc>,
</span><span>                    top</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>40</span><span>)</span><span style=color:#61676ccc>,
</span><span>                    left</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>10</span><span>)</span><span style=color:#61676ccc>,
</span><span>                    </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>                }</span><span style=color:#61676ccc>,
</span><span>                Text</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"Green [Over: 0, Enter: 0, Leave: 0, Out: 0]"</span><span>)</span><span style=color:#61676ccc>,
</span><span>            ))</span><span style=color:#ed9366>.</span><span style=color:#f07171>id</span><span>()</span><span style=color:#61676ccc>;
</span><span>            </span><span style=color:#fa6e32>let</span><span> b_text_entity </span><span style=color:#ed9366>=</span><span> grand_parent</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>                Node {
</span><span>                    position_type</span><span style=color:#61676ccc>: </span><span>PositionType</span><span style=color:#ed9366>::</span><span>Absolute</span><span style=color:#61676ccc>,
</span><span>                    top</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>70</span><span>)</span><span style=color:#61676ccc>,
</span><span>                    left</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>10</span><span>)</span><span style=color:#61676ccc>,
</span><span>                    </span><span style=color:#ed9366>..</span><span style=color:#f07171>default</span><span>()
</span><span>                }</span><span style=color:#61676ccc>,
</span><span>                Text</span><span style=color:#ed9366>::</span><span>new(</span><span style=color:#86b300>"Indigo [Over: 0, Enter: 0, Leave: 0, Out: 0]"</span><span>)</span><span style=color:#61676ccc>,
</span><span>            ))</span><span style=color:#ed9366>.</span><span style=color:#f07171>id</span><span>()</span><span style=color:#61676ccc>;
</span><span>            grand_parent
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>                    Node {
</span><span>                        padding</span><span style=color:#61676ccc>: </span><span>UiRect</span><span style=color:#ed9366>::</span><span>all(Val</span><span style=color:#ed9366>::</span><span>Percent(</span><span style=color:#ff8f40>20.</span><span>))</span><span style=color:#61676ccc>,
</span><span>                        border</span><span style=color:#61676ccc>: </span><span>UiRect</span><span style=color:#ed9366>::</span><span>all(Val</span><span style=color:#ed9366>::</span><span>Px(</span><span style=color:#ff8f40>2.</span><span>))</span><span style=color:#61676ccc>,
</span><span>                        </span><span style=color:#ed9366>..</span><span style=color:#55b4d4;font-style:italic>Default</span><span style=color:#ed9366>::</span><span>default()
</span><span>                    }</span><span style=color:#61676ccc>,
</span><span>                    BackgroundColor(Color</span><span style=color:#ed9366>::</span><span>srgba(</span><span style=color:#ff8f40>1.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.9</span><span>))</span><span style=color:#61676ccc>,
</span><span>                    EventCounter(</span><span style=color:#86b300>"Red"</span><span style=color:#ed9366>.</span><span style=color:#f07171>to_string</span><span>())</span><span style=color:#61676ccc>,
</span><span>                    Pickable {
</span><span>                        should_block_lower</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>false</span><span style=color:#61676ccc>,
</span><span>                        is_hoverable</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>true</span><span style=color:#61676ccc>,
</span><span>                    }</span><span style=color:#61676ccc>,
</span><span>                    TextToUpdate(gp_text_entity)
</span><span>                ))
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_over)
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_enter)
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_leave)
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_out)
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>with_children</span><span>(|</span><span style=color:#ff8f40>parent</span><span>| {
</span><span>                    parent</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>                        Node {
</span><span>                            position_type</span><span style=color:#61676ccc>: </span><span>PositionType</span><span style=color:#ed9366>::</span><span>Absolute</span><span style=color:#61676ccc>,
</span><span>                            bottom</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>50</span><span>)</span><span style=color:#61676ccc>,
</span><span>                            right</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>0</span><span>)</span><span style=color:#61676ccc>,
</span><span>                            padding</span><span style=color:#61676ccc>: </span><span>UiRect</span><span style=color:#ed9366>::</span><span>all(Val</span><span style=color:#ed9366>::</span><span>Px(</span><span style=color:#ff8f40>50.</span><span>))</span><span style=color:#61676ccc>,
</span><span>                            </span><span style=color:#ed9366>..</span><span style=color:#55b4d4;font-style:italic>Default</span><span style=color:#ed9366>::</span><span>default()
</span><span>                        }</span><span style=color:#61676ccc>,
</span><span>                        BackgroundColor(Color</span><span style=color:#ed9366>::</span><span>srgba(</span><span style=color:#ff8f40>0.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>1.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.9</span><span>))</span><span style=color:#61676ccc>,
</span><span>                        EventCounter(</span><span style=color:#86b300>"Green"</span><span style=color:#ed9366>.</span><span style=color:#f07171>to_string</span><span>())</span><span style=color:#61676ccc>,
</span><span>                        Pickable {
</span><span>                            should_block_lower</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>false</span><span style=color:#61676ccc>,
</span><span>                            is_hoverable</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>true</span><span style=color:#61676ccc>,
</span><span>                        }</span><span style=color:#61676ccc>,
</span><span>                        TextToUpdate(p_text_entity)
</span><span>                    ))    
</span><span>                    </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_over)
</span><span>                    </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_enter)
</span><span>                    </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_leave)
</span><span>                    </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_out)</span><span style=color:#61676ccc>;
</span><span>
</span><span>                    parent</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>                        Node {
</span><span>                            position_type</span><span style=color:#61676ccc>: </span><span>PositionType</span><span style=color:#ed9366>::</span><span>Absolute</span><span style=color:#61676ccc>,
</span><span>                            bottom</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ed9366>-</span><span style=color:#ff8f40>50</span><span>)</span><span style=color:#61676ccc>,
</span><span>                            right</span><span style=color:#61676ccc>: </span><span style=color:#f07171>px</span><span>(</span><span style=color:#ff8f40>50</span><span>)</span><span style=color:#61676ccc>,
</span><span>                            padding</span><span style=color:#61676ccc>: </span><span>UiRect</span><span style=color:#ed9366>::</span><span>all(Val</span><span style=color:#ed9366>::</span><span>Px(</span><span style=color:#ff8f40>50.</span><span>))</span><span style=color:#61676ccc>,
</span><span>                            </span><span style=color:#ed9366>..</span><span style=color:#55b4d4;font-style:italic>Default</span><span style=color:#ed9366>::</span><span>default()
</span><span>                        }</span><span style=color:#61676ccc>,
</span><span>                        BackgroundColor(Color</span><span style=color:#ed9366>::</span><span>srgba(</span><span style=color:#ff8f40>0.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>1.</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>0.9</span><span>))</span><span style=color:#61676ccc>,
</span><span>                        EventCounter(</span><span style=color:#86b300>"Indigo"</span><span style=color:#ed9366>.</span><span style=color:#f07171>to_string</span><span>())</span><span style=color:#61676ccc>,
</span><span>                        Pickable {
</span><span>                            should_block_lower</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>false</span><span style=color:#61676ccc>,
</span><span>                            is_hoverable</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>true</span><span style=color:#61676ccc>,
</span><span>                        }</span><span style=color:#61676ccc>,
</span><span>                        TextToUpdate(b_text_entity)
</span><span>                    ))    
</span><span>                    </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_over)
</span><span>                    </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_enter)
</span><span>                    </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_leave)
</span><span>                    </span><span style=color:#ed9366>.</span><span style=color:#f07171>observe</span><span>(handle_out)</span><span style=color:#61676ccc>;
</span><span>                })</span><span style=color:#61676ccc>;
</span><span>        })</span><span style=color:#61676ccc>;
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>handle_over</span><span>(
</span><span>    </span><span style=color:#ff8f40>on_over</span><span style=color:#61676ccc>: </span><span>On&LTPointer&LTOver>>,
</span><span>    </span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>query</span><span style=color:#61676ccc>: </span><span>Query<(
</span><span>        </span><span style=color:#ed9366>&</span><span>EventCounter,
</span><span>        </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> OverCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>EnterCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>LeaveCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>OutCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>TextToUpdate,
</span><span>    )>,
</span><span>    </span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>text_query</span><span style=color:#61676ccc>: </span><span>Query<</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> Text>
</span><span>) {
</span><span>    </span><span style=color:#fa6e32>if let </span><span style=color:#55b4d4;font-style:italic>Ok</span><span>((event_counter</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>mut</span><span> over_count</span><span style=color:#61676ccc>,</span><span> enter_count</span><span style=color:#61676ccc>,</span><span> leave_count</span><span style=color:#61676ccc>,</span><span> out_count</span><span style=color:#61676ccc>,</span><span> text_to_update)) </span><span style=color:#ed9366>=
</span><span>        query</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mut</span><span>(on_over</span><span style=color:#ed9366>.</span><span style=color:#f07171>event_target</span><span>())
</span><span>    {
</span><span>        over_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0 </span><span style=color:#ed9366>+= </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>;
</span><span>        text_query</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mut</span><span>(text_to_update</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span>)</span><span style=color:#ed9366>.</span><span style=color:#f07171>unwrap</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0 </span><span style=color:#ed9366>= </span><span style=color:#f07171>format!</span><span>(
</span><span>            </span><span style=color:#86b300>"</span><span style=color:#ff8f40>{}</span><span style=color:#86b300> [Over: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Enter: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Leave: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Out: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>]"</span><span style=color:#61676ccc>,
</span><span>            event_counter</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> over_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> enter_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> leave_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> out_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0
</span><span>        )</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>handle_enter</span><span>(
</span><span>    </span><span style=color:#ff8f40>on_over</span><span style=color:#61676ccc>: </span><span>On&LTPointer&LTEnter>>,
</span><span>    </span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>query</span><span style=color:#61676ccc>: </span><span>Query<(
</span><span>        </span><span style=color:#ed9366>&</span><span>EventCounter,
</span><span>        </span><span style=color:#ed9366>&</span><span>OverCount,
</span><span>        </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> EnterCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>LeaveCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>OutCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>TextToUpdate,
</span><span>    )>,
</span><span>    </span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>text_query</span><span style=color:#61676ccc>: </span><span>Query<</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> Text>
</span><span>) {
</span><span>    </span><span style=color:#fa6e32>if let </span><span style=color:#55b4d4;font-style:italic>Ok</span><span>((event_counter</span><span style=color:#61676ccc>,</span><span> over_count</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>mut</span><span> enter_count</span><span style=color:#61676ccc>,</span><span> leave_count</span><span style=color:#61676ccc>,</span><span> out_count</span><span style=color:#61676ccc>,</span><span> text_to_update)) </span><span style=color:#ed9366>=
</span><span>        query</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mut</span><span>(on_over</span><span style=color:#ed9366>.</span><span style=color:#f07171>event_target</span><span>())
</span><span>    {
</span><span>        enter_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0 </span><span style=color:#ed9366>+= </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>;
</span><span>        text_query</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mut</span><span>(text_to_update</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span>)</span><span style=color:#ed9366>.</span><span style=color:#f07171>unwrap</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0 </span><span style=color:#ed9366>= </span><span style=color:#f07171>format!</span><span>(
</span><span>            </span><span style=color:#86b300>"</span><span style=color:#ff8f40>{}</span><span style=color:#86b300> [Over: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Enter: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Leave: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Out: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>]"</span><span style=color:#61676ccc>,
</span><span>            event_counter</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> over_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> enter_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> leave_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> out_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0
</span><span>        )</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>handle_leave</span><span>(
</span><span>    </span><span style=color:#ff8f40>on_over</span><span style=color:#61676ccc>: </span><span>On&LTPointer&LTLeave>>,
</span><span>    </span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>query</span><span style=color:#61676ccc>: </span><span>Query<(
</span><span>        </span><span style=color:#ed9366>&</span><span>EventCounter,
</span><span>        </span><span style=color:#ed9366>&</span><span>OverCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>EnterCount,
</span><span>        </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> LeaveCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>OutCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>TextToUpdate,
</span><span>    )>,
</span><span>    </span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>text_query</span><span style=color:#61676ccc>: </span><span>Query<</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> Text>
</span><span>) {
</span><span>    </span><span style=color:#fa6e32>if let </span><span style=color:#55b4d4;font-style:italic>Ok</span><span>((event_counter</span><span style=color:#61676ccc>,</span><span> over_count</span><span style=color:#61676ccc>,</span><span> enter_count</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>mut</span><span> leave_count</span><span style=color:#61676ccc>,</span><span> out_count</span><span style=color:#61676ccc>,</span><span> text_to_update)) </span><span style=color:#ed9366>=
</span><span>        query</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mut</span><span>(on_over</span><span style=color:#ed9366>.</span><span style=color:#f07171>event_target</span><span>())
</span><span>    {
</span><span>        leave_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0 </span><span style=color:#ed9366>+= </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>;
</span><span>        text_query</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mut</span><span>(text_to_update</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span>)</span><span style=color:#ed9366>.</span><span style=color:#f07171>unwrap</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0 </span><span style=color:#ed9366>= </span><span style=color:#f07171>format!</span><span>(
</span><span>            </span><span style=color:#86b300>"</span><span style=color:#ff8f40>{}</span><span style=color:#86b300> [Over: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Enter: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Leave: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Out: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>]"</span><span style=color:#61676ccc>,
</span><span>            event_counter</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> over_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> enter_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> leave_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> out_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0
</span><span>        )</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>handle_out</span><span>(
</span><span>    </span><span style=color:#ff8f40>on_over</span><span style=color:#61676ccc>: </span><span>On&LTPointer&LTOut>>,
</span><span>    </span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>query</span><span style=color:#61676ccc>: </span><span>Query<(
</span><span>        </span><span style=color:#ed9366>&</span><span>EventCounter,
</span><span>        </span><span style=color:#ed9366>&</span><span>OverCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>EnterCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>LeaveCount,
</span><span>        </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> OutCount,
</span><span>        </span><span style=color:#ed9366>&</span><span>TextToUpdate,
</span><span>    )>,
</span><span>    </span><span style=color:#fa6e32>mut </span><span style=color:#ff8f40>text_query</span><span style=color:#61676ccc>: </span><span>Query<</span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut</span><span> Text>
</span><span>) {
</span><span>    </span><span style=color:#fa6e32>if let </span><span style=color:#55b4d4;font-style:italic>Ok</span><span>((event_counter</span><span style=color:#61676ccc>,</span><span> over_count</span><span style=color:#61676ccc>,</span><span> enter_count</span><span style=color:#61676ccc>,</span><span> leave_count</span><span style=color:#61676ccc>, </span><span style=color:#fa6e32>mut</span><span> out_count</span><span style=color:#61676ccc>,</span><span> text_to_update)) </span><span style=color:#ed9366>=
</span><span>        query</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mut</span><span>(on_over</span><span style=color:#ed9366>.</span><span style=color:#f07171>event_target</span><span>())
</span><span>    {
</span><span>        out_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0 </span><span style=color:#ed9366>+= </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>;
</span><span>        text_query</span><span style=color:#ed9366>.</span><span style=color:#f07171>get_mut</span><span>(text_to_update</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span>)</span><span style=color:#ed9366>.</span><span style=color:#f07171>unwrap</span><span>()</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0 </span><span style=color:#ed9366>= </span><span style=color:#f07171>format!</span><span>(
</span><span>            </span><span style=color:#86b300>"</span><span style=color:#ff8f40>{}</span><span style=color:#86b300> [Over: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Enter: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Leave: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Out: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>]"</span><span style=color:#61676ccc>,
</span><span>            event_counter</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> over_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> enter_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> leave_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0</span><span style=color:#61676ccc>,</span><span> out_count</span><span style=color:#ed9366>.</span><span style=color:#ff8f40>0
</span><span>        )</span><span style=color:#61676ccc>;
</span><span>    }
</span><span>}
</span></code></pre></details><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a long-standing problem in Bevy’s picking system where parent entities receive redundant <code>Pointer&LTOut></code> → <code>Pointer&LTOver></code> event pairs when hovering moves between child elements. The issue (#16289) was documented in the picking system’s own documentation, which acknowledged that “Additional hierarchy-aware events will be added in a future release.”<p>The core problem stemmed from how <code>Pointer&LTOut></code> and <code>Pointer&LTOver></code> events propagate through the entity hierarchy. When a pointer moves from one child to another within the same parent, the parent entity would receive both an <code>Out</code> event (for losing hover from the first child) and an <code>Over</code> event (for gaining hover through the second child), even though the pointer never actually left the parent’s area. This behavior was particularly problematic for UI elements where developers often need to track when the pointer enters or leaves a container, not just individual children.<p>The solution introduces two new event types: <code>Pointer&LTEnter></code> and <code>Pointer&LTLeave></code>. These events are specifically designed to be hierarchy-aware and provide the intuitive behavior that developers expect. Unlike <code>Over</code> and <code>Out</code>, which propagate automatically to all ancestors, <code>Enter</code> and <code>Leave</code> events are sent without propagation and use a more sophisticated algorithm to determine which entities should receive them.<p>The implementation required several interconnected changes. First, the <code>Pointer&LTE></code> struct was extended with a <code>propagate</code> field to control whether events should bubble up through the hierarchy. The existing <code>Pointer::new</code> constructor creates propagating events, while a new <code>Pointer::new_without_propagate</code> constructor creates non-propagating events. The <code>PointerTraversal</code> system was modified to respect this flag, preventing <code>Enter</code> and <code>Leave</code> events from automatically propagating to parent entities.<p>The core logic for determining which entities receive <code>Enter</code> and <code>Leave</code> events is in the <code>pointer_events</code> system. The system maintains a cache of ancestors for each hovered entity using a new <code>HoveredEntityAncestors</code> type. When the pointer moves, the system calculates which entities should receive <code>Leave</code> events by comparing the ancestors of previously hovered entities with those currently hovered. Similarly, it determines which entities should receive <code>Enter</code> events by comparing current hovered entities with previously hovered ones. This ancestor-based approach ensures that shared ancestors don’t receive redundant events when hovering moves between their children.<p>The events themselves include additional context: <code>Enter</code> has an <code>is_in_bounds</code> field indicating whether the pointer directly entered the entity’s bounds (as opposed to entering a child that extends beyond the parent), and <code>Leave</code> has a corresponding <code>was_in_bounds</code> field. This matches the behavior of <code>mouseenter</code> and <code>mouseleave</code> events in web browsers, providing a familiar API for developers.<p>Two helper functions were added to <code>hover.rs</code> to support this logic: <code>get_hovered_entities</code> extracts all entities hovered by a specific pointer, and <code>is_directly_hovered</code> checks if an entity is directly hovered (as opposed to receiving hover through propagation).<p>The PR includes comprehensive tests that verify the correct behavior of the new events in various scenarios, including when children extend beyond parent bounds and when hovering moves between siblings. The tests demonstrate that shared ancestors correctly don’t receive <code>Enter</code> or <code>Leave</code> events when hovering moves between their children.<p>From an architectural perspective, this change maintains backward compatibility. The existing <code>Over</code> and <code>Out</code> events continue to work as before, providing the bubbling behavior that some use cases might still require. The new <code>Enter</code> and <code>Leave</code> events offer an alternative for developers who need hierarchy-aware behavior. The implementation is efficient, using cached ancestor sets to avoid repeated hierarchy traversals during the event dispatch process.<p>This PR represents a significant improvement to Bevy’s picking system, addressing a known pain point for UI development while maintaining the flexibility and performance characteristics expected in a game engine.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[Hover State Change] --> B[pointer_events System]
</span><span>    B --> C[Calculate Ancestors]
</span><span>    C --> D[Determine Enter Events]
</span><span>    C --> E[Determine Leave Events]
</span><span>    D --> F[Send Pointer&LTEnter>]
</span><span>    E --> G[Send Pointer&LTLeave>]
</span><span>    F --> H[Non-propagating]
</span><span>    G --> H
</span><span>    B --> I[Send Pointer&LTOver>/&LTOut>]
</span><span>    I --> J[Propagating]
</span><span>    
</span><span>    subgraph "Event Comparison"
</span><span>        K[Previous Hover] --> L[Ancestor Cache]
</span><span>        M[Current Hover] --> L
</span><span>        L --> N[Enter/Leave Logic]
</span><span>    end
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><h3 id=crates-bevy-picking-src-events-rs-575-18><code>crates/bevy_picking/src/events.rs</code> (+575/-18)</h3><p>This is the main file with the majority of changes. It adds the new <code>Enter</code> and <code>Leave</code> event types, extends the <code>Pointer</code> struct with propagation control, implements the ancestor caching logic, and updates the <code>pointer_events</code> system to handle the new events.<p>Key additions:<ol><li>New <code>Enter</code> and <code>Leave</code> event structs with additional context fields<li><code>propagate</code> field added to <code>Pointer&LTE></code> struct<li><code>HoveredEntityAncestors</code> cache type for efficient ancestor lookups<li>Updated <code>pointer_events</code> system with logic for dispatching <code>Enter</code> and <code>Leave</code> events<li>Comprehensive test suite for the new functionality</ol><p>Example of the new event types:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Clone</span><span style=color:#61676ccc>,</span><span> PartialEq</span><span style=color:#61676ccc>,</span><span> Debug</span><span style=color:#61676ccc>,</span><span> Reflect)]
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>reflect</span><span>(Clone</span><span style=color:#61676ccc>,</span><span> PartialEq)]
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>Enter </span><span>{
</span><span>    </span><span style=color:#fa6e32>pub </span><span>hit</span><span style=color:#61676ccc>:</span><span> HitData,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>is_in_bounds</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>bool</span><span>,
</span><span>}
</span><span>
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Clone</span><span style=color:#61676ccc>,</span><span> PartialEq</span><span style=color:#61676ccc>,</span><span> Debug</span><span style=color:#61676ccc>,</span><span> Reflect)]
</span><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>reflect</span><span>(Clone</span><span style=color:#61676ccc>,</span><span> PartialEq)]
</span><span style=color:#fa6e32>pub struct </span><span style=color:#399ee6>Leave </span><span>{
</span><span>    </span><span style=color:#fa6e32>pub </span><span>hit</span><span style=color:#61676ccc>:</span><span> HitData,
</span><span>    </span><span style=color:#fa6e32>pub </span><span>was_in_bounds</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>bool</span><span>,
</span><span>}
</span></code></pre><h3 id=crates-bevy-picking-src-hover-rs-28-0><code>crates/bevy_picking/src/hover.rs</code> (+28/-0)</h3><p>Added helper functions to support the new event logic:<ul><li><code>get_hovered_entities</code>: Extracts all entities hovered by a pointer<li><code>is_directly_hovered</code>: Checks if an entity is directly hovered (not through propagation)</ul><p>Example:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>pub</span><span>(</span><span style=color:#fa6e32>crate</span><span>) </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>get_hovered_entities</span><span>(
</span><span>    </span><span style=color:#ff8f40>hover_map</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span>HashMap&LTPointerId, HashMap&LTEntity, HitData>>,
</span><span>    </span><span style=color:#ff8f40>pointer_id</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span>PointerId,
</span><span>) </span><span style=color:#61676ccc>-> </span><span>HashSet&LTEntity> {
</span><span>    hover_map
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>get</span><span>(pointer_id)
</span><span>        </span><span style=color:#ed9366>.</span><span style=color:#f07171>map_or</span><span>(HashSet</span><span style=color:#ed9366>::</span><span>default()</span><span style=color:#61676ccc>, </span><span>|</span><span style=color:#ff8f40>entity_hit</span><span>| {
</span><span>            entity_hit
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>iter</span><span>()
</span><span>                </span><span style=color:#ed9366>.</span><span style=color:#f07171>map</span><span>(|(&</span><span style=color:#ff8f40>entity</span><span style=color:#61676ccc>,</span><span> _)| entity)
</span><span>                </span><span style=color:#ed9366>.</span><span>collect</span><span style=color:#ed9366>::</span><span>&LTHashSet&LTEntity>>()
</span><span>        })
</span><span>}
</span></code></pre><h3 id=examples-ui-navigation-directional-navigation-rs-6-6-and-examples-ui-navigation-directional-navigation-overrides-rs-6-6><code>examples/ui/navigation/directional_navigation.rs</code> (+6/-6) and <code>examples/ui/navigation/directional_navigation_overrides.rs</code> (+6/-6)</h3><p>Updated examples to use the new <code>Pointer::new</code> constructor API. The examples were previously using struct literal syntax which was deprecated in favor of the constructor method.<p>Before:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span>commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>trigger</span><span>(Pointer</span><span style=color:#ed9366>::</span><span>&LTClick> {
</span><span>    entity</span><span style=color:#61676ccc>:</span><span> focused_entity</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other fields
</span><span>})</span><span style=color:#61676ccc>;
</span></code></pre><p>After:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span>commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>trigger</span><span>(Pointer</span><span style=color:#ed9366>::</span><span>new(
</span><span>    PointerId</span><span style=color:#ed9366>::</span><span>Mouse</span><span style=color:#61676ccc>,
</span><span>    Location { </span><span style=color:#abb0b6;font-style:italic>/* ... */ </span><span>}</span><span style=color:#61676ccc>,
</span><span>    Click { </span><span style=color:#abb0b6;font-style:italic>/* ... */ </span><span>}</span><span style=color:#61676ccc>,
</span><span>    focused_entity</span><span style=color:#61676ccc>,
</span><span>))</span><span style=color:#61676ccc>;
</span></code></pre><h3 id=crates-bevy-picking-src-lib-rs-2-0><code>crates/bevy_picking/src/lib.rs</code> (+2/-0)</h3><p>Registered the new <code>Pointer&LTEnter></code> and <code>Pointer&LTLeave></code> events with Bevy’s message system so they can be used by applications.<h2 id=further-reading>Further Reading</h2><ul><li><a rel="noopener nofollow noreferrer" href=https://docs.rs/bevy_picking/latest/bevy_picking/ target=_blank>Bevy Picking Documentation</a> - For understanding the picking system architecture<li><a rel="noopener nofollow noreferrer" href=https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseenter_event target=_blank>DOM mouseenter/mouseleave Events</a> - The web standard that inspired this implementation<li><a rel="noopener nofollow noreferrer" href=https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#event_bubbling_and_capture target=_blank>Event Bubbling and Capturing</a> - Concepts relevant to understanding the difference between propagating and non-propagating events</ul></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22991.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>