<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://unknownue.github.io name=base><title>
         #22808 Warn About Risks of Crashing the Renderer
        
    </title><meta content="#22808 Warn About Risks of Crashing the Renderer" property=og:title><meta content="A personal blog built with Zola and Apollo theme" property=og:description><meta content="A personal blog built with Zola and Apollo theme" name=description><link href=/icons/favicon.png rel=icon type=image/png><link href=https://unknownue.github.io/fonts.css rel=stylesheet><script src=https://unknownue.github.io/js/codeblock.js></script><script src=https://unknownue.github.io/js/toc.js></script><script src=https://unknownue.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Unknownue's Blog" href=https://unknownue.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://unknownue.github.io/theme/light.css rel=stylesheet><link href=https://unknownue.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://unknownue.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://unknownue.github.io/main.css media=screen rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script><script>// Initialize mermaid once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: false,
                theme: document.body && document.body.classList.contains('dark') ? 'dark' : 'default',
                securityLevel: 'loose',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    actorMargin: 50,
                    width: 150,
                    height: 65
                }
            });
        });</script><script src=https://unknownue.github.io/js/main.js></script><script defer src=https://unknownue.github.io/js/label-colors.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/cpp.min.js></script><script>// Ensure highlight.js is properly configured
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof hljs !== 'undefined') {
                hljs.configure({
                    languages: ['rust', 'javascript', 'python', 'cpp', 'go', 'typescript'],
                    ignoreUnescapedHTML: true
                });
                console.log('Highlight.js configured in header');
            }
        });</script><link href=https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html-ui.min.js></script><script src=https://unknownue.github.io/js/syntax-highlight.js></script><script src=https://unknownue.github.io/js/diff-sidebar.js></script><script src="https://unknownue.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://unknownue.github.io>Unknownue's Blog</a><div class=socials><a class=social href=https://github.com/unknownue rel=me> <img alt=github src=https://unknownue.github.io/icons/social/github.svg> </a><a class=social href=https://github.com/unknownue/unknownue.github.io rel=me> <img alt=github-io src=https://unknownue.github.io/icons/social/rss.svg> </a></div></div><nav><a href=https://unknownue.github.io/posts style=margin-left:.25em>/posts</a><a href=https://unknownue.github.io/projects style=margin-left:.25em>/projects</a><a href=https://unknownue.github.io/about style=margin-left:.25em>/about</a><a href=https://unknownue.github.io/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://unknownue.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://unknownue.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://unknownue.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><div class=pull-request-page><article class=md-content-page style=display:none></article><div class=back-link><a href=/pull_request/bevy/2026-02/>← Back to Pull Requests</a></div><div class=pr-metadata><span class=pr-date>2026-02-05</span><div class=language-switcher><span class="lang-link active" data-lang=en>English</span> / <a class=lang-link data-lang=zh-cn href=/pull_request/bevy/2026-02/pr-22808-zh-cn-20260205>中文</a></div></div><div class=pr-content><h1 id=title-warn-about-risks-of-crashing-the-renderer>Title: Warn About Risks of Crashing the Renderer</h1><h2 id=basic-information>Basic Information</h2><ul><li><strong>Title</strong>: warn about risks of crashing the renderer<li><strong>PR Link</strong>: https://github.com/bevyengine/bevy/pull/22808<li><strong>Author</strong>: mockersf<li><strong>Status</strong>: MERGED<li><strong>Labels</strong>: A-Rendering, C-Examples, S-Ready-For-Final-Review<li><strong>Created</strong>: 2026-02-05T00:36:21Z<li><strong>Merged</strong>: 2026-02-05T01:28:37Z<li><strong>Merged By</strong>: alice-i-cecile</ul><h2 id=description-translation>Description Translation</h2><p>The PR description is already in English:<h1 id=objective>Objective</h1><ul><li>The new render_recovery example can crash so hard that it’s needed to restart to fully recover</ul><h2 id=solution>Solution</h2><ul><li>Warn users about it</ul><h2 id=the-story-of-this-pull-request>The Story of This Pull Request</h2><p>This PR addresses a practical concern with a testing example in the Bevy game engine. The <code>render_recovery.rs</code> example was recently added to demonstrate how Bevy handles renderer crashes and recovery scenarios, but it turns out some of these crashes can be severe enough to require a full system restart. This creates a user experience issue where developers running the example might not realize the potential consequences.<p>The problem was straightforward but important: when users run the <code>render_recovery</code> example, they can trigger various types of renderer errors including OutOfMemory errors, Validation errors, and device loss scenarios. Some of these, particularly device destruction and infinite compute shader loops, can cause the renderer to crash in ways that the operating system or driver may not recover from cleanly. In worst-case scenarios, users might need to restart their entire computer to fully restore graphics functionality.<p>The solution is minimal but effective - adding a clear warning message at the beginning of the example’s help text. This approach follows the principle of least surprise and helps prevent frustration for developers who might otherwise run the example without understanding the risks. The warning is placed prominently as the first line of the text that appears when running the example, ensuring users see it before they interact with any of the potentially dangerous features.<p>Technically, this change modifies only the string literal in the example’s setup function. The implementation is simple but important for user safety:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span>Text</span><span style=color:#ed9366>::</span><span>new(
</span><span>    </span><span style=color:#86b300>"Press O to trigger an OutOfMemory error</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press V to trigger a Validation error</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press D to Destroy the render device (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press L to Loop infinitely in a compute shader (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press R to Reset the render device (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press S to trigger a Surface error (causes swapchain invalid)"
</span><span>)
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span>Text</span><span style=color:#ed9366>::</span><span>new(
</span><span>    </span><span style=color:#86b300>"Test at your own risk: you may need to restart your computer to fully recover</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press O to trigger an OutOfMemory error</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press V to trigger a Validation error</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press D to Destroy the render device (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press L to Loop infinitely in a compute shader (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press R to Reset the render device (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>     Press S to trigger a Surface error (causes swapchain invalid)"
</span><span>)
</span></code></pre><p>The key insight here is that while the <code>render_recovery</code> example serves an important educational purpose - showing developers how to handle graphics API errors and device loss - it also has real consequences when run. Graphics drivers, particularly on certain operating systems or with specific hardware, can enter unrecoverable states when certain low-level operations fail. This is especially true for operations that destroy render devices or create infinite loops in compute shaders, which can hang the GPU or cause driver timeouts that require system intervention.<p>The impact of this change is primarily on developer experience. By adding this warning, Bevy maintains transparency about the risks of its testing examples while still providing valuable tools for understanding renderer error handling. This approach balances educational value with user protection, ensuring that developers can learn about render recovery mechanisms without unexpected system instability.<p>From an engineering perspective, this PR demonstrates good practice in maintaining examples that interact with low-level systems: always warn users about potential side effects, especially when those effects could be system-wide. It also highlights the reality of working with graphics APIs - some operations can have consequences beyond the application itself, and responsible documentation should reflect this.<h2 id=visual-representation>Visual Representation</h2><pre class=language-mermaid data-lang=mermaid style=color:#61676c;background-color:#fafafa><code class=language-mermaid data-lang=mermaid><span>graph TD
</span><span>    A[render_recovery Example] --> B[User Runs Example]
</span><span>    B --> C{User Triggers Error}
</span><span>    C -->|OutOfMemory| D[Recoverable Error]
</span><span>    C -->|Validation Error| D
</span><span>    C -->|Surface Error| D
</span><span>    C -->|Destroy Device| E[Potential System Restart Required]
</span><span>    C -->|Infinite Compute Loop| E
</span><span>    C -->|Reset Device| E
</span><span>    D --> F[Normal Recovery]
</span><span>    E --> G[Warning Added in PR]
</span><span>    G --> H[User Informed of Risks]
</span></code></pre><h2 id=key-files-changed>Key Files Changed</h2><p><strong>File</strong>: <code>examples/app/render_recovery.rs</code><p><strong>Change</strong>: Added a warning message to the example’s help text to inform users that some renderer crashes might require a system restart to fully recover.<p><strong>Code diff</strong>:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#abb0b6;font-style:italic>// Before:
</span><span>commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>    Text</span><span style=color:#ed9366>::</span><span>new(
</span><span>        </span><span style=color:#86b300>"Press O to trigger an OutOfMemory error</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press V to trigger a Validation error</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press D to Destroy the render device (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press L to Loop infinitely in a compute shader (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press R to Reset the render device (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press S to trigger a Surface error (causes swapchain invalid)"
</span><span>    )</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other components
</span><span>))</span><span style=color:#61676ccc>;
</span><span>
</span><span style=color:#abb0b6;font-style:italic>// After:
</span><span>commands</span><span style=color:#ed9366>.</span><span style=color:#f07171>spawn</span><span>((
</span><span>    Text</span><span style=color:#ed9366>::</span><span>new(
</span><span>        </span><span style=color:#86b300>"Test at your own risk: you may need to restart your computer to fully recover</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press O to trigger an OutOfMemory error</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press V to trigger a Validation error</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press D to Destroy the render device (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press L to Loop infinitely in a compute shader (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press R to Reset the render device (causes device lost error)</span><span style=color:#4cbf99>\n</span><span style=color:#61676ccc>\
</span><span style=color:#86b300>         Press S to trigger a Surface error (causes swapchain invalid)"
</span><span>    )</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#abb0b6;font-style:italic>// ... other components (unchanged)
</span><span>))</span><span style=color:#61676ccc>;
</span></code></pre><p><strong>Relationship to PR purpose</strong>: This single-line addition addresses the core issue by warning users about the potential severity of crashes before they interact with the example’s error-triggering features.<h2 id=further-reading>Further Reading</h2><ol><li><a rel="noopener nofollow noreferrer" href=https://bevyengine.org/learn/error-handling/ target=_blank>Bevy Engine Documentation on Error Handling</a><li><a rel="noopener nofollow noreferrer" href=https://gpuopen.com/learn/error-handling-in-graphics-apis/ target=_blank>Graphics API Error Recovery Patterns</a><li><a rel="noopener nofollow noreferrer" href=https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#devsandqueues-lost-device target=_blank>Vulkan Device Loss Recovery</a><li><a rel="noopener nofollow noreferrer" href=https://docs.microsoft.com/en-us/windows/win32/direct3d12/handling-device-removal target=_blank>DirectX 12 Device Removal Handling</a><li><a rel="noopener nofollow noreferrer" href=https://gpuweb.github.io/gpuweb/#error-handling target=_blank>WebGPU Error Handling</a></ol><h1 id=full-code-diff>Full Code Diff</h1><pre style=color:#61676c;background-color:#fafafa><code><span>diff --git a/examples/app/render_recovery.rs b/examples/app/render_recovery.rs
</span><span>index acdca3c1b9833..a79416f859e52 100644
</span><span>--- a/examples/app/render_recovery.rs
</span><span>+++ b/examples/app/render_recovery.rs
</span><span>@@ -63,7 +63,8 @@ fn setup(
</span><span>     // help text
</span><span>     commands.spawn((
</span><span>         Text::new(
</span><span>-            "Press O to trigger an OutOfMemory error\n\
</span><span>+            "Test at your own risk: you may need to restart your computer to fully recover\n\
</span><span>+            Press O to trigger an OutOfMemory error\n\
</span><span>             Press V to trigger a Validation error\n\
</span><span>             Press D to Destroy the render device (causes device lost error)\n\
</span><span>             Press L to Loop infinitely in a compute shader (causes device lost error)\n\
</span></code></pre></div><div data-is-md-page=true data-patch-exists=true data-patch-path=/pull_request/bevy/2026-02/pr_22808.patch id=patch-info style=display:none></div><div class=bottom-spacer></div></div></div>