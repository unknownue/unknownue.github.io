/* Diff2HTML Styling - Responsive Layout and View Modes */
/* Global visibility fixes */
body .diff-container div.d2h-wrapper,
body .diff-container div.d2h-file-wrapper,
body .diff-container div.d2h-files-diff,
body .diff-container div.d2h-file-diff {
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: auto !important;
}

/* Force flex layout to allow left and right sides to display side by side */
body .diff-container div.d2h-file-diff {
    display: flex !important;
    flex-direction: row !important;
    align-items: stretch !important;
}

/* Force setting the width and visibility of the left and right sides */
body .diff-container div.d2h-file-side-diff {
    display: inline-block !important;
    width: 50% !important;
    min-width: 50% !important;
    max-width: 50% !important;
    float: left !important;
    overflow-x: visible !important;
    flex: 1 !important;
}

/* Ensure file header displays correctly */
body .diff-container .d2h-file-header {
    width: 100% !important;
    display: flex !important;
}

/* Fix layout for single column view */
body .diff-container.d2h-inline-file div.d2h-file-diff {
    display: block !important;
}

body .diff-container.d2h-inline-file div.d2h-file-side-diff {
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
    float: none !important;
}

/* Restore table structure layout */
body .diff-container div.d2h-file-side-diff table.d2h-diff-table {
    width: 100% !important;
    max-width: 100% !important;
    display: table !important;
    table-layout: fixed !important;
}

/* Ensure row layout is correct */
body .diff-container div.d2h-file-side-diff tr {
    display: table-row !important;
}

/* Fix cell layout */
body .diff-container div.d2h-file-side-diff td.d2h-code-side-linenumber,
body .diff-container div.d2h-file-side-diff td.d2h-code-side-line {
    display: table-cell !important;
}

/* Set line number and code width ratio */
body .diff-container div.d2h-file-side-diff td.d2h-code-side-linenumber {
    width: 40px !important;
    min-width: 40px !important;
    max-width: 40px !important;
}

body .diff-container div.d2h-file-side-diff td.d2h-code-side-line {
    width: calc(100% - 40px) !important;
}

/* Ensure code content is visible */
body .diff-container div.d2h-file-side-diff td.d2h-code-side-line .d2h-code-line-ctn {
    width: 100% !important;
    display: inline-block !important;
    white-space: pre-wrap !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    height: auto !important;
    min-height: unset !important;
    line-height: 1.3 !important;
}

/* Remove float interference */
body .diff-container div.d2h-file-side-diff::after {
    content: "";
    display: table;
    clear: both;
}

/* Fix inline view width */
body .diff-container div.d2h-file-diff.d2h-inline-file-diff {
    display: block !important;
}

/* Ensure both left and right views render and display correctly */
body .diff-container.side-by-side-file-diff div.d2h-file-diff {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    width: 100% !important;
    max-width: 100% !important;
}

/* Ensure both left and right sides have correct width and no overflow hidden */
body .diff-container.side-by-side-file-diff div.d2h-file-side-diff {
    display: block !important;
    width: 50% !important;
    min-width: 50% !important;
    max-width: 50% !important;
    overflow-x: visible !important;
    flex: 1 1 50% !important;
}

/* Force table and table body size to match container */
body .diff-container.side-by-side-file-diff div.d2h-file-side-diff table.d2h-diff-table,
body .diff-container.side-by-side-file-diff div.d2h-file-side-diff tbody.d2h-diff-tbody {
    width: 100% !important;
    display: table !important;
}

/* Clearly distinguish different view types */
body .diff-container:not(.d2h-inline-file) .d2h-file-diff {
    display: flex !important;
}

body .diff-container.d2h-inline-file .d2h-file-diff {
    display: block !important;
}

/* Handle special cases for DOM structure generated by Diff2HtmlUI */
body .d2h-wrapper > .d2h-file-wrapper > .d2h-file-diff {
    display: flex !important;
    width: 100% !important;
}

body .d2h-wrapper > .d2h-file-wrapper > .d2h-file-diff > .d2h-file-side-diff {
    display: block !important;
    width: 50% !important;
    float: left !important;
}

/* Special handling for inline mode */
body .d2h-file-wrapper > .d2h-file-diff.d2h-inline-file-diff {
    display: block !important;
}

body .d2h-file-wrapper > .d2h-file-diff.d2h-inline-file-diff > .d2h-file-side-diff {
    width: 100% !important;
    float: none !important;
}

/* Fix width issue in unified view (inline view) */
/* 1. Ensure content is full width in inline view */
.diff-container.d2h-inline-file .d2h-file-side-diff {
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
    float: none !important;
}

/* 2. Fix table layout in inline view */
.diff-container.d2h-inline-file .d2h-file-diff {
    display: block !important;
    width: 100% !important;
}

/* 3. Ensure content in inline view uses full width */
.diff-container.d2h-inline-file .d2h-code-line-ctn {
    width: 100% !important;
    display: inline-block !important;
    white-space: pre !important;
    word-break: normal !important;
    overflow-wrap: normal !important;
    height: auto !important;
    min-height: unset !important;
    line-height: 1.3 !important;
}

/* 4. Fix file side block layout in inline view */
.diff-container.d2h-inline-file .d2h-file-wrapper,
.diff-container.d2h-inline-file .d2h-files-diff,
.diff-container.d2h-inline-file .d2h-file-diff,
.diff-container.d2h-inline-file .d2h-code-wrapper,
.diff-container.d2h-inline-file .d2h-diff-tbody {
    width: 100% !important;
    max-width: 100% !important;
    float: none !important;
    display: block !important;
}

/* 5. Reset cell width in inline view */
.diff-container.d2h-inline-file td.d2h-code-linenumber {
    width: 50px !important;
    min-width: 50px !important;
}

.diff-container.d2h-inline-file td.d2h-code-line {
    width: calc(100% - 50px) !important;
    height: auto !important;
    min-height: 24px !important;
}

/* Force override inline view styles, ensure priority */
body .diff-container.d2h-inline-file div.d2h-file-diff,
html body .diff-container.d2h-inline-file div.d2h-file-diff {
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
}

body .diff-container.d2h-inline-file div.d2h-file-side-diff,
html body .diff-container.d2h-inline-file div.d2h-file-side-diff {
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
    float: none !important;
    flex: 1 1 100% !important;
}

body .diff-container.d2h-inline-file div.d2h-file-side-diff table,
html body .diff-container.d2h-inline-file div.d2h-file-side-diff table {
    width: 100% !important;
}

/* Fix table content display */
body .diff-container.d2h-inline-file td.d2h-code-line {
    width: calc(100% - 50px) !important;
    height: auto !important;
    min-height: 24px !important;
}

body .diff-container.d2h-inline-file td.d2h-code-line .d2h-code-line-ctn {
    width: 100% !important;
    display: inline-block !important;
    white-space: pre !important;
    word-break: normal !important;
    overflow-wrap: normal !important;
    height: auto !important;
    min-height: unset !important;
    line-height: 1.3 !important;
}

/* Add horizontal scrolling for code lines container in inline view */
body .diff-container.d2h-inline-file .d2h-file-side-diff,
body .diff-container.d2h-inline-file .d2h-code-wrapper,
body .diff-container.d2h-inline-file .d2h-diff-tbody {
    overflow-x: auto !important;
}

/* Ensure inline file content is visible */
body .diff-container.d2h-inline-file .d2h-file-diff.d2h-inline-file-diff {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: auto !important;
}

/* Adjust inline view line number font size */
.d2h-code-line-ctn .d2h-code-linenumber {
    font-size: 12px !important;
    width: 40px !important; /* Ensure width uniformity */
    min-width: 40px !important;
}

/* Unify line number styles in both views */
.d2h-code-side-linenumber, .d2h-code-linenumber {
    font-size: 12px !important;
} 