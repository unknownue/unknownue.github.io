{% extends "base.html" %}

{% block main_content %}
    <div class="pull-request-page">
        <h1>{{ page.title }}</h1>
        <div class="pr-metadata">
            <span class="pr-date">{{ page.date | date(format="%Y-%m-%d") }}</span>
            <div class="language-switcher">
                <a href="#" class="lang-link" data-lang="en">English</a> / 
                <a href="#" class="lang-link" data-lang="zh-cn">中文</a> / 
                <a href="#" class="lang-link" data-lang="fr">Français</a>
            </div>
        </div>
        
        <div class="pr-content">
            {{ page.content | safe }}
        </div>
        
        <div class="back-link">
            <a href="{{ page.ancestors | last }}">← Back to Pull Requests</a>
        </div>
    </div>
    
    <style>
        .pull-request-page {
            max-width: 800px;
            margin: 0 auto;
        }
        .pr-metadata {
            margin-bottom: 20px;
            color: #666;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .language-switcher {
            text-align: right;
        }
        .lang-link {
            text-decoration: none;
            color: #666;
            padding: 2px 4px;
            transition: color 0.2s, background-color 0.2s;
        }
        .lang-link:hover {
            color: #333;
            text-decoration: underline;
        }
        .lang-link.active {
            font-weight: bold;
            color: #333;
        }
        .pr-content {
            margin-bottom: 30px;
        }
        .back-link {
            margin-top: 30px;
            margin-bottom: 30px;
        }
    </style>

    <script>
        // Language switcher functionality (UI only for now)
        document.querySelectorAll('.lang-link').forEach(function(link) {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remove active class from all links
                document.querySelectorAll('.lang-link').forEach(function(l) {
                    l.classList.remove('active');
                });
                
                // Add active class to clicked link
                this.classList.add('active');
                
                // This is just a placeholder for future implementation
                console.log('Language changed to: ' + this.getAttribute('data-lang'));
                // In the future, this would redirect or load translated content
            });
        });
        
        // Set English as default active language
        document.querySelector('[data-lang="en"]').classList.add('active');
    </script>
{% endblock main_content %} 